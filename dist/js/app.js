(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var PIXI = require("../dependencies/pixi.min");

'use strict';

/**
 * Simple wrapper for PIXI's Sprite class
 */
var Sprite = function(texture, x, y) {
    PIXI.Sprite.call(this, texture);
    this.x = x;
    this.y = y;
    this.anchor.x = 0.5;
    this.anchor.y = 0.5;
}

Sprite.prototype = Object.create(PIXI.Sprite.prototype);

module.exports = Sprite;
}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/base\\Sprite.js","/base")
},{"../dependencies/pixi.min":4,"buffer":9,"e/U+97":11}],2:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
'use strict';

/**
 * Static utils class for generic functionality
 */
var Utils = {
    displayWidth : 1024,
    displayHeight : 576,
    shuffleArray : function(a) {
        var j, x, i;
        for (i = a.length; i; i--) {
            j = Math.floor(Math.random() * i);
            x = a[i - 1];
            a[i - 1] = a[j];
            a[j] = x;
        }
    }
}

module.exports = Utils;
}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/base\\Utils.js","/base")
},{"buffer":9,"e/U+97":11}],3:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
/*!
 * VERSION: 1.19.1
 * DATE: 2017-01-17
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.19.1",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||f)for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next;return this},k.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,f,i,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._totalTime,q=this._cycle,r=this._duration,s=this._rawPrevTime;if(a>=n-1e-7&&a>=0?(this._totalTime=n,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=r,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===r&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>s||0>=a&&a>=-1e-7||s===g&&"isPause"!==this.data)&&s!==a&&(c=!0,s>g&&(e="onReverseComplete")),this._rawPrevTime=m=!b||a||s===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===r&&s>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===r&&(this._initted||!this.vars.lazy||c)&&(s>=0&&(c=!0),this._rawPrevTime=m=!b||a||s===a?a:g)),this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(i=r+this._repeatDelay,this._cycle=this._totalTime/i>>0,0!==this._cycle&&this._cycle===this._totalTime/i&&a>=p&&this._cycle--,this._time=this._totalTime-this._cycle*i,this._yoyo&&0!==(1&this._cycle)&&(this._time=r-this._time),this._time>r?this._time=r:this._time<0&&(this._time=0)),this._easeType?(j=this._time/r,k=this._easeType,l=this._easePower,(1===k||3===k&&j>=.5)&&(j=1-j),3===k&&(j*=2),1===l?j*=j:2===l?j*=j*j:3===l?j*=j*j*j:4===l&&(j*=j*j*j*j),1===k?this.ratio=1-j:2===k?this.ratio=j:this._time/r<.5?this.ratio=j/2:this.ratio=1-j/2):this.ratio=this._ease.getRatio(this._time/r)),o===this._time&&!c&&q===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=o,this._totalTime=p,this._rawPrevTime=s,this._cycle=q,h.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/r):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&a>=0&&(this._active=!0),0===p&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===r)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._totalTime!==p||e)&&this._callback("onUpdate")),this._cycle!==q&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===r&&this._rawPrevTime===g&&m!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&(e(p,a,q),null!=p.duration&&(b=p.duration,delete p.duration)),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s+(p.delay||0),q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.19.1",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;o<a.length;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&(n(l,a,o),null!=l.duration&&(b=l.duration,delete l.duration)),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._startTime,q=this._timeScale,r=this._paused;if(a>=n-1e-7&&a>=0)this._totalTime=this._time=n,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=n+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==o||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=o)for(d=this._first;d&&d._startTime<=a&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==o&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==o&&a>0&&(this._active=!0),0===o&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart")),m=this._time,m>=o)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(a){return a&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=_gsScope._gsDefine.globals,j=new c(null,null,1,0),k=d.prototype=new a;return k.constructor=d,k.kill()._gc=!1,d.version="1.19.1",k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},k.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},k.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},k.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},k.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:j,useFrames:this.usesFrames(),immediateRender:!1},h=c.repeat&&i.TweenMax||b;for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new h(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time!==f.target.time()&&d===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||f,c.onStartParams||[])},f},k.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},k.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n,o=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,q=this._time,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(a>=o-1e-7&&a>=0)this._locked||(this._totalTime=o,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===e)&&u!==a&&this._first&&(k=!0,u>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=p,a=p+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==q||0===p&&u!==e&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=p||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===p&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=p+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,a=p+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b&&p>a){if(a=this._time,a>=q||this._repeat&&w!==this._cycle)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),y=x===(this._yoyo&&0!==(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*p,this._cycle<w?x=!x:this._totalTime+=p,this._time=q,this._rawPrevTime=0===p?u-1e-4:u,this._cycle=w,this._locked=!0,q=x?0:p,this.render(q,b,0===p),b||this._gc||this.vars.onRepeat&&(this._cycle=A,this._locked=!1,this._callback("onRepeat")),q!==this._time)return;if(y&&(this._cycle=w,this._locked=!0,q=x?p+1e-4:-1e-4,this.render(q,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==q&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),n=this._time,n>=q)for(d=this._first;d&&(i=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=q&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},k.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},k.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},k.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},k.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},k.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,0!==j?n.b=y:n.b=y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q]||0,d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,
h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=a[c[d]],b&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.19.1",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q,r,s=/(?:\-|\.|\b)(\d|\.|e\-)+/g,t=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,u=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,v=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,z=/alpha\(opacity *=.+?\)/i,A=/^(rgb|hsl)/,B=/([A-Z])/g,C=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(a,b){return b.toUpperCase()},F=/(?:Left|Right|Width)/i,G=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,H=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,J=/[\s,\(]/i,K=Math.PI/180,L=180/Math.PI,M={},N={style:{}},O=_gsScope.document||{createElement:function(){return N}},P=function(a,b){return O.createElementNS?O.createElementNS(b||"http://www.w3.org/1999/xhtml",a):O.createElement(a)},Q=P("div"),R=P("img"),S=g._internals={_specialProps:i},T=(_gsScope.navigator||{}).userAgent||"",U=function(){var a=T.indexOf("Android"),b=P("a");return m=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome")&&(-1===a||parseFloat(T.substr(a+8,2))>3),o=m&&parseFloat(T.substr(T.indexOf("Version/")+8,2))<6,n=-1!==T.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(T)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(T))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),V=function(a){return x.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(a){_gsScope.console&&console.log(a)},X="",Y="",Z=function(a,b){b=b||Q;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(Y=3===d?"ms":c[d],X="-"+Y.toLowerCase()+"-",Y+a):null},$=O.defaultView?O.defaultView.getComputedStyle:function(){},_=g.getStyle=function(a,b,c,d,e){var f;return U||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||$(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(B,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):V(a)},aa=S.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=F.test(c),l=a,m=Q.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+_(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||O.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(Q),h=parseFloat(Q[k?"offsetWidth":"offsetHeight"]),l.removeChild(Q),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=aa(a,c,d,e,!0))}return o&&(h/=100),n?-h:h},ba=S.calculateOffset=function(a,b,c){if("absolute"!==_(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=_(a,"margin"+d,c);return a["offset"+d]-(aa(a,b,parseFloat(e),e.replace(w,""))||0)},ca=function(a,b){var c,d,e,f={};if(b=b||$(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Da===e)&&(f[e.replace(C,E)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Ca===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(C,E)]=b[c]);return U||(f.opacity=V(a)),d=Ra(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Fa&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},da=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(v,"")?f:0:ba(a,g),void 0!==j[g]&&(h=new sa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ea={width:["Left","Right"],height:["Top","Bottom"]},fa=["marginLeft","marginRight","marginTop","marginBottom"],ga=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||$(a))[b]||0;if(a.getCTM&&Oa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ea[b],f=e.length;for(c=c||$(a,null);--f>-1;)d-=parseFloat(_(a,"padding"+e[f],c,!0))||0,d-=parseFloat(_(a,"border"+e[f]+"Width",c,!0))||0;return d},ha=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c,d=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(d.length>3&&!b){for(d=a.split(", ").join(",").split(","),a=[],c=0;c<d.length;c++)a.push(ha(d[c]));return a.join(",")}return null==f?f="center"===e?"50%":"0":"center"===f&&(f="50%"),("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),a=e+" "+f+(d.length>2?" "+d[2]:""),b&&(b.oxp=-1!==e.indexOf("%"),b.oyp=-1!==f.indexOf("%"),b.oxr="="===e.charAt(1),b.oyr="="===f.charAt(1),b.ox=parseFloat(e.replace(v,"")),b.oy=parseFloat(f.replace(v,"")),b.v=a),b||a},ia=function(a,b){return"function"==typeof a&&(a=a(r,q)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ja=function(a,b){return"function"==typeof a&&(a=a(r,q)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},ka=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return"function"==typeof a&&(a=a(r,q)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:L)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},la={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ma=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},na=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),la[a])c=la[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(s),b){if(-1!==a.indexOf("="))return a.match(t)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(a[3])),c[0]=ma(g+1/3,d,e),c[1]=ma(g,d,e),c[2]=ma(g-1/3,d,e);else c=a.match(s)||la.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=la.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},oa=function(a,b){var c,d,e,f=a.match(pa)||[],g=0,h=f.length?"":a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=na(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},pa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(j in la)pa+="|"+j+"\\b";pa=new RegExp(pa+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+a[1];pa.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=oa(a[0],b),a[1]=oa(a[1],b)),pa.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var qa=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(pa)||[""])[0]:"",g=a.split(f).join("").match(u)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(s,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(o=a.replace(I,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(pa)||[f])[0],m=a.split(b).join("").match(u)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(f=a.replace(I,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(u)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ra=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},sa=(S._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT,j=1e-6;i;)b=h[i.v],i.r?b=Math.round(b):j>b&&b>-j&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod(h.rotation,this.t):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ta=(S._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=M;for(c._transform=null,M=b,d=k=c.parse(a,b,d,e),M=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new sa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new sa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},S.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ta||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),ua=function(a,b,c,d,e,f){var g=new ta(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},va=g.parseComplex=function(a,b,c,d,e,f,h,i,j,l){c=c||f||"","function"==typeof d&&(d=d(r,q)),h=new ta(a,b,0,0,h,l?2:1,null,!1,i,c,d),d+="",e&&pa.test(d+c)&&(d=[c,d],g.colorStringFilter(d),c=d[0],d=d[1]);var m,n,o,p,u,v,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(D=D.join(" ").replace(I,", ").split(" "),E=E.join(" ").replace(I,", ").split(" "),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),h.plugin=j,h.setRatio=l,pa.lastIndex=0,m=0;F>m;m++)if(p=D[m],u=E[m],x=parseFloat(p),x||0===x)h.appendXtra("",x,ia(u,x),u.replace(t,""),G&&-1!==u.indexOf("px"),!0);else if(e&&pa.test(p))B=u.indexOf(")")+1,B=")"+(B?u.substr(B):""),C=-1!==u.indexOf("hsl")&&U,p=na(p,C),u=na(u,C),y=p.length+u.length>6,y&&!U&&0===u[3]?(h["xs"+h.l]+=h.l?" transparent":"transparent",h.e=h.e.split(E[m]).join("transparent")):(U||(y=!1),C?h.appendXtra(y?"hsla(":"hsl(",p[0],ia(u[0],p[0]),",",!1,!0).appendXtra("",p[1],ia(u[1],p[1]),"%,",!1).appendXtra("",p[2],ia(u[2],p[2]),y?"%,":"%"+B,!1):h.appendXtra(y?"rgba(":"rgb(",p[0],u[0]-p[0],",",!0,!0).appendXtra("",p[1],u[1]-p[1],",",!0).appendXtra("",p[2],u[2]-p[2],y?",":B,!0),y&&(p=p.length<4?1:p[3],h.appendXtra("",p,(u.length<4?1:u[3])-p,B,!1))),pa.lastIndex=0;else if(v=p.match(s)){if(w=u.match(t),!w||w.length!==v.length)return h;for(o=0,n=0;n<v.length;n++)A=v[n],z=p.indexOf(A,o),h.appendXtra(p.substr(o,z-o),Number(A),ia(w[n],A),"",G&&"px"===p.substr(z+A.length,2),0===n),o=z+A.length;h["xs"+h.l]+=p.substr(o)}else h["xs"+h.l]+=h.l||h["xs"+h.l]?" "+u:u;if(-1!==d.indexOf("=")&&h.data){for(B=h.xs0+h.data.s,m=1;m<h.l;m++)B+=h["xs"+m]+h.data["xn"+m];h.e=B+h["xs"+m]}return h.l||(h.type=-1,h.xs0=h.e),h.xfirst||h},wa=9;for(j=ta.prototype,j.l=j.pr=0;--wa>0;)j["xn"+wa]=0,j["xs"+wa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ta(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var xa=function(a,b){b=b||{},this.p=b.prefix?Z(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||qa(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ya=S._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new xa(f[d],b)},za=S._registerPluginProp=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ya(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(W("Error: "+b+" js file not loaded."),f)}})}};j=xa.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(I.test(c)||I.test(b)?(h=b.replace(I,"|").split("|"),i=c.replace(I,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return va(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(_(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ya(a,{parser:function(a,d,e,f,g,h,i){var j=new ta(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=!0;var Aa,Ba="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ca=Z("transform"),Da=X+"transform",Ea=Z("transformOrigin"),Fa=null!==Z("perspective"),Ga=S.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Fa?g.defaultForce3D||"auto":!1},Ha=_gsScope.SVGElement,Ia=function(a,b,c){var d,e=O.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ja=O.documentElement||{},Ka=function(){var a,b,c,d=p||/Android/i.test(T)&&!_gsScope.chrome;return O.createElementNS&&!d&&(a=Ia("svg",Ja),b=Ia("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Ea]="50% 50%",b.style[Ca]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Fa),Ja.removeChild(a)),d}(),La=function(a,b,c,d,e,f){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Qa(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(h=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ha(b).split(" "),h=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(h[0]),c.yOrigin=l=parseFloat(h[1]),d&&w!==Pa&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],s=m*p-n*o,s&&(i=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=h[0]=i,l=c.yOrigin=h[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||e!==!1&&g.defaultSmoothOrigin!==!1?(i=k-t,j=l-u,v.xOffset+=i*w[0]+j*w[2]-i,v.yOffset+=i*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",h.join(" "))},Ma=function(a){var b,c=P("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,e=this.nextSibling,f=this.style.cssText;if(Ja.appendChild(c),c.appendChild(this),this.style.display="block",a)try{b=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ma}catch(g){}else this._originalGetBBox&&(b=this._originalGetBBox());return e?d.insertBefore(this,e):d.appendChild(this),Ja.removeChild(c),this.style.cssText=f,b},Na=function(a){try{return a.getBBox()}catch(b){return Ma.call(a,!0)}},Oa=function(a){return!(!(Ha&&a.getCTM&&Na(a))||a.parentNode&&!a.ownerSVGElement)},Pa=[1,0,0,1,0,0],Qa=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ga,j=1e5,k=a.style;if(Ca?d=_(a,Da,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(G),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,c&&Ca&&((h="none"===$(a).display)||!a.parentNode)&&(h&&(f=k.display,k.display="block"),a.parentNode||(g=1,Ja.appendChild(a)),d=_(a,Da,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?k.display=f:h&&Va(k,"display"),g&&Ja.removeChild(a)),(i.svg||a.getCTM&&Oa(a))&&(c&&-1!==(k[Ca]+"").indexOf("matrix")&&(d=k[Ca],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",c=0))),c)return Pa;for(e=(d||"").match(s)||[],wa=e.length;--wa>-1;)f=Number(e[wa]),e[wa]=(g=f-(f|=0))?(g*j+(0>g?-.5:.5)|0)/j+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ra=S.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,h,i,j,k,l,m=d?a._gsTransform||new Ga:new Ga,n=m.scaleX<0,o=2e-5,p=1e5,q=Fa?parseFloat(_(a,Ea,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(g.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Oa(a)),m.svg&&(La(a,_(a,Ea,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Aa=g.useSVGTransformAttr||Ka),f=Qa(a),f!==Pa){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],M=f[11],N=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,M=E*-w+M*v,B=s,C=t,D=u),N=Math.atan2(-z,H),m.rotationY=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,M=A*w+M*v,x=s,y=t,z=u),N=Math.atan2(y,x),m.rotation=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),x=x*v+B*w,t=y*v+C*w,C=y*-w+C*v,D=z*-w+D*v,y=t),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),m.scaleX=(Math.sqrt(x*x+y*y)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+G*G)*p+.5|0)/p,m.scaleZ=(Math.sqrt(D*D+H*H)*p+.5|0)/p,m.rotationX||m.rotationY?m.skewX=0:(m.skewX=B||C?Math.atan2(B,C)*L+m.rotation:m.skewX||0,Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180))),m.perspective=M?1/(0>M?-M:M):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Fa||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,i=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*L:m.rotation||0,l=R||S?Math.atan2(R,S)*L+k:m.skewX||0,Math.abs(l)>90&&Math.abs(l)<270&&(n?(i*=-1,l+=0>=k?180:-180,k+=0>=k?180:-180):(j*=-1,l+=0>=l?180:-180)),m.scaleX=i,m.scaleY=j,m.rotation=k,m.skewX=l,Fa&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}m.zOrigin=q;for(h in m)m[h]<o&&m[h]>-o&&(m[h]=0)}return d&&(a._gsTransform=m,m.svg&&(Aa&&a.style[Ca]?b.delayedCall(.001,function(){Va(a.style,Ca)}):!Aa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Sa=function(a){var b,c,d=this.data,e=-d.rotation*K,f=e+d.skewX*K,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+q*d.xPercent/100,v=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(H,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||x.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+u),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+v),wa=0;4>wa;wa++)z=fa[wa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):aa(this.t,z,parseFloat(y),y.replace(w,""))||0,A=c!==d[z]?2>wa?-d.ieOffsetX:-d.ieOffsetY:2>wa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===wa||2===wa?1:B)))+"px"}}},Ta=S.set3DTransformRatio=S.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,L=z.svg,M=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!M&&!D&&!C&&1===G||Aa&&L||!Fa)return void(B||P||L?(B*=K,x=P*K,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*K),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b)),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Aa&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",L&&Aa?this.t.setAttribute("transform","matrix("+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(n&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||P)B*=K,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*K,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*K),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||M||L))return void(A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,o=M?-1/M:0,p=z.zOrigin,q=1e-6,v=",",w="0",B=D*K,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=o*-s,e=c*s,h=f*s,k=r,o*=r,c*=r,f*=r),B=C*K,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=o*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,o*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,o*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(p||L)&&(p&&(H+=e*-p,I+=h*-p,J+=k*-p+p),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>o&&o>-q?w:o)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(M?1+-J/M:1)+")",A[Ca]=u};j=Ga.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ya("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k=i.scale&&"function"==typeof i.scale?i.scale:0;"function"==typeof i[c]&&(j=i[c],i[c]=b),k&&(i.scale=k(r,a));var l,m,n,o,p,s,t,u,v,w=a._gsTransform,x=a.style,y=1e-6,z=Ba.length,A=i,B={},C="transformOrigin",D=Ra(a,e,!0,A.parseTransform),E=A.transform&&("function"==typeof A.transform?A.transform(r,q):A.transform);if(d._transform=D,E&&"string"==typeof E&&Ca)m=Q.style,m[Ca]=E,m.display="block",m.position="absolute",O.body.appendChild(Q),l=Ra(Q,null,!1),D.svg&&(s=D.xOrigin,t=D.yOrigin,l.x-=D.xOffset,l.y-=D.yOffset,(A.transformOrigin||A.svgOrigin)&&(E={},La(a,ha(A.transformOrigin),E,A.svgOrigin,A.smoothOrigin,!0),s=E.xOrigin,t=E.yOrigin,l.x-=E.xOffset-D.xOffset,l.y-=E.yOffset-D.yOffset),(s||t)&&(u=Qa(Q,!0),l.x-=s-(s*u[0]+t*u[2]),l.y-=t-(s*u[1]+t*u[3]))),O.body.removeChild(Q),l.perspective||(l.perspective=D.perspective),null!=A.xPercent&&(l.xPercent=ja(A.xPercent,D.xPercent)),null!=A.yPercent&&(l.yPercent=ja(A.yPercent,D.yPercent));else if("object"==typeof A){if(l={scaleX:ja(null!=A.scaleX?A.scaleX:A.scale,D.scaleX),scaleY:ja(null!=A.scaleY?A.scaleY:A.scale,D.scaleY),scaleZ:ja(A.scaleZ,D.scaleZ),x:ja(A.x,D.x),y:ja(A.y,D.y),z:ja(A.z,D.z),xPercent:ja(A.xPercent,D.xPercent),
yPercent:ja(A.yPercent,D.yPercent),perspective:ja(A.transformPerspective,D.perspective)},p=A.directionalRotation,null!=p)if("object"==typeof p)for(m in p)A[m]=p[m];else A.rotation=p;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(l.x=0,l.xPercent=ja(A.x,D.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(l.y=0,l.yPercent=ja(A.y,D.yPercent)),l.rotation=ka("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:D.rotation,D.rotation,"rotation",B),Fa&&(l.rotationX=ka("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",B),l.rotationY=ka("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",B)),l.skewX=ka(A.skewX,D.skewX),l.skewY=ka(A.skewY,D.skewY)}for(Fa&&null!=A.force3D&&(D.force3D=A.force3D,o=!0),D.skewType=A.skewType||D.skewType||g.defaultSkewType,n=D.force3D||D.z||D.rotationX||D.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,n||null==A.scale||(l.scaleZ=1);--z>-1;)v=Ba[z],E=l[v]-D[v],(E>y||-y>E||null!=A[v]||null!=M[v])&&(o=!0,f=new ta(D,v,D[v],E,f),v in B&&(f.e=B[v]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return E=A.transformOrigin,D.svg&&(E||A.svgOrigin)&&(s=D.xOffset,t=D.yOffset,La(a,ha(E),l,A.svgOrigin,A.smoothOrigin),f=ua(D,"xOrigin",(w?D:l).xOrigin,l.xOrigin,f,C),f=ua(D,"yOrigin",(w?D:l).yOrigin,l.yOrigin,f,C),(s!==D.xOffset||t!==D.yOffset)&&(f=ua(D,"xOffset",w?s:D.xOffset,D.xOffset,f,C),f=ua(D,"yOffset",w?t:D.yOffset,D.yOffset,f,C)),E="0px 0px"),(E||Fa&&n&&D.zOrigin)&&(Ca?(o=!0,v=Ea,E=(E||_(a,v,e,!1,"50% 50%"))+"",f=new ta(x,v,0,0,f,-1,C),f.b=x[v],f.plugin=h,Fa?(m=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2&&(0===m||"0px"!==E[2])?parseFloat(E[2]):m)||0,f.xs0=f.e=E[0]+" "+(E[1]||"50%")+" 0px",f=new ta(D,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=D.zOrigin):f.xs0=f.e=E):ha(E+"",D)),o&&(d._transformType=D.svg&&Aa||!n&&3!==this._transformType?2:3),j&&(i[c]=j),k&&(i.scale=k),f},prefix:!0}),ya("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ya("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=Z(y[j])),m=l=_(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=aa(a,"borderLeft",o,t),w=aa(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=aa(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=va(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:qa("0px 0px 0px 0px",!1,!0)}),ya("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,f,g){return va(a.style,c,this.format(_(a,c,e,!1,"0px 0px")),this.format(b),!1,"0px",f)},prefix:!0,formatter:qa("0px 0px",!1,!0)}),ya("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||$(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&r.split(",").length<2&&(m=_(a,"backgroundImage").replace(D,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),R.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-R.width:a.offsetHeight-R.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ha}),ya("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="",ha(-1===a.indexOf(" ")?a+" "+a:a)}}),ya("perspective",{defaultValue:"0px",prefix:!0}),ya("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ya("transformStyle",{prefix:!0}),ya("backfaceVisibility",{prefix:!0}),ya("userSelect",{prefix:!0}),ya("margin",{parser:ra("marginTop,marginRight,marginBottom,marginLeft")}),ya("padding",{parser:ra("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ya("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(_(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ya("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ya("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ya("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){var h=_(a,"borderTopWidth",e,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(w,"");return"px"!==j&&(h=parseFloat(h)/aa(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+_(a,"borderTopStyle",e,!1,"solid")+" "+_(a,"borderTopColor",e,!1,"#000")),i.join(" "),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(pa)||["#000"])[0]}}),ya("borderWidth",{parser:ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ya("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ta(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Ua=function(a){var b,c=this.t,d=c.filter||_(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!_(this.data,"filter")):(c.filter=d.replace(z,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(x,"opacity="+e))};ya("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(_(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===_(a,"visibility",e)&&0!==b&&(h=0),U?f=new ta(i,"opacity",h,b-h,f):(f=new ta(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ua),j&&(f=new ta(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Va=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(B,"-$1").toLowerCase())):a.removeAttribute(b))},Wa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Va(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ya("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new ta(a,d,0,0,g,2),g.setRatio=Wa,g.pr=-11,c=!0,g.b=o,k=ca(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=da(a,k,ca(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Xa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Ea:i[c].p),Va(g,c);e&&(Va(g,Ca),f=this.t._gsTransform,f&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ya("clearProps",{parser:function(a,b,d,e,f){return f=new ta(a,d,0,0,f,2),f.setRatio=Xa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),wa=j.length;wa--;)za(j[wa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h,j){if(!a.nodeType)return!1;this._target=q=a,this._tween=h,this._vars=b,r=j,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=$(a,""),f=this._overwriteProps;var n,p,s,t,u,v,w,x,z,A=a.style;if(l&&""===A.zIndex&&(n=_(a,"zIndex",e),("auto"===n||""===n)&&this._addLazySet(A,"zIndex",0)),"string"==typeof b&&(t=A.cssText,n=ca(a,e),A.cssText=t+";"+b,n=da(a,n,ca(a)).difs,!U&&y.test(b)&&(n.opacity=parseFloat(RegExp.$1)),b=n,A.cssText=t),b.className?this._firstPT=p=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=p=this.parse(a,b,null),this._transformType){for(z=3===this._transformType,Ca?m&&(l=!0,""===A.zIndex&&(w=_(a,"zIndex",e),("auto"===w||""===w)&&this._addLazySet(A,"zIndex",0)),o&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(z?"visible":"hidden"))):A.zoom=1,s=p;s&&s._next;)s=s._next;x=new ta(a,"transform",0,0,null,2),this._linkCSSP(x,null,s),x.setRatio=Ca?Ta:Sa,x.data=this._transform||Ra(a,e,!0),x.tween=h,x.pr=-1,f.pop()}if(c){for(;p;){for(v=p._next,s=t;s&&s.pr>p.pr;)s=s._next;(p._prev=s?s._prev:u)?p._prev._next=p:t=p,(p._next=s)?s._prev=p:u=p,p=v}this._firstPT=t}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,s,t,u=a.style;for(g in b)n=b[g],"function"==typeof n&&(n=n(r,q)),h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=_(a,g,e)+"",s="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||s&&A.test(n)?(s||(n=na(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=va(u,g,m,n,!0,"transparent",c,0,f)):s&&J.test(n)?c=va(u,g,m,n,!0,null,c,0,f):(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ga(a,g,e),o="px"):"left"===g||"top"===g?(j=ba(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),t=s&&"="===n.charAt(1),t?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(w,"")):(l=parseFloat(n),p=s?n.replace(w,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(t?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=aa(a,g,j,o),"%"===p?(j/=aa(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?j/=aa(a,g,1,p):"px"!==p&&(l=aa(a,g,l,p),p="px"),t&&(l||0===l)&&(n=l+j+p)),t&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==u[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ta(u,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):W("invalid "+g+" tween value: "+b[g]):(c=new ta(u,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p))),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||Ra(this._target,e,!0),this._transformType=this._transform.svg&&Aa||!a&&3!==this._transformType?2:3};var Ya=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new ta(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ya,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&a[b.p]===Math.round&&(b.r=1),b=b._next},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var Za=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Za(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(ca(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Za(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Za(a,k,m),i.render(c,!0,!0),Za(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=da(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){for(;a;)a.f||a.blob||(a.m=Math.round),a=a._next},c=a.prototype;c._onInitAllProps=function(){for(var a,c,d,e=this._tween,f=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),g=f.length,h={},i=e._propLookup.roundProps;--g>-1;)h[f[g]]=Math.round;for(g=f.length;--g>-1;)for(a=f[g],c=e._firstPT;c;)d=c._next,c.pg?c.t._mod(h):c.n===a&&(2===c.f&&c.t?b(c.t._firstPT):(this._add(c.t,a,c.s,c.c),d&&(d._prev=c._prev),c._prev?c._prev._next=d:e._firstPT===c&&(e._firstPT=d),c._next=c._prev=null,e._propLookup[a]=i)),c=d;return!1},c._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,Math.round),this._overwriteProps.push(b)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(a,b,c,d){var e,f;if("function"!=typeof a.setAttribute)return!1;for(e in b)f=b[e],"function"==typeof f&&(f=f(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+"",f+"",e,!1,e),this._overwriteProps.push(e);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(a,b,c,d){"object"!=typeof b&&(b={rotation:b}),this.finals={};var e,f,g,h,i,j,k=b.useRadians===!0?2*Math.PI:360,l=1e-6;for(e in b)"useRadians"!==e&&(h=b[e],"function"==typeof h&&(h=h(d,a)),j=(h+"").split("_"),f=j[0],g=parseFloat("function"!=typeof a[e]?a[e]:a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]()),h=this.finals[e]="string"==typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0,i=h-g,j.length&&(f=j.join("_"),-1!==f.indexOf("short")&&(i%=k,i!==i%(k/2)&&(i=0>i?i+k:i-k)),-1!==f.indexOf("_cw")&&0>i?i=(i+9999999999*k)%k-(i/k|0)*k:-1!==f.indexOf("ccw")&&i>0&&(i=(i-9999999999*k)%k-(i/k|0)*k)),(i>l||-l>i)&&(this._addTween(a,e,g,g+i,e),this._overwriteProps.push(e)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d,e){var f=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(f,a),f},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/g*(Math.asin(1/this._p1)||0),this._p2=g/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c={},d=a.document,e=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!e.TweenLite){var f,g,h,i,j,k=function(a){var b,c=a.split("."),d=e;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},l=k("com.greensock"),m=1e-10,n=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},o=function(){},p=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),q={},r=function(d,f,g,h){this.sc=q[d]?q[d].sc:[],q[d]=this,this.gsClass=null,this.func=g;var i=[];this.check=function(j){for(var l,m,n,o,p,s=f.length,t=s;--s>-1;)(l=q[f[s]]||new r(f[s],[])).gsClass?(i[s]=l.gsClass,t--):j&&l.sc.push(this);if(0===t&&g){if(m=("com.greensock."+d).split("."),n=m.pop(),o=k(m.join("."))[n]=this.gsClass=g.apply(g,i),h)if(e[n]=c[n]=o,p="undefined"!=typeof module&&module.exports,!p&&"function"==typeof define&&define.amd)define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return o});else if(p)if(d===b){module.exports=c[b]=o;for(s in c)o[s]=c[s]}else c[b]&&(c[b][n]=o);for(s=0;s<this.sc.length;s++)this.sc[s].check()}},this.check(!0)},s=a._gsDefine=function(a,b,c,d){return new r(a,b,c,d)},t=l._class=function(a,b,c){return b=b||function(){},s(a,[],function(){return b},c),b};s.globals=e;var u=[0,0,1,1],v=t("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?u.concat(b):u},!0),w=v.map={},x=v.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?t("easing."+f,null,!0):l.easing[f]||{},g=k.length;--g>-1;)h=k[g],w[f+"."+h]=w[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(h=v.prototype,h._calcEnd=!1,h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},f=["Linear","Quad","Cubic","Quart","Quint,Strong"],g=f.length;--g>-1;)h=f[g]+",Power"+g,x(new v(null,null,1,g),h,"easeOut",!0),x(new v(null,null,2,g),h,"easeIn"+(0===g?",easeNone":"")),x(new v(null,null,3,g),h,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var y=t("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});h=y.prototype,h.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],k=0;for(this!==i||j||i.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===k&&f.pr<e&&(k=g+1);h.splice(k,0,{c:b,s:c,up:d,pr:e})},h.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},h.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var z=a.requestAnimationFrame,A=a.cancelAnimationFrame,B=Date.now||function(){return(new Date).getTime()},C=B();for(f=["ms","moz","webkit","o"],g=f.length;--g>-1&&!z;)z=a[f[g]+"RequestAnimationFrame"],A=a[f[g]+"CancelAnimationFrame"]||a[f[g]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,e,f,g,h,k=this,l=B(),n=b!==!1&&z?"auto":!1,p=500,q=33,r="tick",s=function(a){var b,d,i=B()-C;i>p&&(l+=i-q),C+=i,k.time=(C-l)/1e3,b=k.time-h,(!c||b>0||a===!0)&&(k.frame++,h+=b+(b>=g?.004:g-b),d=!0),a!==!0&&(f=e(s)),d&&k.dispatchEvent(r)};y.call(k),k.time=k.frame=0,k.tick=function(){s(!0)},k.lagSmoothing=function(a,b){p=a||1/m,q=Math.min(b,p,0)},k.sleep=function(){null!=f&&(n&&A?A(f):clearTimeout(f),e=o,f=null,k===i&&(j=!1))},k.wake=function(a){null!==f?k.sleep():a?l+=-C+(C=B()):k.frame>10&&(C=B()-p+5),e=0===c?o:n&&z?z:function(a){return setTimeout(a,1e3*(h-k.time)+1|0)},k===i&&(j=!0),s(2)},k.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void k.wake()):c},k.useRAF=function(a){return arguments.length?(k.sleep(),n=a,void k.fps(c)):n},k.fps(a),setTimeout(function(){"auto"===n&&k.frame<5&&"hidden"!==d.visibilityState&&k.useRAF(!1)},1500)}),h=l.Ticker.prototype=new l.events.EventDispatcher,h.constructor=l.Ticker;var D=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,W){j||i.wake();var c=this.vars.useFrames?V:W;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});i=D.ticker=new l.Ticker,h=D.prototype,h._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var E=function(){j&&B()-C>2e3&&i.wake(),setTimeout(E,2e3)};E(),h.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},h.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},h.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},h.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},h.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},h.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},h.render=function(a,b,c){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},h.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale},h._enabled=function(a,b){return j||i.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(a,b){return this._enabled(!1,!1)},h.kill=function(a,b){return this._kill(a,b),this},h._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},h._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},h._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this,f=d?d.length:0;switch(f){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},h.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=p(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},h.totalTime=function(a,b,c){if(j||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(J.length&&Y(),this.render(a,b,!1),J.length&&Y())}return this},h.progress=h.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},h.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||m,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(j||a||i.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var F=t("core.SimpleTimeline",function(a){D.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});h=F.prototype=new D,h.constructor=F,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},h._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},h.rawTime=function(){return j||i.wake(),this._totalTime};var G=t("TweenLite",function(b,c,d){
if(D.call(this,c,d),this.render=G.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:G.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?U[G.defaultOverwrite]:"number"==typeof i?i>>0:U[i],(h||b instanceof Array||b.push&&p(b))&&"number"!=typeof b[0])for(this._targets=g=n(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(n(f))):(this._siblings[e]=Z(f,this,!1),1===i&&this._siblings[e].length>1&&_(f,this,null,1,this._siblings[e])):(f=g[e--]=G.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=Z(b,this,!1),1===i&&this._siblings.length>1&&_(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),H=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},I=function(a,b){var c,d={};for(c in a)T[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!Q[c]||Q[c]&&Q[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};h=G.prototype=new D,h.constructor=G,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,G.version="1.19.1",G.defaultEase=h._ease=new v(null,null,1,1),G.defaultOverwrite="auto",G.ticker=i,G.autoSleep=120,G.lagSmoothing=function(a,b){i.lagSmoothing(a,b)},G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(G.selector=c,c(b)):"undefined"==typeof d?b:d.querySelectorAll?d.querySelectorAll(b):d.getElementById("#"===b.charAt(0)?b.substr(1):b)};var J=[],K={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,M=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.blob?1===a?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m(b,this._target||c.t):d>b&&b>-d&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},N=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(L)||[],f=b.match(L)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=M,l},O=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=N(m,n?o.s+o.c:d,h||G.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},P=G._internals={isArray:p,isSelector:H,lazyTweens:J,blobDif:N},Q=G._plugins={},R=P.tweenLookup={},S=0,T=P.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},V=D._rootFramesTimeline=new F,W=D._rootTimeline=new F,X=30,Y=P.lazyRender=function(){var a,b=J.length;for(K={};--b>-1;)a=J[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);J.length=0};W._startTime=i.time,V._startTime=i.frame,W._active=V._active=!0,setTimeout(Y,1),D._updateRoot=G.render=function(){var a,b,c;if(J.length&&Y(),W.render((i.time-W._startTime)*W._timeScale,!1,!1),V.render((i.frame-V._startTime)*V._timeScale,!1,!1),J.length&&Y(),i.frame>=X){X=i.frame+(parseInt(G.autoSleep,10)||120);for(c in R){for(b=R[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete R[c]}if(c=W._first,(!c||c._paused)&&G.autoSleep&&!V._first&&1===i._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||i.sleep()}}},i.addEventListener("tick",D._updateRoot);var Z=function(a,b,c){var d,e,f=a._gsTweenID;if(R[f||(a._gsTweenID=f="t"+S++)]||(R[f]={target:a,tweens:[]}),b&&(d=R[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return R[f].tweens},$=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=G.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},_=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+m,l=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||aa(b,0,o),0===aa(h,j,o)&&(l[n++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[n++]=h)));for(f=n;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!$(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},aa=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*m>f-b?m:(f+=a.totalDuration()/a._timeScale/e)>b+m?0:f-b-m};h._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&g.lazy!==!1,e.startAt=e.delay=null,this._startAt=G.to(this.target,0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)T[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&g.lazy!==!1,c.immediateRender=j,this._startAt=G.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof v?k:"function"==typeof k?new v(k,g.easeParams):w[k]||G.defaultEase:G.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&G._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},h._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;K[b._gsTweenID]&&Y(),this.vars.css||b.style&&b!==a&&b.nodeType&&Q.css&&this.vars.autoCSS!==!1&&I(this.vars,b);for(g in this.vars)if(l=this.vars[g],T[g])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(Q[g]&&(j=new Q[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=O.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&_(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(K[b._gsTweenID]=!0),i)},h.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===m&&"isPause"!==this.data)&&j!==a&&(c=!0,j>m&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:m);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==m||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:m)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,n=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===n?k*=k:2===n?k*=k*k:3===n?k*=k*k*k:4===n&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:.5>a/i?this.ratio=k/2:this.ratio=1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,J.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===m&&g!==m&&(this._rawPrevTime=0))}},h._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:G.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((p(b)||H(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(G.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!$(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},h.invalidate=function(){return this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},h._enabled=function(a,b){if(j||i.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=Z(d[c],this,!0);else this._siblings=Z(this.target,this,!0)}return D.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?G._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},G.to=function(a,b,c){return new G(a,b,c)},G.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new G(a,b,c)},G.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new G(a,b,d)},G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},G.set=function(a,b){return new G(a,0,b)},G.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:G.selector(a)||a;var c,d,e,f;if((p(a)||H(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(G.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=Z(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},G.killTweensOf=G.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=G.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var ba=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=ba.prototype},!0);if(h=ba.prototype,ba.version="1.19.0",ba.API=2,h._firstPT=null,h._addTween=O,h.setRatio=M,h._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},h._mod=h._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},G._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},ba.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===ba.API&&(Q[(new a[b])._propName]=a[b]);return!0},s.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){ba.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new ba(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,ba.activate([g]),g},f=a._gsQueue){for(g=0;g<f.length;g++)f[g]();for(h in q)q[h].func||a.console.log("GSAP encountered missing dependency: "+h)}j=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/dependencies\\TweenMax.min.js","/dependencies")
},{"buffer":9,"e/U+97":11}],4:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
/*!
 * pixi.js - v4.4.2
 * Compiled Wed, 15 Mar 2017 21:17:04 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var i=32;r.INT_BITS=i,r.INT_MAX=2147483647,r.INT_MIN=-1<<i-1,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>i-1;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],2:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n=e&&e.length,o=n?e[0]*r:t.length,a=i(t,0,o,r,!0),u=[];if(!a)return u;var l,h,f,d,p,v,y;if(n&&(a=c(t,e,a,r)),t.length>80*r){l=f=t[0],h=d=t[1];for(var g=r;g<o;g+=r)p=t[g],v=t[g+1],p<l&&(l=p),v<h&&(h=v),p>f&&(f=p),v>d&&(d=v);y=Math.max(f-l,d-h)}return s(a,u,r,l,h,y),u}function i(t,e,r,n,i){var o,s;if(i===A(t,e,r,n)>0)for(o=e;o<r;o+=n)s=M(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=M(o,t[o],t[o+1],s);return s&&T(s,s.next)&&(C(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do if(r=!1,n.steiner||!T(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(C(n),n=e=n.prev,n===n.next)return null;r=!0}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&v(t,n,i,c);for(var d,p,y=t;t.prev!==t.next;)if(d=t.prev,p=t.next,c?u(t,n,i,c):a(t))e.push(d.i/r),e.push(t.i/r),e.push(p.i/r),C(t),t=p.next,y=p.next;else if(t=p,t===y){f?1===f?(t=l(t,e,r),s(t,e,r,n,i,c,2)):2===f&&h(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(x(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(_(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(x(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=g(a,u,e,r,n),f=g(l,h,e,r,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function l(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!T(i,o)&&w(i,n,n.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),C(n),C(n.next),n=t=o),n=n.next}while(n!==t);return n}function h(t,e,r,n,i,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var h=P(u,l);return u=o(u,u.next),h=o(h,h.next),s(u,e,r,n,i,a),void s(h,e,r,n,i,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,r,n){var s,a,u,l,h,c=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,l=s<a-1?e[s+1]*n:t.length,h=i(t,u,l,n,!1),h===h.next&&(h.steiner=!0),c.push(m(h));for(c.sort(f),s=0;s<c.length;s++)d(c[s],r),r=o(r,r.next);return r}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var r=P(e,t);o(r,r.next)}}function p(t,e){var r,n=e,i=t.x,o=t.y,s=-(1/0);do{if(o<=n.y&&o>=n.next.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,l=r,h=r.x,c=r.y,f=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=h&&_(o<c?i:s,o,h,c,o<c?s:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),(u<f||u===f&&n.x>r.x)&&S(n,t)&&(r=n,f=u)),n=n.next;return r}function v(t,e,r,n){var i=t;do null===i.z&&(i.z=g(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ,n);e++);for(u=l;a>0||u>0&&n;)0===a?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1);return t}function g(t,e,r,n,i){return t=32767*(t-r)/i,e=32767*(e-n)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t){var e=t,r=t;do e.x<r.x&&(r=e),e=e.next;while(e!==t);return r}function _(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&O(t,e)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,n){return!!(T(t,e)&&T(r,n)||T(t,n)&&T(r,e))||x(t,e,r)>0!=x(t,e,n)>0&&x(r,n,t)>0!=x(r,n,e)>0}function E(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function O(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function P(t,e){var r=new R(t.i,t.x,t.y),n=new R(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function M(t,e,r,n){var i=new R(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}e.exports=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,h=a<u-1?e[a+1]*r:t.length;s-=Math.abs(A(t,l,h,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},{}],3:[function(t,e,r){"use strict";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)s.call(t,e)&&r.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t,e){var r=a?a+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},o.prototype.emit=function(t,e,r,n,i,o){var s=a?a+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,n),!0;case 5:return h.fn.call(h.context,e,r,n,i),!0;case 6:return h.fn.call(h.context,e,r,n,i,o),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,r);break;case 4:h[l].fn.call(h[l].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},o.prototype.on=function(t,e,r){var n=new i(e,r||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,r){var n=new i(e,r||this,(!0)),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,i){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0===--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||(0===--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,"undefined"!=typeof e&&(e.exports=o)},{}],4:[function(e,r,n){!function(e){var n=/iPhone/i,i=/iPod/i,o=/iPad/i,s=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,d=/BB10/i,p=/Opera Mini/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(t,e){return t.test(e)},_=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if("undefined"!=typeof r[1]&&(e=r[0]),r=e.split("Twitter"),"undefined"!=typeof r[1]&&(e=r[0]),this.apple={phone:m(n,e),ipod:m(i,e),tablet:!m(n,e)&&m(o,e),device:m(n,e)||m(i,e)||m(o,e)},this.amazon={phone:m(u,e),tablet:!m(u,e)&&m(l,e),device:m(u,e)||m(l,e)},this.android={phone:m(u,e)||m(s,e),tablet:!m(u,e)&&!m(s,e)&&(m(l,e)||m(a,e)),device:m(u,e)||m(l,e)||m(s,e)||m(a,e)},this.windows={phone:m(h,e),tablet:m(c,e),device:m(h,e)||m(c,e)},this.other={blackberry:m(f,e),blackberry10:m(d,e),opera:m(p,e),firefox:m(y,e),chrome:m(v,e),device:m(f,e)||m(d,e)||m(p,e)||m(y,e)||m(v,e)},this.seven_inch=m(g,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},b=function(){var t=new _;return t.Class=_,t};"undefined"!=typeof r&&r.exports&&"undefined"==typeof window?r.exports=_:"undefined"!=typeof r&&r.exports&&"undefined"!=typeof window?r.exports=b():"function"==typeof t&&t.amd?t("isMobile",[],e.isMobile=b()):e.isMobile=b()}(this)},{}],5:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(t,e){for(var r,i,u=n(t),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var h in r)s.call(r,h)&&(u[h]=r[h]);if(o){i=o(r);for(var c=0;c<i.length;c++)a.call(r,i[c])&&(u[i[c]]=r[i[c]])}}return u}},{}],6:[function(t,e,r){var n=new ArrayBuffer(0),i=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r)};i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],7:[function(t,e,r){var n=t("./GLTexture"),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},e.exports=i},{"./GLTexture":9}],8:[function(t,e,r){var n=t("./shader/compileProgram"),i=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),s=t("./shader/generateUniformAccessObject"),a=function(t,e,r){this.gl=t,this.program=n(t,e,r),this.attributes=i(t,this.program);var a=o(t,this.program);this.uniforms=s(t,a)};a.prototype.bind=function(){this.gl.useProgram(this.program)},a.prototype.destroy=function(){},e.exports=a},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(t,e,r){var n=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var i=!1;n.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){var o=n.getExtension("OES_texture_float");if(!o)throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},e.exports=n},{}],10:[function(t,e,r){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=t("./setVertexAttribArrays");n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return n.drawElements(t,e,n.UNSIGNED_SHORT,r||0),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null}},{"./setVertexAttribArrays":13}],11:[function(t,e,r){var n=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};e.exports=n},{}],12:[function(t,e,r){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};"undefined"!=typeof e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(t,e,r){var n=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}};e.exports=n},{}],14:[function(t,e,r){var n=function(t,e,r){var n=i(t,t.VERTEX_SHADER,e),o=i(t,t.FRAGMENT_SHADER,r),s=t.createProgram();return t.attachShader(s,n),t.attachShader(s,o),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s},i=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=n},{}],15:[function(t,e,r){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},i=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=n},{}],16:[function(t,e,r){var n=t("./mapType"),i=t("./mapSize"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var u=t.getActiveAttrib(e,a),l=n(t,u.type);r[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:s}}return r},s=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};e.exports=o},{"./mapSize":20,"./mapType":21}],17:[function(t,e,r){var n=t("./mapType"),i=t("./defaultValue"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),l=n(t,a.type);r[u]={type:l,size:a.size,location:t.getUniformLocation(e,u),value:i(l,a.size)}}return r};e.exports=o},{"./defaultValue":15,"./mapType":21}],18:[function(t,e,r){var n=function(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),a=0;a<n.length;a++){var u=n[a],l=u.split("."),h=l[l.length-1],c=s(l,r),f=e[u];c.data[h]=f,c.gl=t,Object.defineProperty(c,h,{get:i(h),set:o(h,f)})}return r},i=function(t){var e=a.replace("%%",t);return new Function(e)},o=function(t,e){var r,n=u.replace(/%%/g,t);return r=1===e.size?l[e.type]:h[e.type],r&&(n+="\nthis.gl."+r+";"),new Function("value",n)},s=function(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r},a=["return this.data.%%.value;"].join("\n"),u=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),l={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},h={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=n},{}],19:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(t,e,r){var n=function(t){return i[t]},i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=n},{}],21:[function(t,e,r){var n=function(t,e){if(!i){var r=Object.keys(o);i={};for(var n=0;n<r.length;++n){var s=r[n];i[t[s]]=o[s]}}return i[e]},i=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=n},{}],22:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===s(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:23}],23:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&p&&(y=!1,p.length?v=p.concat(v):g=-1,v.length&&u())}function u(){if(!y){var t=o(a);y=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,y=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){
f=i}}();var p,v=[],y=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];v.push(new l(t,e)),1!==v.length||y||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=h,d.addListener=h,d.once=h,d.off=h,d.removeListener=h,d.removeAllListeners=h,d.emit=h,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],24:[function(e,r,n){(function(e){!function(i){function o(t){throw new RangeError(L[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function a(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(D,".");var i=t.split("."),o=s(i,e).join(".");return n+o}function u(t){for(var e,r,n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=j(t>>>10&1023|55296),t=56320|1023&t),e+=j(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function c(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,r){var n=0;for(t=r?F(t/P):t>>1,t+=F(t/e);t>N*S>>1;n+=w)t=F(t/N);return F(n+(N+1)*t/(t+O))}function d(t){var e,r,n,i,s,a,u,c,d,p,v=[],y=t.length,g=0,m=C,_=M;for(r=t.lastIndexOf(R),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&o("not-basic"),v.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(s=g,a=1,u=w;i>=y&&o("invalid-input"),c=h(t.charCodeAt(i++)),(c>=w||c>F((T-g)/a))&&o("overflow"),g+=c*a,d=u<=_?E:u>=_+S?S:u-_,!(c<d);u+=w)p=w-d,a>F(T/p)&&o("overflow"),a*=p;e=v.length+1,_=f(g-s,e,0==s),F(g/e)>T-m&&o("overflow"),m+=F(g/e),g%=e,v.splice(g++,0,m)}return l(v)}function p(t){var e,r,n,i,s,a,l,h,d,p,v,y,g,m,_,b=[];for(t=u(t),y=t.length,e=C,r=0,s=M,a=0;a<y;++a)v=t[a],v<128&&b.push(j(v));for(n=i=b.length,i&&b.push(R);n<y;){for(l=T,a=0;a<y;++a)v=t[a],v>=e&&v<l&&(l=v);for(g=n+1,l-e>F((T-r)/g)&&o("overflow"),r+=(l-e)*g,e=l,a=0;a<y;++a)if(v=t[a],v<e&&++r>T&&o("overflow"),v==e){for(h=r,d=w;p=d<=s?E:d>=s+S?S:d-s,!(h<p);d+=w)_=h-p,m=w-p,b.push(j(c(p+_%m,0))),h=F(_/m);b.push(j(c(h,0))),s=f(r,g,n==i),r=0,++n}++r,++e}return b.join("")}function v(t){return a(t,function(t){return A.test(t)?d(t.slice(4).toLowerCase()):t})}function y(t){return a(t,function(t){return I.test(t)?"xn--"+p(t):t})}var g="object"==typeof n&&n&&!n.nodeType&&n,m="object"==typeof r&&r&&!r.nodeType&&r,_="object"==typeof e&&e;_.global!==_&&_.window!==_&&_.self!==_||(i=_);var b,x,T=2147483647,w=36,E=1,S=26,O=38,P=700,M=72,C=128,R="-",A=/^xn--/,I=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=w-E,F=Math.floor,j=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:u,encode:l},decode:d,encode:p,toASCII:y,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(g&&m)if(r.exports==g)m.exports=b;else for(x in b)b.hasOwnProperty(x)&&(g[x]=b[x]);else i.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var c,f,d,p,v=t[h].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],26:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(i(s))+r;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],27:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":25,"./encode":26}],28:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&l.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function o(t){return l.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=t("punycode"),l=t("./util");r.parse=i,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=n;var h=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),v=["'"].concat(p),y=["%","/","?",";","#"].concat(v),g=["/","?","#"],m=255,_=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=t("querystring");n.prototype.parse=function(t,e,r){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var c=f.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=h.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===a.substr(0,2);!S||d&&T[d]||(a=a.substr(2),this.slashes=!0)}if(!T[d]&&(S||d&&!w[d])){for(var O=-1,P=0;P<g.length;P++){var M=a.indexOf(g[P]);M!==-1&&(O===-1||M<O)&&(O=M)}var C,R;R=O===-1?a.lastIndexOf("@"):a.lastIndexOf("@",O),R!==-1&&(C=a.slice(0,R),a=a.slice(R+1),this.auth=decodeURIComponent(C)),O=-1;for(var P=0;P<y.length;P++){var M=a.indexOf(y[P]);M!==-1&&(O===-1||M<O)&&(O=M)}O===-1&&(O=a.length),this.host=a.slice(0,O),a=a.slice(O),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),P=0,D=I.length;P<D;P++){var L=I[P];if(L&&!L.match(_)){for(var N="",F=0,j=L.length;F<j;F++)N+=L.charCodeAt(F)>127?"x":L[F];if(!N.match(_)){var B=I.slice(0,P),k=I.slice(P+1),U=L.match(b);U&&(B.push(U[1]),k.unshift(U[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=B.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=u.toASCII(this.hostname));var X=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+X,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[p])for(var P=0,D=v.length;P<D;P++){var W=v[P];if(a.indexOf(W)!==-1){var H=encodeURIComponent(W);H===W&&(H=escape(W)),a=a.split(W).join(H)}}var V=a.indexOf("#");V!==-1&&(this.hash=a.substr(V),a=a.slice(0,V));var Y=a.indexOf("?");if(Y!==-1?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=E.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),w[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var X=this.pathname||"",z=this.search||"";this.path=X+z}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||w[e])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+r+s+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(l.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var h=a[u];"protocol"!==h&&(r[h]=t[h])}return w[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!w[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||T[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=m||g||r.host&&t.pathname,b=_,x=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!w[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===x[0])),m)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),r.search=t.search,r.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(E){r.hostname=r.host=x.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=x.slice(-1)[0],P=(r.host||t.host||x.length>1)&&("."===O||".."===O)||""===O,M=0,C=x.length;C>=0;C--)O=x[C],"."===O?x.splice(C,1):".."===O?(x.splice(C,1),M++):M&&(x.splice(C,1),M--);if(!_&&!b)for(;M--;M)x.unshift("..");!_||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),P&&"/"!==x.join("/").substr(-1)&&x.push("");var R=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(E){r.hostname=r.host=R?"":x.length?x.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return _=_||r.host&&x.length,_&&!R&&x.unshift(""),x.length?r.pathname=x.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":29,punycode:24,querystring:27}],29:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],30:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("mini-signals"),u=i(a),l=t("parse-uri"),h=i(l),c=t("./async"),f=n(c),d=t("./Resource"),p=i(d),v=100,y=/(#[\w-]+)?$/,g=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=f.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new u.default,this.onError=new u.default,this.onLoad=new u.default,this.onStart=new u.default,this.onComplete=new u.default}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===("undefined"==typeof t?"undefined":s(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new p.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],u=0;u<o.children.length;++u)o.children[u].isComplete||a.push(o.children[u]);var l=o.progressChunk*(a.length+1),h=l/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var c=0;c<a.length;++c)a[c].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},t.prototype._prepareUrl=function(t){var e=(0,h.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=y.exec(r)[0];r=r.substr(0,r.length-n.length),r+=r.indexOf("?")!==-1?"&"+this.defaultQueryString:"?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,f.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())})},t.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,t._dequeue(),this._resourcesParsing.push(t),f.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&(e.progress=v,e._onComplete())})},t}();r.default=g},{"./Resource":31,"./async":32,"mini-signals":36,"parse-uri":37}],31:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function s(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function a(t){return t.toString().replace("object ","")}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=t("parse-uri"),h=n(l),c=t("mini-signals"),f=n(c),d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,v=0,y=200,g=204,m=function(){function t(e,r,n){if(i(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new f.default,this.onProgress=new f.default,this.onComplete=new f.default,this.onAfterMiddleware=new f.default}return t.setExtensionLoadType=function(e,r){s(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){s(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(r)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:d&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(a(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(a(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(a(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="undefined"==typeof e.status?e.status:y;if(!(r===y||r===g||r===v&&e.responseText.length>0))return void this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e.responseText,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e.responseText),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(e.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=e.responseText,this.data=i}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||e.responseText;this.complete()},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,p||(p=document.createElement("a")),p.href=t,t=(0,h.default)(p.href,{strictMode:!0});var r=!t.port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?");n!==-1&&(t=t.substring(0,n)),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();r.default=m,m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":36,"parse-uri":37}],32:[function(t,e,r){"use strict";function n(){}function i(t,e,r){var n=0,i=t.length;!function o(s){return s||n===i?void(r&&r(s)):void e(t[n++],o)}()}function o(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function s(t,e){function r(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())return void setTimeout(function(){return a.drain()},1);var i={data:t,callback:"function"==typeof r?r:n};e?a._tasks.unshift(i):a._tasks.push(i),setTimeout(function(){return a.process()},1)}function i(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){s=0,a.drain=n,a.started=!1,a._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),s+=1,s===a.concurrency&&a.saturated(),t(e.data,o(i(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){a.paused!==!0&&(a.paused=!0)},resume:function(){if(a.paused!==!1){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}};return a}r.__esModule=!0,r.eachSeries=i,r.queue=s},{}],33:[function(t,e,r){"use strict";function n(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=i.charAt(o[u])}return e}r.__esModule=!0,r.encodeBinary=n;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],34:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var o=t("./Loader"),s=i(o),a=t("./Resource"),u=i(a),l=t("./async"),h=n(l),c=t("./b64"),f=n(c);s.default.Resource=u.default,s.default.async=h,s.default.base64=f,e.exports=s.default,r.default=s.default},{"./Loader":30,"./Resource":31,"./async":32,"./b64":33}],35:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===a.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=function(){var r=h.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=a.default.TYPE.IMAGE,t.data.onload=function(){h.revokeObjectURL(r),t.data.onload=null,e()},{v:void 0}}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+l.default.encodeBinary(t.xhr.responseText),t.type=a.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}r.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.blobMiddlewareFactory=i;var s=t("../../Resource"),a=n(s),u=t("../../b64"),l=n(u),h=window.URL||window.webkitURL},{"../../Resource":31,"../../b64":33}],36:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(r,"__esModule",{
value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new s(t,(!1),e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new s(t,(!0),e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,r.default=a,e.exports=r.default},{}],37:[function(t,e,r){"use strict";e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},{}],38:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var s=t("../core"),a=i(s),u=t("ismobilejs"),l=n(u),h=t("./accessibleTarget"),c=n(h);a.utils.mixins.delayMixin(a.DisplayObject.prototype,c.default);var f=9,d=100,p=0,v=0,y=2,g=1,m=-1e3,_=-1e3,b=2,x=function(){function t(e){o(this,t),!l.default.tablet&&!l.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=d+"px",r.style.height=d+"px",r.style.position="absolute",r.style.top=p+"px",r.style.left=v+"px",r.style.zIndex=y,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=g+"px",e.style.height=g+"px",e.style.position="absolute",e.style.top=m+"px",e.style.left=_+"px",e.style.zIndex=b,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var o=this.children[i];if(o.renderId!==this.renderId)o._accessibleActive=!1,a.utils.removeItems(this.children,i,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var s=o.hitArea,u=o.worldTransform;o.hitArea?(n.style.left=(u.tx+s.x*u.a)*e+"px",n.style.top=(u.ty+s.y*u.d)*r+"px",n.style.width=s.width*u.a*e+"px",n.style.height=s.height*u.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),n.style.left=s.x*e+"px",n.style.top=s.y*r+"px",n.style.width=s.width*e+"px",n.style.height=s.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=d+"px",e.style.height=d+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=y,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){t.keyCode===f&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();r.default=x,a.WebGLRenderer.registerPlugin("accessibility",x),a.CanvasRenderer.registerPlugin("accessibility",x)},{"../core":63,"./accessibleTarget":39,ismobilejs:4}],39:[function(t,e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],40:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function(){return n(i).default}});var o=t("./AccessibilityManager");Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},{"./AccessibilityManager":38,"./accessibleTarget":39}],41:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./autoDetectRenderer"),a=t("./display/Container"),u=n(a),l=t("./ticker"),h=function(){function t(e,r,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,t),this.renderer=(0,s.autoDetectRenderer)(e,r,n,o),this.stage=new u.default,this._ticker=null,this.ticker=a?l.shared:new l.Ticker,this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){this.stop(),this.ticker=null,this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();r.default=h},{"./autoDetectRenderer":43,"./display/Container":46,"./ticker":116}],42:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}r.__esModule=!0;var u=t("pixi-gl-core"),l=t("./settings"),h=n(l),c=function(t){function e(r,n,s){return i(this,e),o(this,t.call(this,r,a(n,h.default.PRECISION_VERTEX),a(s,h.default.PRECISION_FRAGMENT)))}return s(e,t),e}(u.GLShader);r.default=c},{"./settings":99,"pixi-gl-core":12}],43:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,r=arguments[2],n=arguments[3];return!n&&a.isWebGLSupported()?new c.default(t,e,r):new l.default(t,e,r)}r.__esModule=!0,r.autoDetectRenderer=o;var s=t("./utils"),a=i(s),u=t("./renderers/canvas/CanvasRenderer"),l=n(u),h=t("./renderers/webgl/WebGLRenderer"),c=n(h)},{"./renderers/canvas/CanvasRenderer":75,"./renderers/webgl/WebGLRenderer":82,"./utils":120}],44:[function(t,e,r){"use strict";r.__esModule=!0;r.VERSION="4.4.2",r.PI_2=2*Math.PI,r.RAD_TO_DEG=180/Math.PI,r.DEG_TO_RAD=Math.PI/180,r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},r.SCALE_MODES={LINEAR:0,NEAREST:1},r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},r.GC_MODES={AUTO:0,MANUAL:1},r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],45:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math"),o=function(){function t(){n(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0)},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(t=t||new i.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+h,g=a*e+l*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,y=s*n+u*r+h,g=a*n+l*r+c,f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,y=s*e+u*i+h,g=a*e+l*i+c,f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,y=s*n+u*i+h,g=a*n+l*i+c,f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],m=o*y+a*g+l,_=u*g+s*y+h;c=m<c?m:c,f=_<f?_:f,d=m>d?m:d,p=_>p?_:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();r.default=o},{"../math":68}],46:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../utils"),l=t("./DisplayObject"),h=n(l),c=function(t){function e(){i(this,e);var r=o(this,t.call(this));return r.children=[],r}return s(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,u.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,(0,u.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,u.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},a(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}]),e}(h.default);r.default=c,c.prototype.containerUpdateTransform=c.prototype.updateTransform},{"../utils":120,"./DisplayObject":47}],47:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("eventemitter3"),l=n(u),h=t("../const"),c=t("../settings"),f=n(c),d=t("./TransformStatic"),p=n(d),v=t("./Transform"),y=n(v),g=t("./Bounds"),m=n(g),_=t("../math"),b=function(t){function e(){i(this,e);var r=o(this,t.call(this)),n=f.default.TRANSFORM_MODE===h.TRANSFORM_MODE.STATIC?p.default:y.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new m.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return s(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new _.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r?r:1,this.scale.y=n?n:1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},a(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(l.default);r.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":44,"../math":68,"../settings":99,"./Bounds":45,"./Transform":48,"./TransformStatic":50,eventemitter3:3}],48:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../math"),l=t("./TransformBase"),h=n(l),c=function(t){function e(){i(this,e);var r=o(this,t.call(this));return r.position=new u.Point(0,0),r.scale=new u.Point(1,1),r.skew=new u.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new u.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return s(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},a(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);r.default=c},{"../math":68,"./TransformBase":49}],49:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math"),o=function(){function t(){n(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();r.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},{"../math":68}],50:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e;
}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../math"),l=t("./TransformBase"),h=n(l),c=function(t){function e(){i(this,e);var r=o(this,t.call(this));return r.position=new u.ObservablePoint(r.onChange,r,0,0),r.scale=new u.ObservablePoint(r.onChange,r,1,1),r.pivot=new u.ObservablePoint(r.onChange,r,0,0),r.skew=new u.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return s(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},a(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);r.default=c},{"../math":68,"./TransformBase":49}],51:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../display/Container"),u=n(a),l=t("../textures/RenderTexture"),h=n(l),c=t("../textures/Texture"),f=n(c),d=t("./GraphicsData"),p=n(d),v=t("../sprites/Sprite"),y=n(v),g=t("../math"),m=t("../utils"),_=t("../const"),b=t("../display/Bounds"),x=n(b),T=t("./utils/bezierCurveTo"),w=n(T),E=t("../renderers/canvas/CanvasRenderer"),S=n(E),O=void 0,P=new g.Matrix,M=new g.Point,C=new Float32Array(4),R=new Float32Array(4),A=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e);var n=o(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=_.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new x.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return s(e,t),e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new g.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new g.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=20,o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],h=1;h<=i;++h){var c=h/i;s=u+(t-u)*c,a=l+(e-l)*c,o.push(s+(t+(r-t)*c-s)*c,a+(e+(n-e)*c-a)*c)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,w.default)(a,u,t,e,r,n,i,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,h=n-e,c=r-t,f=Math.abs(u*c-l*h);if(f<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=u*u+l*l,p=h*h+c*c,v=u*h+l*c,y=i*Math.sqrt(d)/f,g=i*Math.sqrt(p)/f,m=y*v/d,_=g*v/p,b=y*c+g*l,x=y*h+g*u,T=l*(g+m),w=u*(g+m),E=c*(y+_),S=h*(y+_),O=Math.atan2(w-x,T-b),P=Math.atan2(S-x,E-b);this.arc(b+t,x+e,i,O,P,l*h>c*u)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=2*Math.PI:o&&n<=i&&(n+=2*Math.PI);var s=i-n,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(n)*r,l=e+Math.sin(n)*r,h=this.currentPath?this.currentPath.shape.points:null;h?h[h.length-2]===u&&h[h.length-1]===l||h.push(u,l):(this.moveTo(u,l),h=this.currentPath.shape.points);for(var c=s/(2*a),f=2*c,d=Math.cos(c),p=Math.sin(c),v=a-1,y=v%1/v,g=0;g<=v;++g){var m=g+y*g,_=c+n+f*m,b=Math.cos(_),x=-Math.sin(_);h.push((d*b+p*x)*r+t,(d*-x+p*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new g.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new g.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new g.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new g.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof g.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new g.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===_.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new y.default(new f.default(f.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=C,i=R;(0,m.hex2rgb)(this.graphicsData[0].fillColor,n),(0,m.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,m.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r.texture._frame.width=e.width,r.texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){this.isMask!==!0&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,M);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&n.shape&&n.shape.contains(M.x,M.y))return!0}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),r=1/0,n=-(1/0);if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,l=0;l<this.graphicsData.length;l++){var h=this.graphicsData[l],c=h.type,f=h.lineWidth;if(i=h.shape,c===_.SHAPES.RECT||c===_.SHAPES.RREC)o=i.x-f/2,s=i.y-f/2,a=i.width+f,u=i.height+f,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(c===_.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+f/2,u=i.radius+f/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(c===_.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+f/2,u=i.height+f/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var d=i.points,p=0,v=0,y=0,g=0,m=0,b=0,x=0,T=0,w=0;w+2<d.length;w+=2)o=d[w],s=d[w+1],p=d[w+2],v=d[w+3],y=Math.abs(p-o),g=Math.abs(v-s),u=f,a=Math.sqrt(y*y+g*g),a<1e-9||(m=(u/a*g+y)/2,b=(u/a*y+g)/2,x=(p+o)/2,T=(v+s)/2,t=x-m<t?x-m:t,e=x+m>e?x+m:e,r=T-b<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+2*E,this._localBounds.minY=r-E,this._localBounds.maxY=n+2*E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new p.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===_.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=h.default.create(r.width,r.height,t,e);O||(O=new S.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(P),P.invert(),P.tx-=r.x,P.ty-=r.y,O.render(this,n,!0,P);var i=f.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t);return i.baseTexture.resolution=e,i.baseTexture.update(),i},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(u.default);r.default=A,A._SPRITE_TEXTURE=null},{"../const":44,"../display/Bounds":45,"../display/Container":46,"../math":68,"../renderers/canvas/CanvasRenderer":75,"../sprites/Sprite":100,"../textures/RenderTexture":110,"../textures/Texture":112,"../utils":120,"./GraphicsData":52,"./utils/bezierCurveTo":54}],52:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,l){n(this,t),this.lineWidth=e,this.nativeLines=u,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=o,this.fillAlpha=s,this._fillTint=o,this.fill=a,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();r.default=i},{}],53:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../renderers/canvas/CanvasRenderer"),s=n(o),a=t("../../const"),u=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],l=u.shape,h=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===a.SHAPES.POLY){r.beginPath(),this.renderPolygon(l.points,l.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===a.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===a.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===a.SHAPES.ELIP){var d=2*l.width,p=2*l.height,v=l.x-d/2,y=l.y-p/2;r.beginPath();var g=.5522848,m=d/2*g,_=p/2*g,b=v+d,x=y+p,T=v+d/2,w=y+p/2;r.moveTo(v,w),r.bezierCurveTo(v,w-_,T-m,y,T,y),r.bezierCurveTo(T+m,y,b,w-_,b,w),r.bezierCurveTo(b,w+_,T+m,x,T,x),r.bezierCurveTo(T-m,x,v,w+_,v,w),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===a.SHAPES.RREC){var E=l.x,S=l.y,O=l.width,P=l.height,M=l.radius,C=Math.min(O,P)/2|0;M=M>C?C:M,r.beginPath(),r.moveTo(E,S+M),r.lineTo(E,S+P-M),r.quadraticCurveTo(E,S+P,E+M,S+P),r.lineTo(E+O-M,S+P),r.quadraticCurveTo(E+O,S+P,E+O,S+P-M),r.lineTo(E+O,S+M),r.quadraticCurveTo(E+O,S,E+O-M,S),r.lineTo(E+M,S),r.quadraticCurveTo(E,S,E,S+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=u,s.default.registerPlugin("graphics",u)},{"../../const":44,"../../renderers/canvas/CanvasRenderer":75}],54:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=20,h=0,c=0,f=0,d=0,p=0;u.push(t,e);for(var v=1,y=0;v<=l;++v)y=v/l,h=1-y,c=h*h,f=c*h,d=y*y,p=d*y,u.push(f*t+3*c*y*r+3*h*d*i+p*s,f*e+3*c*y*n+3*h*d*o+p*a);return u}r.__esModule=!0,r.default=n},{}],55:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../utils"),u=t("../../const"),l=t("../../renderers/webgl/utils/ObjectRenderer"),h=n(l),c=t("../../renderers/webgl/WebGLRenderer"),f=n(c),d=t("./WebGLGraphicsData"),p=n(d),v=t("./shaders/PrimitiveShader"),y=n(v),g=t("./utils/buildPoly"),m=n(g),_=t("./utils/buildRectangle"),b=n(_),x=t("./utils/buildRoundedRectangle"),T=n(x),w=t("./utils/buildCircle"),E=n(w),S=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new y.default(this.gl)},e.prototype.destroy=function(){h.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,i=t._webGL[this.CONTEXT_UID];i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var s=0,u=i.data.length;s<u;s++){n=i.data[s];var l=n.shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,a.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),t.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,o=r.lastIndex;o<t.graphicsData.length;o++){var s=t.graphicsData[o];i=this.getWebGLData(r,0),s.type===u.SHAPES.POLY&&(0,m.default)(s,i),s.type===u.SHAPES.RECT?(0,b.default)(s,i):s.type===u.SHAPES.CIRC||s.type===u.SHAPES.ELIP?(0,E.default)(s,i):s.type===u.SHAPES.RREC&&(0,T.default)(s,i),r.lastIndex++}this.renderer.bindVao(null);for(var a=0;a<r.data.length;a++)i=r.data[a],i.dirty&&i.upload()},e.prototype.getWebGLData=function(t,e){var r=t.data[t.data.length-1];return(!r||r.points.length>32e4)&&(r=this.graphicsDataPool.pop()||new p.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(h.default);r.default=S,f.default.registerPlugin("graphics",S)},{"../../const":44,"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../utils":120,"./WebGLGraphicsData":56,"./shaders/PrimitiveShader":57,"./utils/buildCircle":58,"./utils/buildPoly":60,"./utils/buildRectangle":61,"./utils/buildRoundedRectangle":62}],56:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=function(){function t(e,r,n){i(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=s.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new s.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();r.default=a},{"pixi-gl-core":12}],57:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../../Shader"),u=n(a),l=function(t){function e(r){return i(this,e),o(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return s(e,t),e}(u.default);r.default=l},{"../../../Shader":42}],58:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=t.shape,n=r.x,i=r.y,o=void 0,l=void 0;if(t.type===a.SHAPES.CIRC?(o=r.radius,l=r.radius):(o=r.width,l=r.height),0!==o&&0!==l){var h=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),c=2*Math.PI/h;if(t.fill){var f=(0,u.hex2rgb)(t.fillColor),d=t.fillAlpha,p=f[0]*d,v=f[1]*d,y=f[2]*d,g=e.points,m=e.indices,_=g.length/6;m.push(_);for(var b=0;b<h+1;b++)g.push(n,i,p,v,y,d),g.push(n+Math.sin(c*b)*o,i+Math.cos(c*b)*l,p,v,y,d),m.push(_++,_++);m.push(_-1)}if(t.lineWidth){var x=t.points;t.points=[];for(var T=0;T<h+1;T++)t.points.push(n+Math.sin(c*T)*o,i+Math.cos(c*T)*l);(0,s.default)(t,e),t.points=x}}}r.__esModule=!0,r.default=i;var o=t("./buildLine"),s=n(o),a=t("../../../const"),u=t("../../../utils")},{"../../../const":44,"../../../utils":120,"./buildLine":59}],59:[function(t,e,r){"use strict";function n(t,e){var r=t.points;if(0!==r.length){var n=new o.Point(r[0],r[1]),i=new o.Point(r[r.length-2],r[r.length-1]);if(n.x===i.x&&n.y===i.y){r=r.slice(),r.pop(),r.pop(),i=new o.Point(r[r.length-2],r[r.length-1]);var a=i.x+.5*(n.x-i.x),u=i.y+.5*(n.y-i.y);r.unshift(a,u),r.push(a,u)}var l=e.points,h=e.indices,c=r.length/2,f=r.length,d=l.length/6,p=t.lineWidth/2,v=(0,s.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,m=v[1]*y,_=v[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),P=b-T,M=0,C=0,R=0,A=0,I=Math.sqrt(O*O+P*P);O/=I,P/=I,O*=p,P*=p,l.push(b-O,x-P,g,m,_,y),l.push(b+O,x+P,g,m,_,y);for(var D=1;D<c-1;++D){b=r[2*(D-1)],x=r[2*(D-1)+1],T=r[2*D],w=r[2*D+1],E=r[2*(D+1)],S=r[2*(D+1)+1],O=-(x-w),P=b-T,I=Math.sqrt(O*O+P*P),O/=I,P/=I,O*=p,P*=p,M=-(w-S),C=T-E,I=Math.sqrt(M*M+C*C),M/=I,C/=I,M*=p,C*=p;var L=-P+x-(-P+w),N=-O+T-(-O+b),F=(-O+b)*(-P+w)-(-O+T)*(-P+x),j=-C+S-(-C+w),B=-M+T-(-M+E),k=(-M+E)*(-C+w)-(-M+T)*(-C+S),U=L*B-j*N;if(Math.abs(U)<.1)U+=10.1,l.push(T-O,w-P,g,m,_,y),l.push(T+O,w+P,g,m,_,y);else{var X=(N*k-B*F)/U,G=(j*F-L*k)/U,W=(X-T)*(X-T)+(G-w)*(G-w);W>196*p*p?(R=O-M,A=P-C,I=Math.sqrt(R*R+A*A),R/=I,A/=I,R*=p,A*=p,l.push(T-R,w-A),l.push(g,m,_,y),l.push(T+R,w+A),l.push(g,m,_,y),l.push(T-R,w-A),l.push(g,m,_,y),f++):(l.push(X,G),l.push(g,m,_,y),l.push(T-(X-T),w-(G-w)),l.push(g,m,_,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],O=-(x-w),P=b-T,I=Math.sqrt(O*O+P*P),O/=I,P/=I,O*=p,P*=p,l.push(T-O,w-P),l.push(g,m,_,y),l.push(T+O,w+P),l.push(g,m,_,y),h.push(d);for(var H=0;H<f;++H)h.push(d++);h.push(d-1)}}function i(t,e){var r=0,n=t.points;if(0!==n.length){var i=e.points,o=n.length/2,a=(0,s.hex2rgb)(t.lineColor),u=t.lineAlpha,l=a[0]*u,h=a[1]*u,c=a[2]*u;for(r=1;r<o;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];i.push(f,d),i.push(l,h,c,u),i.push(p,v),i.push(l,h,c,u)}}}r.__esModule=!0,r.default=function(t,e){t.nativeLines?i(t,e):n(t,e)};var o=t("../../../math"),s=t("../../../utils")},{"../../../math":68,"../../../utils":120}],60:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&r.length>=6){for(var n=[],i=t.holes,o=0;o<i.length;o++){var u=i[o];n.push(r.length/2),r=r.concat(u.points)}var h=e.points,c=e.indices,f=r.length/2,d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,m=(0,l.default)(r,n,2);if(!m)return;for(var _=h.length/6,b=0;b<m.length;b+=3)c.push(m[b]+_),c.push(m[b]+_),c.push(m[b+1]+_),c.push(m[b+2]+_),c.push(m[b+2]+_);for(var x=0;x<f;x++)h.push(r[2*x],r[2*x+1],v,y,g,p)}t.lineWidth>0&&(0,s.default)(t,e)}r.__esModule=!0,r.default=i;var o=t("./buildLine"),s=n(o),a=t("../../../utils"),u=t("earcut"),l=n(u)},{"../../../utils":120,"./buildLine":59,earcut:2}],61:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=t.shape,n=r.x,i=r.y,o=r.width,u=r.height;if(t.fill){var l=(0,a.hex2rgb)(t.fillColor),h=t.fillAlpha,c=l[0]*h,f=l[1]*h,d=l[2]*h,p=e.points,v=e.indices,y=p.length/6;p.push(n,i),p.push(c,f,d,h),p.push(n+o,i),p.push(c,f,d,h),p.push(n,i+u),p.push(c,f,d,h),p.push(n+o,i+u),p.push(c,f,d,h),v.push(y,y,y+1,y+2,y+3,y+3)}if(t.lineWidth){var g=t.points;t.points=[n,i,n+o,i,n+o,i+u,n,i+u,n,i],(0,s.default)(t,e),t.points=g}}r.__esModule=!0,r.default=i;var o=t("./buildLine"),s=n(o),a=t("../../../utils")},{"../../../utils":120,"./buildLine":59}],62:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=t.shape,n=r.x,i=r.y,o=r.width,a=r.height,l=r.radius,f=[];if(f.push(n,i+l),s(n,i+a-l,n,i+a,n+l,i+a,f),s(n+o-l,i+a,n+o,i+a,n+o,i+a-l,f),s(n+o,i+l,n+o,i,n+o-l,i,f),s(n+l,i,n,i,n,i+l+1e-10,f),t.fill){for(var d=(0,c.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,m=e.points,_=e.indices,b=m.length/6,x=(0,u.default)(f,null,2),T=0,w=x.length;T<w;T+=3)_.push(x[T]+b),_.push(x[T]+b),_.push(x[T+1]+b),_.push(x[T+2]+b),_.push(x[T+2]+b);for(var E=0,S=f.length;E<S;E++)m.push(f[E],f[++E],v,y,g,p)}if(t.lineWidth){var O=t.points;t.points=f,(0,h.default)(t,e),t.points=O}}function o(t,e,r){var n=e-t;return t+n*r}function s(t,e,r,n,i,s){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=20,l=a,h=0,c=0,f=0,d=0,p=0,v=0,y=0,g=0;y<=u;++y)g=y/u,h=o(t,r,g),c=o(e,n,g),f=o(r,i,g),d=o(n,s,g),p=o(h,f,g),v=o(c,d,g),l.push(p,v);return l}r.__esModule=!0,r.default=i;var a=t("earcut"),u=n(a),l=t("./buildLine"),h=n(l),c=t("../../../utils")},{"../../../utils":120,"./buildLine":59,earcut:2}],63:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function(){return i(a).default}});var u=t("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return i(u).default}});var l=t("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function(){return i(l).default}});var h=t("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function(){return i(h).default}});var c=t("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function(){return i(c).default}});var f=t("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function(){return i(f).default}});var d=t("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function(){return i(d).default}});var p=t("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return i(p).default}});var v=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(v).default}});var y=t("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function(){return i(y).default}});var g=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function(){return i(g).default}});var m=t("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return i(m).default}});var _=t("./text/TextStyle");
Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function(){return i(_).default}});var b=t("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function(){return i(b).default}});var x=t("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function(){return i(x).default}});var T=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function(){return i(T).default}});var w=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(w).default}});var E=t("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function(){return i(E).default}});var S=t("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function(){return i(S).default}});var O=t("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function(){return i(O).default}});var P=t("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function(){return i(P).default}});var M=t("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function(){return i(M).default}});var C=t("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function(){return i(C).default}});var R=t("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function(){return i(R).default}});var A=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(A).default}});var I=t("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function(){return i(I).default}});var D=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function(){return i(D).default}});var L=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function(){return i(L).default}});var N=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function(){return i(N).default}});var F=t("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function(){return i(F).default}});var j=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(j).default}});var B=t("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function(){return i(B).default}});var k=t("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function(){return i(k).default}});var U=t("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=t("./utils"),G=n(X),W=t("./ticker"),H=n(W),V=t("./settings"),Y=i(V),z=t("./renderers/canvas/CanvasRenderer"),q=i(z),K=t("./renderers/webgl/WebGLRenderer"),Z=i(K);r.settings=Y.default,r.utils=G,r.ticker=H,r.CanvasRenderer=q.default,r.WebGLRenderer=Z.default},{"./Application":41,"./Shader":42,"./autoDetectRenderer":43,"./const":44,"./display/Bounds":45,"./display/Container":46,"./display/DisplayObject":47,"./display/Transform":48,"./display/TransformBase":49,"./display/TransformStatic":50,"./graphics/Graphics":51,"./graphics/GraphicsData":52,"./graphics/canvas/CanvasGraphicsRenderer":53,"./graphics/webgl/GraphicsRenderer":55,"./math":68,"./renderers/canvas/CanvasRenderer":75,"./renderers/canvas/utils/CanvasRenderTarget":77,"./renderers/webgl/WebGLRenderer":82,"./renderers/webgl/filters/Filter":84,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":87,"./renderers/webgl/managers/WebGLManager":91,"./renderers/webgl/utils/ObjectRenderer":92,"./renderers/webgl/utils/Quad":93,"./renderers/webgl/utils/RenderTarget":94,"./settings":99,"./sprites/Sprite":100,"./sprites/canvas/CanvasSpriteRenderer":101,"./sprites/canvas/CanvasTinter":102,"./sprites/webgl/SpriteRenderer":104,"./text/Text":106,"./text/TextStyle":107,"./textures/BaseRenderTexture":108,"./textures/BaseTexture":109,"./textures/RenderTexture":110,"./textures/Spritesheet":111,"./textures/Texture":112,"./textures/TextureUvs":113,"./textures/VideoBaseTexture":114,"./ticker":116,"./utils":120,"pixi-gl-core":12}],64:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return t<0?-1:t>0?1:0}function o(){for(var t=0;t<16;t++){var e=[];d.push(e);for(var r=0;r<16;r++)for(var n=i(u[t]*u[r]+h[t]*l[r]),o=i(l[t]*u[r]+c[t]*l[r]),s=i(u[t]*h[r]+h[t]*c[r]),p=i(l[t]*h[r]+c[t]*c[r]),v=0;v<16;v++)if(u[v]===n&&l[v]===o&&h[v]===s&&c[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new a.default;g.set(u[y],l[y],h[y],c[y],0,0),f.push(g)}}r.__esModule=!0;var s=t("./Matrix"),a=n(s),u=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],l=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],h=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f=[],d=[];o();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return u[t]},uY:function(t){return l[t]},vX:function(t){return h[t]},vY:function(t){return c[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return d[t][e]},sub:function(t,e){return d[t][p.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?p.S:p.N:2*Math.abs(e)<=Math.abs(t)?t>0?p.E:p.W:e>0?t>0?p.SE:p.SW:t>0?p.NE:p.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=f[p.inv(e)];i.tx=r,i.ty=n,t.append(i)}};r.default=p},{"./Matrix":65}],65:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./Point"),a=n(s),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i(this,t),this.a=e,this.b=r,this.c=n,this.d=o,this.tx=s,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new a.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new a.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){var l=Math.sin(s),h=Math.cos(s),c=Math.cos(u),f=Math.sin(u),d=-Math.sin(a),p=Math.cos(a),v=h*i,y=l*i,g=-l*o,m=h*o;return this.a=c*v+f*g,this.b=c*y+f*m,this.c=d*v+p*g,this.d=d*y+p*m,this.tx=t+(r*v+n*g),this.ty=e+(r*y+n*m),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},o(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();r.default=u},{"./Point":67}],66:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this._x=i,this._y=o,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();r.default=o},{}],67:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();r.default=i},{}],68:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return n(i).default}});var o=t("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var s=t("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function(){return n(s).default}});var a=t("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function(){return n(a).default}});var u=t("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return n(u).default}});var l=t("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return n(l).default}});var h=t("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return n(h).default}});var c=t("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return n(c).default}});var f=t("./shapes/RoundedRectangle");Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function(){return n(f).default}})},{"./GroupD8":64,"./Matrix":65,"./ObservablePoint":66,"./Point":67,"./shapes/Circle":69,"./shapes/Ellipse":70,"./shapes/Polygon":71,"./shapes/Rectangle":72,"./shapes/RoundedRectangle":73}],69:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("./Rectangle"),s=n(o),a=t("../../const"),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t),this.x=e,this.y=r,this.radius=n,this.type=a.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return n*=n,i*=i,n+i<=r},t.prototype.getBounds=function(){return new s.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();r.default=u},{"../../const":44,"./Rectangle":72}],70:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("./Rectangle"),s=n(o),a=t("../../const"),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this.x=e,this.y=r,this.width=n,this.height=o,this.type=a.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return r*=r,n*=n,r+n<=1},t.prototype.getBounds=function(){return new s.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();r.default=u},{"../../const":44,"./Rectangle":72}],71:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../Point"),s=n(o),a=t("../../const"),u=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(i(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof s.default){for(var o=[],u=0,l=r.length;u<l;u++)o.push(r[u].x,r[u].y);r=o}this.closed=!0,this.points=r,this.type=a.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1],h=a>e!=l>e&&t<(u-s)*((e-a)/(l-a))+s;h&&(r=!r)}return r},t}();r.default=u},{"../../const":44,"../Point":67}],72:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../const"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=e,this.y=r,this.width=i,this.height=s,this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();r.default=s},{"../../const":44}],73:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;n(this,t),this.x=e,this.y=r,this.width=o,this.height=s,this.radius=a,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if(r=t-(this.x+this.width-this.radius),r*r+n*n<=i)return!0;if(n=e-(this.y+this.height-this.radius),r*r+n*n<=i)return!0;if(r=t-(this.x+this.radius),r*r+n*n<=i)return!0}return!1},t}();r.default=o},{"../../const":44}],74:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../utils"),l=t("../math"),h=t("../const"),c=t("../settings"),f=n(c),d=t("../display/Container"),p=n(d),v=t("../textures/RenderTexture"),y=n(v),g=t("eventemitter3"),m=n(g),_=new l.Matrix,b=function(t){function e(r,n,s,a){i(this,e);var c=o(this,t.call(this));if((0,u.sayHello)(r),a)for(var d in f.default.RENDER_OPTIONS)"undefined"==typeof a[d]&&(a[d]=f.default.RENDER_OPTIONS[d]);else a=f.default.RENDER_OPTIONS;return c.type=h.RENDERER_TYPE.UNKNOWN,c.screen=new l.Rectangle(0,0,n||800,s||600),c.view=a.view||document.createElement("canvas"),c.resolution=a.resolution||f.default.RESOLUTION,c.transparent=a.transparent,c.autoResize=a.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=a.preserveDrawingBuffer,c.clearBeforeRender=a.clearBeforeRender,c.roundPixels=a.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=a.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new p.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return s(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r){var n=t.getLocalBounds(),i=y.default.create(0|n.width,0|n.height,e,r);return _.tx=-n.x,_.ty=-n.y,this.render(t,i,!1,_,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=h.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},a(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(m.default);r.default=b},{"../const":44,"../display/Container":46,"../math":68,"../settings":99,"../textures/RenderTexture":110,"../utils":120,eventemitter3:3}],75:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../SystemRenderer"),u=n(a),l=t("./utils/CanvasMaskManager"),h=n(l),c=t("./utils/CanvasRenderTarget"),f=n(c),d=t("./utils/mapCanvasBlendModesToPixi"),p=n(d),v=t("../../utils"),y=t("../../const"),g=t("../../settings"),m=n(g),_=function(t){function e(r,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e);var a=o(this,t.call(this,"Canvas",r,n,s));return a.type=y.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.refresh=!0,a.maskManager=new h.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,p.default)(),a._activeBlendMode=null,a.context=null,a.renderingToScreen=!1,a.resize(r,n),a}return s(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new f.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var a=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,s.globalCompositeOperation=this.blendModes[y.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=s,t.renderCanvas(this),this.context=l,this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=m.default.SCALE_MODE===y.SCALE_MODES.LINEAR)},e}(u.default);r.default=_,v.pluginTarget.mixin(_)},{"../../const":44,"../../settings":99,"../../utils":120,"../SystemRenderer":74,"./utils/CanvasMaskManager":76,"./utils/CanvasRenderTarget":77,"./utils/mapCanvasBlendModesToPixi":79}],76:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../../const"),o=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*s.width,h=2*s.height,c=s.x-l/2,f=s.y-h/2,d=.5522848,p=l/2*d,v=h/2*d,y=c+l,g=f+h,m=c+l/2,_=f+h/2;e.moveTo(c,_),e.bezierCurveTo(c,_-v,m-p,f,m,f),e.bezierCurveTo(m+p,f,y,_-v,y,_),e.bezierCurveTo(y,_+v,m+p,g,m,g),e.bezierCurveTo(m-p,g,c,_+v,c,_),e.closePath()}else if(o.type===i.SHAPES.RREC){var b=s.x,x=s.y,T=s.width,w=s.height,E=s.radius,S=Math.min(T,w)/2|0;E=E>S?S:E,e.moveTo(b,x+E),e.lineTo(b,x+w-E),e.quadraticCurveTo(b,x+w,b+E,x+w),e.lineTo(b+T-E,x+w),e.quadraticCurveTo(b+T,x+w,b+T,x+w-E),e.lineTo(b+T,x+E),e.quadraticCurveTo(b+T,x,b+T-E,x),e.lineTo(b+E,x),e.quadraticCurveTo(b,x,b,x+E),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore()},t.prototype.destroy=function(){},t}();r.default=o},{"../../../const":44}],77:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("../../../settings"),a=n(s),u=function(){function t(e,r,n){i(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||a.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},o(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();r.default=u},{"../../../settings":99}],78:[function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function i(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}r.__esModule=!0,r.default=i},{}],79:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,a.default)()?(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="multiply",t[o.BLEND_MODES.SCREEN]="screen",t[o.BLEND_MODES.OVERLAY]="overlay",t[o.BLEND_MODES.DARKEN]="darken",t[o.BLEND_MODES.LIGHTEN]="lighten",t[o.BLEND_MODES.COLOR_DODGE]="color-dodge",t[o.BLEND_MODES.COLOR_BURN]="color-burn",t[o.BLEND_MODES.HARD_LIGHT]="hard-light",t[o.BLEND_MODES.SOFT_LIGHT]="soft-light",t[o.BLEND_MODES.DIFFERENCE]="difference",t[o.BLEND_MODES.EXCLUSION]="exclusion",t[o.BLEND_MODES.HUE]="hue",t[o.BLEND_MODES.SATURATION]="saturate",t[o.BLEND_MODES.COLOR]="color",t[o.BLEND_MODES.LUMINOSITY]="luminosity"):(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="source-over",t[o.BLEND_MODES.SCREEN]="source-over",t[o.BLEND_MODES.OVERLAY]="source-over",t[o.BLEND_MODES.DARKEN]="source-over",t[o.BLEND_MODES.LIGHTEN]="source-over",t[o.BLEND_MODES.COLOR_DODGE]="source-over",t[o.BLEND_MODES.COLOR_BURN]="source-over",t[o.BLEND_MODES.HARD_LIGHT]="source-over",t[o.BLEND_MODES.SOFT_LIGHT]="source-over",t[o.BLEND_MODES.DIFFERENCE]="source-over",t[o.BLEND_MODES.EXCLUSION]="source-over",t[o.BLEND_MODES.HUE]="source-over",t[o.BLEND_MODES.SATURATION]="source-over",t[o.BLEND_MODES.COLOR]="source-over",t[o.BLEND_MODES.LUMINOSITY]="source-over"),t}r.__esModule=!0,r.default=i;var o=t("../../../const"),s=t("./canUseNewCanvasBlendModes"),a=n(s)},{"../../../const":44,"./canUseNewCanvasBlendModes":78}],80:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../const"),s=t("../../settings"),a=n(s),u=function(){function t(e){i(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}return t.prototype.update=function(){this.count++,
this.mode!==o.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();r.default=u},{"../../const":44,"../../settings":99}],81:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=t("../../const"),a=t("./utils/RenderTarget"),u=n(a),l=t("../../utils"),h=function(){function t(e){i(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===e){e=0;for(var a=0;a<i.length;++a)if(i[a]===t){e=a;break}}i[e]=t,r.activeTexture(r.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(n){var h=new u.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=h,l=h.texture}else l=new o.GLTexture(this.gl,null,null,null,null),l.bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===s.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===s.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===s.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(t),t._glTextures[this.renderer.CONTEXT_UID].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.renderer.CONTEXT_UID],!e)){var r=this._managedTextures.indexOf(t);r!==-1&&(0,l.removeItems)(this._managedTextures,r,1)}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();r.default=h},{"../../const":44,"../../utils":120,"./utils/RenderTarget":94,"pixi-gl-core":12}],82:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../SystemRenderer"),u=n(a),l=t("./managers/MaskManager"),h=n(l),c=t("./managers/StencilManager"),f=n(c),d=t("./managers/FilterManager"),p=n(d),v=t("./utils/RenderTarget"),y=n(v),g=t("./utils/ObjectRenderer"),m=n(g),_=t("./TextureManager"),b=n(_),x=t("../../textures/BaseTexture"),T=n(x),w=t("./TextureGarbageCollector"),E=n(w),S=t("./WebGLState"),O=n(S),P=t("./utils/mapWebGLDrawModesToPixi"),M=n(P),C=t("./utils/validateContext"),R=n(C),A=t("../../utils"),I=t("pixi-gl-core"),D=n(I),L=t("../../const"),N=0,F=function(t){function e(r,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e);var a=o(this,t.call(this,"WebGL",r,n,s));return a.legacy=!!s.legacy,a.legacy&&(D.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=L.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:s.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:s.preserveDrawingBuffer},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new h.default(a),a.stencilManager=new f.default(a),a.emptyRenderer=new m.default(a),a.currentRenderer=a.emptyRenderer,a.initPlugins(),s.context&&(0,R.default)(s.context),a.gl=s.context||D.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=N++,a.state=new O.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.filterManager=new p.default(a),a.drawModes=(0,M.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return s(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new b.default(this),this.textureGC=new E.default(this),this.state.resetToDefault(),this.rootRenderTarget=new y.default(t,this.width,this.height,null,this.resolution,(!0)),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new D.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new T.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){u.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),e!==!1&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new D.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(u.default);r.default=F,A.pluginTarget.mixin(F)},{"../../const":44,"../../textures/BaseTexture":109,"../../utils":120,"../SystemRenderer":74,"./TextureGarbageCollector":80,"./TextureManager":81,"./WebGLState":83,"./managers/FilterManager":88,"./managers/MaskManager":89,"./managers/StencilManager":90,"./utils/ObjectRenderer":92,"./utils/RenderTarget":94,"./utils/mapWebGLDrawModesToPixi":97,"./utils/validateContext":98,"pixi-gl-core":12}],83:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("./utils/mapWebGLBlendModesToPixi"),s=n(o),a=0,u=1,l=2,h=3,c=4,f=function(){function t(e){i(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,s.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[a]),this.setDepthTest(t[u]),this.setFrontFace(t[l]),this.setCullFace(t[h]),this.setBlendMode(t[c])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[a]!==t&&(this.activeState[a]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){t!==this.activeState[c]&&(this.activeState[c]=t,this.gl.blendFunc(this.blendModes[t][0],this.blendModes[t][1]))},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[u]!==t&&(this.activeState[u]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[h]!==t&&(this.activeState[h]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[l]!==t&&(this.activeState[l]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();r.default=f},{"./utils/mapWebGLBlendModesToPixi":96}],84:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./extractUniformsFromSrc"),a=n(s),u=t("../../../utils"),l=t("../../../const"),h=t("../../../settings"),c=n(h),f={},d=function(){function t(e,r,n){i(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.blendMode=l.BLEND_MODES.NORMAL,this.uniformData=n||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value;this.glShaders={},f[this.vertexSrc+this.fragmentSrc]||(f[this.vertexSrc+this.fragmentSrc]=(0,u.uid)()),this.glShaderKey=f[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.RESOLUTION,this.enabled=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},o(t,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();r.default=d},{"../../../const":44,"../../../settings":99,"../../../utils":120,"./extractUniformsFromSrc":85}],85:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){var n=o(t,r),i=o(e,r);return Object.assign(n,i)}function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var s=i[o].trim();if(s.indexOf("uniform")>-1){var a=s.split(" "),l=a[1],h=a[2],c=1;h.indexOf("[")>-1&&(n=h.split(/\[|]/),h=n[0],c*=Number(n[1])),h.match(e)||(r[h]={value:u(l,c),name:h,type:l})}}return r}r.__esModule=!0,r.default=i;var s=t("pixi-gl-core"),a=n(s),u=a.default.shader.defaultValue},{"pixi-gl-core":12}],86:[function(t,e,r){"use strict";function n(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}function i(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}function o(t,e,r,n){var i=n.worldTransform.copy(s.Matrix.TEMP_MATRIX),o=n._texture.baseTexture,a=t.identity(),u=r.height/r.width;a.translate(e.x/r.width,e.y/r.height),a.scale(1,u);var l=r.width/o.width,h=r.height/o.height;return i.tx/=o.width*l,i.ty/=o.width*l,i.invert(),a.prepend(i),a.scale(1,1/u),a.scale(l,h),a.translate(n.anchor.x,n.anchor.y),a}r.__esModule=!0,r.calculateScreenSpaceMatrix=n,r.calculateNormalizedScreenSpaceMatrix=i,r.calculateSpriteMatrix=o;var s=t("../../../math")},{"../../../math":68}],87:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../Filter"),u=n(a),l=t("../../../../math"),h=(t("path"),function(t){function e(r){i(this,e);var n=new l.Matrix,s=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,s.maskSprite=r,s.maskMatrix=n,s}return s(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,t.applyFilter(this,e,r)},e}(u.default));r.default=h},{"../../../../math":68,"../Filter":84,path:22}],88:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var u=t("./WebGLManager"),l=i(u),h=t("../utils/RenderTarget"),c=i(h),f=t("../utils/Quad"),d=i(f),p=t("../../../math"),v=t("../../../Shader"),y=i(v),g=t("../filters/filterTransforms"),m=n(g),_=t("bit-twiddle"),b=i(_),x=function t(){a(this,t),this.renderTarget=null,this.sourceFrame=new p.Rectangle,this.destinationFrame=new p.Rectangle,this.filters=[],this.target=null,this.resolution=1},T=function(t){function e(r){a(this,e);var n=o(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new d.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n}return s(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new x;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new x);var s=e[0].resolution,a=0|e[0].padding,u=t.filterArea||t.getBounds(!0),l=o.sourceFrame,h=o.destinationFrame;l.x=(u.x*s|0)/s,l.y=(u.y*s|0)/s,l.width=(u.width*s|0)/s,l.height=(u.height*s|0)/s,n.stack[0].renderTarget.transform||l.fit(n.stack[0].destinationFrame),l.pad(a),h.width=l.width,h.height=l.height;var c=this.getPotRenderTarget(r.gl,l.width,l.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=c,c.setFrame(h,l),r.bindRenderTarget(c),c.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey],s||(s=new y.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s)):s=t.glShaders[i.CONTEXT_UID]=new y.default(this.gl,t.vertexSrc,t.fragmentSrc),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r)if("sampler2D"===r[u].type&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===r[u].type)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===r[u].type)if(void 0!==n[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=n[u].x,h[1]=n[u].y,t.uniforms[u]=h}else t.uniforms[u]=n[u];else"float"===r[u].type?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return m.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return m.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return m.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){e=b.default.nextPow2(e*n),r=b.default.nextPow2(r*n);var i=(65535&e)<<16|65535&r;this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new c.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,n=(65535&e)<<16|65535&r;this.pool[n].push(t)},e}(l.default);r.default=T},{"../../../Shader":42,"../../../math":68,"../filters/filterTransforms":86,"../utils/Quad":93,"../utils/RenderTarget":94,"./WebGLManager":91,"bit-twiddle":1}],89:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./WebGLManager"),u=n(a),l=t("../filters/spriteMask/SpriteMaskFilter"),h=n(l),c=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return s(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new h.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(u.default);r.default=c},{"../filters/spriteMask/SpriteMaskFilter":87,"./WebGLManager":91}],90:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./WebGLManager"),u=n(a),l=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.stencilMaskStack=null,n}return s(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack;0===r.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.ALWAYS,1,1)),r.push(t),e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,r.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack,r=e.pop();0===e.length?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(r),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP))},e.prototype.destroy=function(){u.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(u.default);r.default=l},{"./WebGLManager":91}],91:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},
t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();r.default=i},{}],92:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../managers/WebGLManager"),u=n(a),l=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(u.default);r.default=l},{"../managers/WebGLManager":91}],93:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=t("../../../utils/createIndicesForQuads"),u=n(a),l=function(){function t(e,r){i(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,u.default)(1),this.vertexBuffer=s.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();r.default=l},{"../../../utils/createIndicesForQuads":118,"pixi-gl-core":12}],94:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../../math"),s=t("../../../const"),a=t("../../../settings"),u=n(a),l=t("pixi-gl-core"),h=function(){function t(e,r,n,a,h,c){i(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new o.Rectangle(0,0,1,1),this.resolution=h||u.default.RESOLUTION,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==a?a:u.default.SCALE_MODE,this.root=c,this.root?(this.frameBuffer=new l.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===s.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();r.default=h},{"../../../const":44,"../../../math":68,"../../../settings":99,"pixi-gl-core":12}],95:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r=!e;if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=a.default.createContext(n)}for(var i=e.createShader(e.FRAGMENT_SHADER);;){var s=u.replace(/%forloop%/gi,o(t));if(e.shaderSource(i,s),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function o(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}r.__esModule=!0,r.default=i;var s=t("pixi-gl-core"),a=n(s),u=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":12}],96:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e}r.__esModule=!0,r.default=n;var i=t("../../../const")},{"../../../const":44}],97:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}r.__esModule=!0,r.default=n;var i=t("../../../const")},{"../../../const":44}],98:[function(t,e,r){"use strict";function n(t){var e=t.getContextAttributes();e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}r.__esModule=!0,r.default=n},{}],99:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./utils/maxRecommendedTextures"),o=n(i),s=t("./utils/canUploadSameBuffer"),a=n(s);r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a.default)()}},{"./utils/canUploadSameBuffer":117,"./utils/maxRecommendedTextures":121}],100:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../math"),l=t("../utils"),h=t("../const"),c=t("../textures/Texture"),f=n(c),d=t("../display/Container"),p=n(d),v=new u.Point,y=function(t){function e(r){i(this,e);var n=o(this,t.call(this));return n._anchor=new u.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=h.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||f.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return s(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this.texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this.texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;l?(d=l.x-c._x*h.width,f=d+l.width,v=l.y-c._y*h.height,p=v+l.height):(d=-c._x*h.width,f=d+h.width,v=-c._y*h.height,p=v+h.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+l,e[1]=u*d+s*c+h,e[2]=o*f+a*d+l,e[3]=u*d+s*f+h,e[4]=o*f+a*p+l,e[5]=u*p+s*f+h,e[6]=o*c+a*p+l,e[7]=u*p+s*c+h},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return v.x>n&&v.x<n+e&&(i=-r*this.anchor.y,v.y>i&&v.y<i+r)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._anchor=null;var r="boolean"==typeof e?e:e&&e.texture;if(r){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(f.default.from(t))},e.fromFrame=function(t){var r=l.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(f.default.fromImage(t,r,n))},a(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(p.default);r.default=y},{"../const":44,"../display/Container":46,"../math":68,"../textures/Texture":112,"../utils":120}],101:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../renderers/canvas/CanvasRenderer"),s=n(o),a=t("../../const"),u=t("../../math"),l=t("./CanvasTinter"),h=n(l),c=new u.Matrix,f=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,s=0,l=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===a.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(s=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,l=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(s=(.5-t.anchor.x)*e.orig.width,l=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(c),o=c,u.GroupD8.matrixAppendRotationInv(o,e.rotate,s,l),s=0,l=0),s-=n/2,l-=i/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution|0,o.ty*r.resolution|0),s=0|s,l=0|l):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=h.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,i*d,s*r.resolution,l*r.resolution,n*r.resolution,i*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,i*d,s*r.resolution,l*r.resolution,n*r.resolution,i*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();r.default=f,s.default.registerPlugin("sprite",f)},{"../../const":44,"../../math":68,"../../renderers/canvas/CanvasRenderer":75,"./CanvasTinter":102}],102:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("../../utils"),o=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),s=n(o),a={getTintedTexture:function(t,e){var r=t.texture;e=a.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[n])return r.tintCache[n];var i=a.canvas||document.createElement("canvas");if(a.tintMethod(r,e,i),a.convertTintToImage){var o=new Image;o.src=i.toDataURL(),r.tintCache[n]=o}else r.tintCache[n]=i,a.canvas=null;return i},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var a=(0,i.hex2rgb)(e),u=a[0],l=a[1],h=a[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=h;n.putImageData(c,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s.default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,r.default=a},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":78,"../../utils":120}],103:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();r.default=i},{}],104:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../renderers/webgl/utils/ObjectRenderer"),u=n(a),l=t("../../renderers/webgl/WebGLRenderer"),h=n(l),c=t("../../utils/createIndicesForQuads"),f=n(c),d=t("./generateMultiTextureShader"),p=n(d),v=t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),y=n(v),g=t("./BatchBuffer"),m=n(g),_=t("../../settings"),b=n(_),x=t("pixi-gl-core"),T=n(x),w=t("bit-twiddle"),E=n(w),S=0,O=0,P=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=b.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var s=1;s<=E.default.nextPow2(n.size);s*=2)n.buffers.push(new m.default(4*s*n.vertByteSize));n.indices=(0,f.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var a=0;a<n.size;a++)n.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,y.default)(this.MAX_TEXTURES,t));var e=this.shader=(0,p.default)(t,this.MAX_TEXTURES);this.indexBuffer=T.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var r=0;r<this.vaoMax;r++)this.vertexBuffers[r]=T.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),this.vaos[r]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[r],e.attributes.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[r],e.attributes.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[r],e.attributes.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),e.attributes.aTextureId&&this.vaos[r].addAttribute(this.vertexBuffers[r],e.attributes.aTextureId,t.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=E.default.nextPow2(this.currentIndex),n=E.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,l=this.boundTextures,h=this.renderer.boundTextures,c=this.renderer.textureGC.count,f=0,d=void 0,p=void 0,v=1,y=0,g=s[0],m=void 0,_=void 0,x=o[0].blendMode;g.textureCount=0,g.start=0,g.blend=x,S++;var w=void 0;for(w=0;w<e;++w)l[w]=h[w],l[w]._virtalBoundId=w;for(w=0;w<this.currentIndex;++w){var P=o[w];if(d=P._texture.baseTexture,x!==P.blendMode&&(x=P.blendMode,p=null,y=e,S++),p!==d&&(p=d,d._enabled!==S)){if(y===e&&(S++,g.size=w-g.start,y=0,g=s[v++],g.blend=x,g.textureCount=0,g.start=w),d.touched=c,d._virtalBoundId===-1)for(var M=0;M<e;++M){var C=(M+O)%e,R=l[C];if(R._enabled!==S){O++,R._virtalBoundId=-1,d._virtalBoundId=C,l[C]=d;break}}d._enabled=S,g.textureCount++,g.ids[y]=d._virtalBoundId,g.textures[y++]=d}if(m=P.vertexData,_=P._texture._uvs.uvsUint32,this.renderer.roundPixels){var A=this.renderer.resolution;a[f]=(m[0]*A|0)/A,a[f+1]=(m[1]*A|0)/A,a[f+5]=(m[2]*A|0)/A,a[f+6]=(m[3]*A|0)/A,a[f+10]=(m[4]*A|0)/A,a[f+11]=(m[5]*A|0)/A,a[f+15]=(m[6]*A|0)/A,a[f+16]=(m[7]*A|0)/A}else a[f]=m[0],a[f+1]=m[1],a[f+5]=m[2],a[f+6]=m[3],a[f+10]=m[4],a[f+11]=m[5],a[f+15]=m[6],a[f+16]=m[7];u[f+2]=_[0],u[f+7]=_[1],u[f+12]=_[2],u[f+17]=_[3],u[f+3]=u[f+8]=u[f+13]=u[f+18]=P._tintRGB+(255*Math.min(P.worldAlpha,1)<<24),a[f+4]=a[f+9]=a[f+14]=a[f+19]=d._virtalBoundId,f+=20}for(g.size=w-g.start,b.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=T.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12),this.shader.attributes.aTextureId&&this.vaos[this.vertexCount].addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,t.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++),w=0;w<e;++w)h[w]._virtalBoundId=-1;for(w=0;w<v;++w){for(var I=s[w],D=I.textureCount,L=0;L<D;L++)p=I.textures[L],h[I.ids[L]]!==p&&this.renderer.bindTexture(p,I.ids[L],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(I.blend),t.drawElements(t.TRIANGLES,6*I.size,t.UNSIGNED_SHORT,6*I.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),b.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(u.default);r.default=P,h.default.registerPlugin("sprite",P)},{"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":95,"../../settings":99,"../../utils/createIndicesForQuads":118,"./BatchBuffer":103,"./generateMultiTextureShader":105,"bit-twiddle":1,"pixi-gl-core":12}],105:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",n=u;n=n.replace(/%count%/gi,e),n=n.replace(/%forloop%/gi,o(e));for(var i=new a.default(t,r,n),s=[],l=0;l<e;l++)s[l]=l;return i.bind(),i.uniforms.uSamplers=s,i}function o(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}r.__esModule=!0,r.default=i;var s=t("../../Shader"),a=n(s),u=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":42,path:22}],106:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../sprites/Sprite"),l=n(u),h=t("../textures/Texture"),c=n(h),f=t("../math"),d=t("../utils"),p=t("../const"),v=t("../settings"),y=n(v),g=t("./TextStyle"),m=n(g),_=t("../utils/trimCanvas"),b=n(_),x={texture:!0,children:!1,baseTexture:!0},T=function(t){function e(r,n,s){i(this,e),s=s||document.createElement("canvas"),s.width=3,s.height=3;var a=c.default.fromCanvas(s);a.orig=new f.Rectangle,a.trim=new f.Rectangle;var u=o(this,t.call(this,a));return u.canvas=s,u.context=u.canvas.getContext("2d"),u.resolution=y.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return s(e,t),e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!t){this._font=e.getFontStyle(r),this.context.font=this._font;for(var n=r.wordWrap?this.wordWrap(this._text):this._text,i=n.split(/(?:\r\n|\r|\n)/),o=new Array(i.length),s=0,a=e.calculateFontProperties(this._font),u=0;u<i.length;u++){var l=this.context.measureText(i[u]).width+(i[u].length-1)*r.letterSpacing;o[u]=l,s=Math.max(s,l)}var h=s+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance),this.canvas.width=Math.ceil((h+2*r.padding)*this.resolution);var c=r.lineHeight||a.fontSize+r.strokeThickness,f=Math.max(c,a.fontSize+r.strokeThickness)+(i.length-1)*c;r.dropShadow&&(f+=r.dropShadowDistance),this.canvas.height=Math.ceil((f+2*r.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=r.stroke,this.context.lineWidth=r.strokeThickness,this.context.textBaseline=r.textBaseline,this.context.lineJoin=r.lineJoin,this.context.miterLimit=r.miterLimit;var d=void 0,p=void 0;if(r.dropShadow){this.context.shadowBlur=r.dropShadowBlur,this.context.globalAlpha=r.dropShadowAlpha,r.dropShadowBlur>0?this.context.shadowColor=r.dropShadowColor:this.context.fillStyle=r.dropShadowColor;for(var v=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,y=Math.sin(r.dropShadowAngle)*r.dropShadowDistance,g=0;g<i.length;g++)d=r.strokeThickness/2,p=r.strokeThickness/2+g*c+a.ascent,"right"===r.align?d+=s-o[g]:"center"===r.align&&(d+=(s-o[g])/2),r.fill&&(this.drawLetterSpacing(i[g],d+v+r.padding,p+y+r.padding),r.stroke&&r.strokeThickness&&(this.context.strokeStyle=r.dropShadowColor,this.drawLetterSpacing(i[g],d+v+r.padding,p+y+r.padding,!0),this.context.strokeStyle=r.stroke))}this.context.shadowBlur=0,this.context.globalAlpha=1,this.context.fillStyle=this._generateFillStyle(r,i);for(var m=0;m<i.length;m++)d=r.strokeThickness/2,p=r.strokeThickness/2+m*c+a.ascent,"right"===r.align?d+=s-o[m]:"center"===r.align&&(d+=(s-o[m])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(i[m],d+r.padding,p+r.padding,!0),
r.fill&&this.drawLetterSpacing(i[m],d+r.padding,p+r.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0===o)return void(n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));for(var s=String.prototype.split.call(t,""),a=e,u=0,l="";u<t.length;)l=s[u++],n?this.context.strokeText(l,a,r):this.context.fillText(l,a,r),a+=this.context.measureText(l).width+o},e.prototype.updateTexture=function(){if(this._style.trim){var t=(0,b.default)(this.canvas);this.canvas.width=t.width,this.canvas.height=t.height,this.context.putImageData(t.data,0,0)}var e=this._texture,r=this._style;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.realWidth=this.canvas.width,e.baseTexture.realHeight=this.canvas.height,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.trim.width=e._frame.width=this.canvas.width/this.resolution,e.trim.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=-r.padding,e.trim.y=-r.padding,e.orig.width=e._frame.width-2*r.padding,e.orig.height=e._frame.height-2*r.padding,this._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.wordWrap=function(t){for(var e="",r=this._style,n=t.split("\n"),i=r.wordWrapWidth,o=0;o<n.length;o++){for(var s=i,a=n[o].split(" "),u=0;u<a.length;u++){var l=this.context.measureText(a[u]).width;if(r.breakWords&&l>i)for(var h=a[u].split(""),c=0;c<h.length;c++){var f=this.context.measureText(h[c]).width;f>s?(e+="\n"+h[c],s=i-f):(0===c&&(e+=" "),e+=h[c],s-=f)}else{var d=l+this.context.measureText(" ").width;0===u||d>s?(u>0&&(e+="\n"),e+=a[u],s=i-l):(s-=d,e+=" "+a[u])}}o<n.length-1&&(e+="\n")}return e},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,c=1;c<h;++c)l.push(c/h);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(u.length+1)*e.length,i=0;for(var f=0;f<e.length;f++){i+=1;for(var d=0;d<u.length;d++)o=l[d]?l[d]/e.length+f/e.length:i/n,r.addColorStop(o,u[d]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=u.length+1,i=1;for(var v=0;v<u.length;v++)o=l[v]?l[v]:i/n,r.addColorStop(o,u[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},x,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},e.getFontStyle=function(t){t=t||{},t instanceof m.default||(t=new m.default(t));var e="number"==typeof t.fontSize?t.fontSize+"px":t.fontSize,r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();/([\"\'])[^\'\"]+\1/.test(i)||(i='"'+i+'"'),r[n]=i}return t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+e+" "+r.join(",")},e.calculateFontProperties=function(t){if(e.fontPropertiesCache[t])return e.fontPropertiesCache[t];var r={},n=e.fontPropertiesCanvas,i=e.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|Mq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|Mq",0,s);var u=i.getImageData(0,0,o,a).data,l=u.length,h=4*o,c=0,f=0,d=!1;for(c=0;c<s;++c){for(var p=0;p<h;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=h}for(r.ascent=s-c,f=l-h,d=!1,c=a;c>s;--c){for(var v=0;v<h;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=h}return r.descent=c-s,r.fontSize=r.ascent+r.descent,e.fontPropertiesCache[t]=r,r},a(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof m.default?this._style=t:this._style=new m.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(l.default);r.default=T,T.fontPropertiesCache={},T.fontPropertiesCanvas=document.createElement("canvas"),T.fontPropertiesContext=T.fontPropertiesCanvas.getContext("2d")},{"../const":44,"../math":68,"../settings":99,"../sprites/Sprite":100,"../textures/Texture":112,"../utils":120,"../utils/trimCanvas":124,"./TextStyle":107}],107:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=i(t[e]);return t}return i(t)}function s(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../const"),l=t("../utils"),h={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:u.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},c=function(){function t(e){n(this,t),this.styleID=0,Object.assign(this,h,e)}return t.prototype.clone=function(){var e={};for(var r in h)e[r]=this[r];return new t(e)},t.prototype.reset=function(){Object.assign(this,h)},a(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){s(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();r.default=c},{"../const":44,"../utils":120}],108:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./BaseTexture"),u=n(a),l=t("../settings"),h=n(l),c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments[2],a=arguments[3];i(this,e);var u=o(this,t.call(this,null,s));return u.resolution=a||h.default.RESOLUTION,u.width=r,u.height=n,u.realWidth=u.width*u.resolution,u.realHeight=u.height*u.resolution,u.scaleMode=void 0!==s?s:h.default.SCALE_MODE,u.hasLoaded=!0,u._glRenderTargets={},u._canvasRenderTarget=null,u.valid=!1,u}return s(e,t),e.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(u.default);r.default=c},{"../settings":99,"./BaseTexture":109}],109:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=t("../utils"),l=t("../settings"),h=n(l),c=t("eventemitter3"),f=n(c),d=t("../utils/determineCrossOrigin"),p=n(d),v=t("bit-twiddle"),y=n(v),g=function(t){function e(r,n,s){i(this,e);var a=o(this,t.call(this));return a.uid=(0,u.uid)(),a.touched=0,a.resolution=s||h.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==n?n:h.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=h.default.MIPMAP_TEXTURES,a.wrapMode=h.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,r&&a.loadSource(r),a._destroyed=!1,a}return s(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=y.default.isPow2(this.realWidth)&&y.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this,r=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,r&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){var i=function(){e.isLoading=!0;var n=e;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading)return n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType?void n._loadSvgSource():void n.emit("loaded",n)},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return n._loadSvgSource(),{v:void 0};e.isLoading=!1,t.width&&t.height?(e._sourceLoaded(),r&&e.emit("loaded",e)):r&&e.emit("error",e)}}();if("object"===("undefined"==typeof i?"undefined":a(i)))return i.v}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,u.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(e=(0,u.getUrlFileExtension)("."+r),!e)throw new Error("Invalid image type in data URI.")}else e=(0,u.getUrlFileExtension)(this.imageUrl),e||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,u.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var e=(0,u.getSvgSize)(t),r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(r*this.sourceScale),this.realHeight=Math.round(n*this.sourceScale),this._updateDimensions();var i=document.createElement("canvas");i.width=this.realWidth,i.height=this.realHeight,i._pixiId="canvas_"+(0,u.uid)(),i.getContext("2d").drawImage(this.source,0,0,r,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=i,u.BaseTextureCache[i._pixiId]=this,this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete u.BaseTextureCache[this.imageUrl],delete u.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source&&this.source._pixiId&&delete u.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose(),this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,i){var o=u.BaseTextureCache[t];if(!o){var s=new Image;void 0===r&&0!==t.indexOf("data:")&&(s.crossOrigin=(0,p.default)(t)),o=new e(s,n),o.imageUrl=t,i&&(o.sourceScale=i),o.resolution=(0,u.getResolutionOfUrl)(t),s.src=t,u.BaseTextureCache[t]=o}return o},e.fromCanvas=function(t,r){t._pixiId||(t._pixiId="canvas_"+(0,u.uid)());var n=u.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),u.BaseTextureCache[t._pixiId]=n),n},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var i=t.src,o=u.BaseTextureCache[i];return o||(o=new e(t,r),o.imageUrl=i,n&&(o.sourceScale=n),o.resolution=(0,u.getResolutionOfUrl)(i),u.BaseTextureCache[i]=o),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e}(f.default);r.default=g},{"../settings":99,"../utils":120,"../utils/determineCrossOrigin":119,"bit-twiddle":1,eventemitter3:3}],110:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./BaseRenderTexture"),u=n(a),l=t("./Texture"),h=n(l),c=function(t){function e(r,n){i(this,e);var s=null;if(!(r instanceof u.default)){var a=arguments[1],l=arguments[2],h=arguments[3],c=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+l+") instead of the ctor directly."),s=arguments[0],n=null,r=new u.default(a,l,h,c)}var f=o(this,t.call(this,r,n));return f.legacyRenderer=s,f.valid=!0,f._updateUvs(),f}return s(e,t),e.prototype.resize=function(t,e,r){this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,i){return new e(new u.default(t,r,n,i))},e}(h.default);r.default=c},{"./BaseRenderTexture":108,"./Texture":112}],111:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../"),s=t("../utils"),a=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],a=this._frames[i].frame;if(a){var u=null,l=null,h=new o.Rectangle(0,0,this._frames[i].sourceSize.w/this.resolution,this._frames[i].sourceSize.h/this.resolution);u=this._frames[i].rotated?new o.Rectangle(a.x/this.resolution,a.y/this.resolution,a.h/this.resolution,a.w/this.resolution):new o.Rectangle(a.x/this.resolution,a.y/this.resolution,a.w/this.resolution,a.h/this.resolution),this._frames[i].trimmed&&(l=new o.Rectangle(this._frames[i].spriteSourceSize.x/this.resolution,this._frames[i].spriteSourceSize.y/this.resolution,a.w/this.resolution,a.h/this.resolution)),this.textures[i]=new o.Texture(this.baseTexture,u,h,l,this._frames[i].rotated?2:0),s.TextureCache[i]=this.textures[i]}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();r.default=a},{"../":63,"../utils":120}],112:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new b(new c.default(t))}function u(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}r.__esModule=!0;var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("./BaseTexture"),c=n(h),f=t("./VideoBaseTexture"),d=n(f),p=t("./TextureUvs"),v=n(p),y=t("eventemitter3"),g=n(y),m=t("../math"),_=t("../utils"),b=function(t){function e(r,n,s,a,u){i(this,e);var l=o(this,t.call(this));if(l.noFrame=!1,n||(l.noFrame=!0,n=new m.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=a,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=s||n,l._rotate=Number(u||0),u===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(l.noFrame&&(n=new m.Rectangle(0,0,r.width,r.height),r.on("update",l.onBaseTextureUpdated,l)),l.frame=n):r.once("loaded",l.onBaseTextureLoaded,l),l._updateID=0,l.transform=null,l}return s(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new m.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(_.TextureCache[this.baseTexture.imageUrl]&&delete _.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new v.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,i){var o=_.TextureCache[t];return o||(o=new e(c.default.fromImage(t,r,n,i)),_.TextureCache[t]=o),o},e.fromFrame=function(t){var e=_.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){return new e(c.default.fromCanvas(t,r))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(d.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(d.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=_.TextureCache[t];if(!r){var n=null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return n?e.fromVideoUrl(t):e.fromImage(t)}return r}return t instanceof HTMLImageElement?new e(c.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof c.default?new e(t):t},e.fromLoader=function(t,r,n){var i=new c.default(t,(void 0),(0,_.getResolutionOfUrl)(r)),o=new e(i);return i.imageUrl=r,n||(n=r),_.BaseTextureCache[n]=i,_.TextureCache[n]=o,n!==r&&(_.BaseTextureCache[r]=i,_.TextureCache[r]=o),o},e.addTextureToCache=function(t,e){_.TextureCache[e]=t},e.removeTextureFromCache=function(t){var e=_.TextureCache[t];return delete _.TextureCache[t],delete _.BaseTextureCache[t],e},l(e,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+("X: "+t.x+" + "+t.width+" > "+this.baseTexture.width+" ")+("Y: "+t.y+" + "+t.height+" > "+this.baseTexture.height));this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(g.default);r.default=b,b.EMPTY=new b(new c.default),u(b.EMPTY),b.WHITE=a(),u(b.WHITE)},{"../math":68,"../utils":120,"./BaseTexture":109,"./TextureUvs":113,"./VideoBaseTexture":114,eventemitter3:3}],113:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../math/GroupD8"),s=n(o),a=function(){function t(){i(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,u=t.x/n+o,l=t.y/i+a;r=s.default.add(r,s.default.NW),this.x0=u+o*s.default.uX(r),this.y0=l+a*s.default.uY(r),r=s.default.add(r,2),this.x1=u+o*s.default.uX(r),this.y1=l+a*s.default.uY(r),r=s.default.add(r,2),this.x2=u+o*s.default.uX(r),this.y2=l+a*s.default.uY(r),r=s.default.add(r,2),this.x3=u+o*s.default.uX(r),this.y3=l+a*s.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();r.default=a},{"../math/GroupD8":64}],114:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}r.__esModule=!0;var l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("./BaseTexture"),c=i(h),f=t("../utils"),d=t("../ticker"),p=n(d),v=function(t){function e(r,n){if(o(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=s(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return a(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===!1&&t.ended===!1&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(p.shared.add(this.update,this),this._isAutoUpdating=!0);
},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(p.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&p.shared.remove(this.update,this),this.source&&this.source._pixiId&&(delete f.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,f.uid)());var n=f.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),f.BaseTextureCache[t._pixiId]=n),n},e.fromUrl=function(t,r){var n=document.createElement("video");if(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),Array.isArray(t))for(var i=0;i<t.length;++i)n.appendChild(u(t[i].src||t[i],t[i].mime));else n.appendChild(u(t.src||t,t.mime));return n.load(),e.fromVideo(n,r)},l(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(p.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(p.shared.add(this.update,this),this._isAutoUpdating=!0))}}]),e}(c.default);r.default=v,v.fromUrls=v.fromUrl},{"../ticker":116,"../utils":120,"./BaseTexture":109}],115:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("../settings"),a=n(s),u=t("eventemitter3"),l=n(u),h="tick",c=function(){function t(){var e=this;i(this,t),this._emitter=new l.default,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/a.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(h,!0)&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(h,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){return this._emitter.on(h,t,e),this._startIfPossible(),this},t.prototype.addOnce=function(t,e){return this._emitter.once(h,t,e),this._startIfPossible(),this},t.prototype.remove=function(t,e){return this._emitter.off(h,t,e),this._emitter.listeners(h,!0)||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;t>this.lastTime?(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*a.default.TARGET_FPMS*this.speed,this._emitter.emit(h,this.deltaTime)):this.deltaTime=this.elapsedMS=0,this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();r.default=c},{"../settings":99,eventemitter3:3}],116:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.Ticker=r.shared=void 0;var i=t("./Ticker"),o=n(i),s=new o.default;s.autoStart=!0,r.shared=s,r.Ticker=o.default},{"./Ticker":115}],117:[function(t,e,r){"use strict";function n(){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!t}r.__esModule=!0,r.default=n},{}],118:[function(t,e,r){"use strict";function n(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}r.__esModule=!0,r.default=n},{}],119:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,a||(a=document.createElement("a")),a.href=t,t=s.default.parse(a.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}r.__esModule=!0,r.default=i;var o=t("url"),s=n(o),a=void 0},{url:28}],120:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(){return++A}function s(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function a(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t}function u(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function l(t,e){var r=T.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}function h(t){var e=b.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}}function c(t){var e=b.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function f(t){var e=b.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}function d(){I=!0}function p(t){if(!I){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+b.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+b.VERSION+" - "+t+" - http://www.pixijs.com/");I=!0}}function v(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}}function y(t){return 0===t?0:t<0?-1:1}function g(t,e,r){var n=t.length;if(!(e>=n||0===r)){r=e+r>n?n-e:r;for(var i=n-r,o=e;o<i;++o)t[o]=t[o+r];t.length=i}}function m(){var t=void 0;for(t in D)D[t].destroy();for(t in L)L[t].destroy()}function _(){var t=void 0;for(t in D)delete D[t];for(t in L)delete L[t]}r.__esModule=!0,r.BaseTextureCache=r.TextureCache=r.mixins=r.pluginTarget=r.EventEmitter=r.isMobile=void 0,r.uid=o,r.hex2rgb=s,r.hex2string=a,r.rgb2hex=u,r.getResolutionOfUrl=l,r.decomposeDataUri=h,r.getUrlFileExtension=c,r.getSvgSize=f,r.skipHello=d,r.sayHello=p,r.isWebGLSupported=v,r.sign=y,r.removeItems=g,r.destroyTextureCache=m,r.clearTextureCache=_;var b=t("../const"),x=t("../settings"),T=i(x),w=t("eventemitter3"),E=i(w),S=t("./pluginTarget"),O=i(S),P=t("./mixin"),M=n(P),C=t("ismobilejs"),R=n(C),A=0,I=!1;r.isMobile=R,r.EventEmitter=E.default,r.pluginTarget=O.default,r.mixins=M;var D=r.TextureCache={},L=r.BaseTextureCache={}},{"../const":44,"../settings":99,"./mixin":122,"./pluginTarget":123,eventemitter3:3,ismobilejs:4}],121:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return s.default.tablet||s.default.phone?4:t}r.__esModule=!0,r.default=i;var o=t("ismobilejs"),s=n(o)},{ismobilejs:4}],122:[function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}function i(t,e){s.push(t,e)}function o(){for(var t=0;t<s.length;t+=2)n(s[t],s[t+1]);s.length=0}r.__esModule=!0,r.mixin=n,r.delayMixin=i,r.performMixins=o;var s=[]},{}],123:[function(t,e,r){"use strict";function n(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}r.__esModule=!0,r.default={mixin:function(t){n(t)}}},{}],124:[function(t,e,r){"use strict";function n(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),o=i.data,s=o.length,a={top:null,left:null,right:null,bottom:null},u=void 0,l=void 0,h=void 0;for(u=0;u<s;u+=4)0!==o[u+3]&&(l=u/4%e,h=~~(u/4/e),null===a.top&&(a.top=h),null===a.left?a.left=l:l<a.left&&(a.left=l),null===a.right?a.right=l+1:a.right<l&&(a.right=l+1),null===a.bottom?a.bottom=h:a.bottom<h&&(a.bottom=h));e=a.right-a.left,r=a.bottom-a.top+1;var c=n.getImageData(a.left,a.top,e,r);return{height:r,width:e,data:c}}r.__esModule=!0,r.default=n},{}],125:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){}var o=t("./core"),s=n(o),a=t("./mesh"),u=n(a),l=t("./particles"),h=n(l),c=t("./extras"),f=n(c),d=t("./filters"),p=n(d),v=t("./prepare"),y=n(v),g=t("./loaders"),m=n(g),_=t("./interaction"),b=n(_);s.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},s.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(s,{Stage:{enumerable:!0,get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),s.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),s.Container}},Strip:{enumerable:!0,get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),u.Mesh}},Rope:{enumerable:!0,get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),u.Rope}},ParticleContainer:{enumerable:!0,get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),h.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),f.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),f.TilingSprite}},BitmapText:{enumerable:!0,get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),f.BitmapText}},blendModes:{enumerable:!0,get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),s.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),s.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),s.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),s.utils.TextureCache}},math:{enumerable:!0,get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),s}},AbstractFilter:{enumerable:!0,get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),s.Filter}},TransformManual:{enumerable:!0,get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),s.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),s.settings.TARGET_FPMS},set:function(t){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),s.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{enumerable:!0,get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),s.settings.FILTER_RESOLUTION},set:function(t){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),s.settings.FILTER_RESOLUTION=t}},RESOLUTION:{enumerable:!0,get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),s.settings.RESOLUTION},set:function(t){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),s.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),s.settings.MIPMAP_TEXTURES},set:function(t){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),s.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),s.settings.SPRITE_BATCH_SIZE},set:function(t){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),s.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),s.settings.SPRITE_MAX_TEXTURES},set:function(t){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),s.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{enumerable:!0,get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),s.settings.RETINA_PREFIX},set:function(t){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),s.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),s.settings.RENDER_OPTIONS}}});for(var x=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],T=function(t){var e=x[t];Object.defineProperty(s[e.parent],"DEFAULT",{enumerable:!0,get:function(){return i("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),s.settings[e.target]},set:function(t){i("PIXI."+e.parent+".DEFAULT has been deprecated, please use PIXI.settings."+e.target),s.settings[e.target]=t}})},w=0;w<x.length;w++)T(w);Object.defineProperties(s.settings,{PRECISION:{enumerable:!0,get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),s.settings.PRECISION_FRAGMENT},set:function(t){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),s.settings.PRECISION_FRAGMENT=t}}}),Object.defineProperties(f,{MovieClip:{enumerable:!0,get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),f.AnimatedSprite}}}),s.DisplayObject.prototype.generateTexture=function(t,e,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},s.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},s.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},s.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},s.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},s.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},s.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},s.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},f.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},s.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},s.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},s.Text.prototype.determineFontProperties=function(t){return i("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);"),s.Text.calculateFontProperties(t)},Object.defineProperties(s.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),s.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},Object.defineProperties(p,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),s.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),s.SpriteMaskFilter}}}),s.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),s.utils.uid()},s.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),s.CanvasTinter.canUseMultiply};var E=!0;Object.defineProperty(s.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),E=t},get:function(){return E}}),Object.defineProperty(y.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperty(y.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperties(m.Resource.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===m.Loader.Resource.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===m.Loader.Resource.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===m.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===m.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===m.Loader.Resource.TYPE.VIDEO}}}),Object.defineProperties(m.Loader.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}}),Object.defineProperty(b.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor},enumerable:!0}),Object.defineProperty(b.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(b.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}})},{"./core":63,"./extras":136,"./filters":147,"./interaction":154,"./loaders":157,"./mesh":166,"./particles":169,"./prepare":179}],126:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../core"),s=n(o),a=new s.Rectangle,u=function(){function t(e){i(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;t&&(o=t instanceof s.RenderTexture?t:e.generateTexture(t)),o?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,i=a,i.width=this.renderer.width,i.height=this.renderer.height);var u=i.width*n,l=i.height*n,h=new s.CanvasRenderTarget(u,l),c=r.getImageData(i.x*n,i.y*n,u,l);return h.context.putImageData(c,0,0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;return t&&(o=t instanceof s.RenderTexture?t:e.generateTexture(t)),o?(r=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,i=o.frame):(r=e.rootContext,i=a,i.width=e.width,i.height=e.height),r.getImageData(0,0,i.width*n,i.height*n).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=u,s.CanvasRenderer.registerPlugin("extract",u)},{"../../core":63}],127:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}})},{"./canvas/CanvasExtract":126,"./webgl/WebGLExtract":128}],128:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../core"),s=n(o),a=new s.Rectangle,u=4,l=function(){function t(e){i(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=!1,l=void 0;t&&(l=t instanceof s.RenderTexture?t:this.renderer.generateTexture(t)),l?(r=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=l.frame,o=!1):(r=this.renderer.rootRenderTarget,n=r.resolution,o=!0,i=a,i.width=r.size.width,i.height=r.size.height);var h=i.width*n,c=i.height*n,f=new s.CanvasRenderTarget(h,c);if(r){e.bindRenderTarget(r);var d=new Uint8Array(u*h*c),p=e.gl;p.readPixels(i.x*n,i.y*n,h,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,h,c);v.data.set(d),f.context.putImageData(v,0,0),o&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,o=void 0;t&&(o=t instanceof s.RenderTexture?t:this.renderer.generateTexture(t)),o?(r=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=o.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,i=a,i.width=r.size.width,i.height=r.size.height);var l=i.width*n,h=i.height*n,c=new Uint8Array(u*l*h);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(i.x*n,i.y*n,l,h,f.RGBA,f.UNSIGNED_BYTE,c)}return c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=l,s.WebGLRenderer.registerPlugin("extract",l)},{"../../core":63}],129:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../core"),l=n(u),h=function(t){function e(r,n){i(this,e);var s=o(this,t.call(this,r[0]instanceof l.Texture?r[0]:r[0].texture));return s._textures=null,s._durations=null,s.textures=r,s._autoUpdate=n!==!1,s.animationSpeed=1,s.loop=!0,s.onComplete=null,s.onFrameChange=null,s._currentTime=0,s.playing=!1,s}return s(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&l.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&l.ticker.shared.add(this.update,this))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&this.updateTexture()},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(l.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(l.Texture.fromImage(t[n]));return new e(r)},a(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof l.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(l.Sprite);r.default=h},{"../core":63}],130:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);
}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=t("../core"),h=i(l),c=t("../core/math/ObservablePoint"),f=n(c),d=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var i=s(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i.maxWidth=0,i.maxLineHeight=0,i._anchor=new f.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return a(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new h.Point,i=[],o=[],s=null,a=0,u=0,l=0,c=-1,f=0,d=0,p=0;p<this.text.length;p++){var v=this.text.charCodeAt(p);if(/(\s)/.test(this.text.charAt(p))&&(c=p,f=a),/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))o.push(a),u=Math.max(u,a),l++,n.x=0,n.y+=t.lineHeight,s=null;else if(c!==-1&&this.maxWidth>0&&n.x*r>this.maxWidth)h.utils.removeItems(i,c,p-c),p=c,c=-1,o.push(f),u=Math.max(u,f),l++,n.x=0,n.y+=t.lineHeight,s=null;else{var y=t.chars[v];y&&(s&&y.kerning[s]&&(n.x+=y.kerning[s]),i.push({texture:y.texture,line:l,charCode:v,position:new h.Point(n.x+y.xOffset,n.y+y.yOffset)}),a=n.x+(y.texture.width+y.xOffset),n.x+=y.xAdvance,d=Math.max(d,y.yOffset+y.texture.height),s=v)}}o.push(a),u=Math.max(u,a);for(var g=[],m=0;m<=l;m++){var _=0;"right"===this._font.align?_=u-o[m]:"center"===this._font.align&&(_=(u-o[m])/2),g.push(_)}for(var b=i.length,x=this.tint,T=0;T<b;T++){var w=this._glyphs[T];w?w.texture=i[T].texture:(w=new h.Sprite(i[T].texture),this._glyphs.push(w)),w.position.x=(i[T].position.x+g[i[T].line])*r,w.position.y=i[T].position.y*r,w.scale.x=w.scale.y=r,w.tint=x,w.parent||this.addChild(w)}for(var E=b;E<this._glyphs.length;++E)this.removeChild(this._glyphs[E]);if(this._textWidth=u*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<b;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this.maxLineHeight=d*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},i=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0];n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(o.getAttribute("lineHeight"),10),n.chars={};for(var s=t.getElementsByTagName("char"),a=0;a<s.length;a++){var u=s[a],l=parseInt(u.getAttribute("id"),10),c=new h.Rectangle(parseInt(u.getAttribute("x"),10)+r.frame.x,parseInt(u.getAttribute("y"),10)+r.frame.y,parseInt(u.getAttribute("width"),10),parseInt(u.getAttribute("height"),10));n.chars[l]={xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{},texture:new h.Texture(r.baseTexture,c)}}for(var f=t.getElementsByTagName("kerning"),d=0;d<f.length;d++){var p=f[d],v=parseInt(p.getAttribute("first"),10),y=parseInt(p.getAttribute("second"),10),g=parseInt(p.getAttribute("amount"),10);n.chars[y]&&(n.chars[y].kerning[v]=g)}return e.fonts[n.font]=n,n},u(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(h.Container);r.default=d,d.fonts={}},{"../core":63,"../core/math/ObservablePoint":66}],131:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("../core/math/Matrix"),a=n(s),u=new a.default,l=function(){function t(e,r){i(this,t),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof r?.5:r}return t.prototype.update=function(t){var e=this._texture;if(e&&e.valid&&(t||this._lastTextureID!==e._updateID)){this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(u.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(u));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;s[0]=(e._frame.x+a+l)/o.width,s[1]=(e._frame.y+a+l)/o.height,s[2]=(e._frame.x+e._frame.width-a+l)/o.width,s[3]=(e._frame.y+e._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight}},o(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();r.default=l},{"../core/math/Matrix":65}],132:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=t("../core"),h=i(l),c=t("../core/sprites/canvas/CanvasTinter"),f=n(c),d=t("./TextureTransform"),p=n(d),v=new h.Point,y=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;o(this,e);var a=s(this,t.call(this,r));return a.tileTransform=new h.TransformStatic,a._width=n,a._height=i,a._canvasPattern=null,a.uvTransform=r.transform||new p.default(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return a(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,o=e.baseTexture,s=e.baseTexture.resolution,a=this.tilePosition.x/this.tileScale.x%e._frame.width,u=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var l=new h.CanvasRenderTarget(e._frame.width,e._frame.height,s);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=f.default.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(o.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/s,this.tileScale.y/s);var c=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(a,u),r.fillRect(-a+c,-u+d,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(r.translate(a+c,u+d),r.fillRect(-a,-u,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);var e=this._width,r=this._height,n=-e*this.anchor._x;if(v.x>n&&v.x<n+e){var i=-r*this.anchor._y;if(v.y>i&&v.y<i+r)return!0}return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(h.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=h.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,o){return new e(h.Texture.fromImage(t,i,o),r,n)},u(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(h.Sprite);r.default=y},{"../core":63,"../core/sprites/canvas/CanvasTinter":102,"./TextureTransform":131}],133:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("../core"),s=n(o),a=s.DisplayObject,u=new s.Matrix;a.prototype._cacheAsBitmap=!1,a.prototype._cacheData=!1;var l=function t(){i(this,t),this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(a.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),a.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},a.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;r.pad(n)}var i=t._activeRenderTarget,o=t.filterManager.filterStack,a=s.RenderTexture.create(0|r.width,0|r.height),l=u;l.tx=-r.x,l.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,a,!0,l,!0),t.bindRenderTarget(i),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var h=new s.Sprite(a);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=e,h._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.updateTransform(),this.containsPoint=h.containsPoint.bind(h)}},a.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},a.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=t.context,i=s.RenderTexture.create(0|e.width,0|e.height),o=u;this.transform.localTransform.copy(o),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,o,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var a=new s.Sprite(i);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-(e.x/e.width),a.anchor.y=-(e.y/e.height),a._bounds=this._bounds,a.alpha=r,this.updateTransform(),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=a,this.containsPoint=a.containsPoint.bind(a)}},a.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},a.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},a.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null},a.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":63}],134:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var i=t("../core"),o=n(i);o.DisplayObject.prototype.name=null,o.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":63}],135:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var i=t("../core"),o=n(i);o.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":63}],136:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=r.TextureTransform=void 0;var i=t("./TextureTransform");Object.defineProperty(r,"TextureTransform",{enumerable:!0,get:function(){return n(i).default}});var o=t("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function(){return n(o).default}});var s=t("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function(){return n(s).default}});var a=t("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(a).default}});var u=t("./BitmapText");Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function(){return n(u).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":129,"./BitmapText":130,"./TextureTransform":131,"./TilingSprite":132,"./cacheAsBitmap":133,"./getChildByName":134,"./getGlobalPosition":135,"./webgl/TilingSpriteRenderer":137}],137:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=n(a),l=t("../../core/const"),h=(t("path"),new u.Matrix),c=new Float32Array(4),f=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new u.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(n=r.uvs,n[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload();var i=t._texture,o=i.baseTexture,s=t.tileTransform.localTransform,a=t.uvTransform,f=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;f&&(o._glTextures[e.CONTEXT_UID]?f=o.wrapMode!==l.WRAP_MODES.CLAMP:o.wrapMode===l.WRAP_MODES.CLAMP&&(o.wrapMode=l.WRAP_MODES.REPEAT));var d=f?this.simpleShader:this.shader;e.bindShader(d);var p=i.width,v=i.height,y=t._width,g=t._height;h.set(s.a*p/y,s.b*p/g,s.c*v/y,s.d*v/g,s.tx/y,s.ty/g),h.invert(),f?h.append(a.mapCoord):(d.uniforms.uMapCoord=a.mapCoord.toArray(!0),d.uniforms.uClampFrame=a.uClampFrame,d.uniforms.uClampOffset=a.uClampOffset),d.uniforms.uTransform=h.toArray(!0);var m=c;u.utils.hex2rgb(t.tint,m),m[3]=t.worldAlpha,d.uniforms.uColor=m,d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=e.bindTexture(i),e.setBlendMode(t.blendMode),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(u.ObjectRenderer);r.default=f,u.WebGLRenderer.registerPlugin("tilingSprite",f)},{"../../core":63,"../../core/const":44,path:22}],138:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=t("../../core"),h=i(l),c=t("./BlurXFilter"),f=n(c),d=t("./BlurYFilter"),p=n(d),v=function(t){function e(r,n,i,a){o(this,e);var u=s(this,t.call(this));return u.blurXFilter=new f.default(r,n,i,a),u.blurYFilter=new p.default(r,n,i,a),u.padding=0,u.resolution=i||h.settings.RESOLUTION,u.quality=n||4,u.blur=r||8,u}return a(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},u(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),e}(h.Filter);r.default=v},{"../../core":63,"./BlurXFilter":139,"./BlurYFilter":140}],139:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=t("../../core"),h=i(l),c=t("./generateBlurVertSource"),f=n(c),d=t("./generateBlurFragSource"),p=n(d),v=t("./getMaxBlurKernelSize"),y=n(v),g=function(t){function e(r,n,i,a){o(this,e),a=a||5;var u=(0,f.default)(a,!0),l=(0,p.default)(a),c=s(this,t.call(this,u,l));return c.resolution=i||h.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return a(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,y.default)(i);this.vertexSrc=(0,f.default)(o,!0),this.fragmentSrc=(0,p.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,u=s,l=0;l<this.passes-1;l++){t.applyFilter(this,a,u,!0);var h=u;u=a,a=h}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},u(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);r.default=g},{"../../core":63,"./generateBlurFragSource":141,"./generateBlurVertSource":142,"./getMaxBlurKernelSize":143}],140:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=t("../../core"),h=i(l),c=t("./generateBlurVertSource"),f=n(c),d=t("./generateBlurFragSource"),p=n(d),v=t("./getMaxBlurKernelSize"),y=n(v),g=function(t){function e(r,n,i,a){o(this,e),a=a||5;var u=(0,f.default)(a,!1),l=(0,p.default)(a),c=s(this,t.call(this,u,l));return c.resolution=i||h.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return a(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,y.default)(i);this.vertexSrc=(0,f.default)(o,!1),this.fragmentSrc=(0,p.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,u=s,l=0;l<this.passes-1;l++){t.applyFilter(this,a,u,!0);var h=u;u=a,a=h}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},u(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);r.default=g},{"../../core":63,"./generateBlurFragSource":141,"./generateBlurVertSource":142,"./getMaxBlurKernelSize":143}],141:[function(t,e,r){"use strict";function n(t){for(var e=i[t],r=e.length,n=o,s="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,l=0;l<t;l++){var h=a.replace("%index%",l);u=l,l>=r&&(u=t-l-1),h=h.replace("%value%",e[u]),s+=h,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t)}r.__esModule=!0,r.default=n;var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},o=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],142:[function(t,e,r){"use strict";function n(t,e){var r=Math.ceil(t/2),n=i,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return n=n.replace("%blur%",o),n=n.replace("%size%",t)}r.__esModule=!0,r.default=n;var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],143:[function(t,e,r){"use strict";function n(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}r.__esModule=!0,r.default=n},{}],144:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),l=n(u),h=(t("path"),function(t){function e(){i(this,e);var r=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    // Premultiply alpha again.\n    result.rgb *= result.a;\n\n    gl_FragColor = result;\n}\n"));
return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r}return s(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=Math.sqrt,o=1/3,s=i(o),a=r+(1-r)*o,u=o*(1-r)-s*n,l=o*(1-r)+s*n,h=o*(1-r)+s*n,c=r+o*(1-r),f=o*(1-r)-s*n,d=o*(1-r)-s*n,p=o*(1-r)+s*n,v=r+o*(1-r),y=[a,u,l,0,0,h,c,f,0,0,d,p,v,0,0,0,0,0,1,0];this._loadMatrix(y,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-128*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=(r-1)*-.5,i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15,r=r||16770432,n=n||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=(n>>16&255)/255,l=(n>>8&255)/255,h=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,l,h,e,0,o-u,s-l,a-h,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){t=t||.1;var r=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},a(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}}]),e}(l.Filter));r.default=h,h.prototype.grayscale=h.prototype.greyscale},{"../../core":63,path:22}],145:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),l=n(u),h=(t("path"),function(t){function e(r,n){i(this,e);var s=new l.Matrix;r.renderable=!1;var a=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return a.maskSprite=r,a.maskMatrix=s,a.uniforms.mapSampler=r.texture,a.uniforms.filterMatrix=s,a.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),a.scale=new l.Point(n,n),a}return s(e,t),e.prototype.apply=function(t,e,r){var n=1/r.destinationFrame.width*(r.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,t.applyFilter(this,e,r)},a(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(l.Filter));r.default=h},{"../../core":63,path:22}],146:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=n(a),l=(t("path"),function(t){function e(){return i(this,e),o(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return s(e,t),e}(u.Filter));r.default=l},{"../../core":63,path:22}],147:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function(){return n(i).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function(){return n(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function(){return n(u).default}});var l=t("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function(){return n(l).default}});var h=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(h).default}});var c=t("./void/VoidFilter");Object.defineProperty(r,"VoidFilter",{enumerable:!0,get:function(){return n(c).default}})},{"./blur/BlurFilter":138,"./blur/BlurXFilter":139,"./blur/BlurYFilter":140,"./colormatrix/ColorMatrixFilter":144,"./displacement/DisplacementFilter":145,"./fxaa/FXAAFilter":146,"./noise/NoiseFilter":148,"./void/VoidFilter":149}],148:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),l=n(u),h=(t("path"),function(t){function e(){i(this,e);var r=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n"));return r.noise=.5,r}return s(e,t),a(e,[{key:"noise",get:function(){return this.uniforms.noise},set:function(t){this.uniforms.noise=t}}]),e}(l.Filter));r.default=h},{"../../core":63,path:22}],149:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=n(a),l=(t("path"),function(t){function e(){i(this,e);var r=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return r.glShaderKey="void",r}return s(e,t),e}(u.Filter));r.default=l},{"../../core":63,path:22}],150:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../core"),s=n(o),a=function(){function t(){i(this,t),this.global=new s.Point,this.target=null,this.originalEvent=null,this.identifier=null}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t}();r.default=a},{"../core":63}],151:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){n(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();r.default=i},{}],152:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=t("../core"),h=i(l),c=t("./InteractionData"),f=n(c),d=t("./InteractionEvent"),p=n(d),v=t("./InteractionTrackingData"),y=n(v),g=t("eventemitter3"),m=n(g),_=t("./interactiveTarget"),b=n(_);h.utils.mixins.delayMixin(h.DisplayObject.prototype,b.default);var x="MOUSE",T=function(t){function e(r,n){o(this,e);var i=s(this,t.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new f.default,i.mouse.identifier=x,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[x]=i.mouse,i.interactionDataPool=[],i.eventData=new p.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new h.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return a(e,t),e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(h.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0))),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(h.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch("undefined"==typeof e?"undefined":u(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global;i=e.interactive||i;var s=!1,a=i;e.hitArea?a=!1:n&&e._mask&&(e._mask.containsPoint(o)||(n=!1));var u=n;if(e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;h>=0;h--){var c=l[h];if(this.processInteractive(t,c,r,n,a)){if(!c.parent)continue;s=!0,a=!1,u=!1,c.interactive&&(n=!1)}}return n=u,i&&(n&&!s&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),s=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(s=e.containsPoint(o))),e.interactive&&(s&&!t.target&&(t.target=e),r(t,e,s))),s},e.prototype.onPointerDown=function(t){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType){var a=2===i.button||3===i.which;this.emit(a?"rightdown":"mousedown",this.eventData)}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new y.default(i)),this.dispatchEvent(e,"pointerdown",t),"touchstart"===n.type||"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mousedown"===n.type||"mouse"===n.pointerType){var o=2===n.button||3===n.which;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=0;o<i;o++){var s=n[o],a=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,a);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,!0),this.emit(e?"pointercancel":"pointerup",u),"mouse"===s.pointerType){var l=2===s.button||3===s.which;this.emit(l?"rightup":"mouseup",u)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend",u),this.releaseInteractionDataForPointerId(s.pointerId,a))}},e.prototype.onPointerCancel=function(t){this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data.originalEvent,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touchcancel"!==r.type&&"touch"!==r.pointerType||this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o=e.trackedPointers[i],s="touchend"===n.type||"touch"===n.pointerType,a=0===n.type.indexOf("mouse")||"mouse"===n.pointerType;if(a){var u=2===n.button||3===n.which,l=y.default.FLAGS,h=u?l.RIGHT_DOWN:l.LEFT_DOWN,c=void 0!==o&&o.flags&h;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),
"mouse"===i.pointerType&&this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)},e.prototype.processPointerMove=function(t,e,r){var n=t.data.originalEvent,i="touchmove"===n.type||"touch"===n.pointerType,o="mousemove"===n.type||"mouse"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){var e=this.normalizeToPointerData(t),r=e[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===r.pointerType&&this.emit("mouseout",i)},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data.originalEvent,i=t.data.identifier,o="mouseover"===n.type||"mouseout"===n.type||"mouse"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new y.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),r=e[0],n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"===r.pointerType&&this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId;if(e===x||"mouse"===t.pointerType)return this.mouse;if(this.activeInteractionData[e])return this.activeInteractionData[e];var r=this.interactionDataPool.pop()||new f.default;return r.identifier=e,this.activeInteractionData[e]=r,r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];"undefined"==typeof i.button&&(i.button=t.touches.length?1:0),"undefined"==typeof i.buttons&&(i.buttons=t.touches.length?1:0),"undefined"==typeof i.isPrimary&&(i.isPrimary=1===t.touches.length),"undefined"==typeof i.width&&(i.width=i.radiusX||1),"undefined"==typeof i.height&&(i.height=i.radiusY||1),"undefined"==typeof i.tiltX&&(i.tiltX=0),"undefined"==typeof i.tiltY&&(i.tiltY=0),"undefined"==typeof i.pointerType&&(i.pointerType="touch"),"undefined"==typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"==typeof i.pressure&&(i.pressure=i.force||.5),"undefined"==typeof i.rotation&&(i.rotation=i.rotationAngle||0),"undefined"==typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"==typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):("undefined"==typeof t.isPrimary&&(t.isPrimary=!0),"undefined"==typeof t.width&&(t.width=1),"undefined"==typeof t.height&&(t.height=1),"undefined"==typeof t.tiltX&&(t.tiltX=0),"undefined"==typeof t.tiltY&&(t.tiltY=0),"undefined"==typeof t.pointerType&&(t.pointerType="mouse"),"undefined"==typeof t.pointerId&&(t.pointerId=x),"undefined"==typeof t.pressure&&(t.pressure=.5),"undefined"==typeof t.rotation&&(t.rotation=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(m.default);r.default=T,h.WebGLRenderer.registerPlugin("interaction",T),h.CanvasRenderer.registerPlugin("interaction",T)},{"../core":63,"./InteractionData":150,"./InteractionEvent":151,"./InteractionTrackingData":153,"./interactiveTarget":155,eventemitter3:3}],153:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){e?this._flags=this._flags|t:this._flags=this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();r.default=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],154:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function(){return n(i).default}});var o=t("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var s=t("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function(){return n(s).default}})},{"./InteractionData":150,"./InteractionManager":152,"./interactiveTarget":155}],155:[function(t,e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],156:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){t.bitmapFont=l.BitmapText.registerFont(t.data,e)}r.__esModule=!0,r.parse=i,r.default=function(){return function(t,e){if(!t.data||t.type!==u.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();var r=t.isDataUrl?"":s.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,""))),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var n=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(a.utils.TextureCache[n])i(t,a.utils.TextureCache[n]),e();else{var o={crossOrigin:t.crossOrigin,loadType:u.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",n,o,function(r){i(t,r.texture),e()})}}};var o=t("path"),s=n(o),a=t("../core"),u=t("resource-loader"),l=t("../extras")},{"../core":63,"../extras":136,path:22,"resource-loader":34}],157:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./loader");Object.defineProperty(r,"Loader",{enumerable:!0,get:function(){return n(i).default}});var o=t("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function(){return o.parse}});var s=t("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function(){return n(s).default}});var a=t("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function(){return n(a).default}});var u=t("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function(){return u.Resource}})},{"./bitmapFontParser":156,"./loader":158,"./spritesheetParser":159,"./textureParser":160,"resource-loader":34}],158:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("resource-loader"),u=n(a),l=t("resource-loader/lib/middlewares/parsing/blob"),h=t("eventemitter3"),c=n(h),f=t("./textureParser"),d=n(f),p=t("./spritesheetParser"),v=n(p),y=t("./bitmapFontParser"),g=n(y),m=function(t){function e(r,n){i(this,e);var s=o(this,t.call(this,r,n));c.default.call(s);for(var a=0;a<e._pixiMiddleware.length;++a)s.use(e._pixiMiddleware[a]());return s.onStart.add(function(t){return s.emit("start",t)}),s.onProgress.add(function(t,e){return s.emit("progress",t,e)}),s.onError.add(function(t,e,r){return s.emit("error",t,e,r)}),s.onLoad.add(function(t,e){return s.emit("load",t,e)}),s.onComplete.add(function(t,e){return s.emit("complete",t,e)}),s}return s(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e}(u.default);r.default=m;for(var _ in c.default.prototype)m.prototype[_]=c.default.prototype[_];m._pixiMiddleware=[l.blobMiddlewareFactory,d.default,v.default,g.default];var b=u.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":156,"./spritesheetParser":159,"./textureParser":160,eventemitter3:3,"resource-loader":34,"resource-loader/lib/middlewares/parsing/blob":35}],159:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.default=function(){return function(t,e){var r=void 0,n=t.name+"_image";if(!t.data||t.type!==i.Resource.TYPE.JSON||!t.data.frames||this.resources[n])return void e();var o={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};r=t.isDataUrl?t.data.meta.image:s.default.dirname(t.url.replace(this.baseUrl,""))+"/"+t.data.meta.image,this.add(n,r,o,function(r){var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})})}};var i=t("resource-loader"),o=t("path"),s=n(o),a=t("../core")},{"../core":63,path:22,"resource-loader":34}],160:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var i=t("resource-loader"),o=t("../core/textures/Texture"),s=n(o)},{"../core/textures/Texture":112,"resource-loader":34}],161:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../core"),l=n(u),h=new l.Point,c=new l.Polygon,f=function(t){function e(r,n,s,a,u){i(this,e);var h=o(this,t.call(this));return h._texture=null,h.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=a||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.blendMode=l.BLEND_MODES.NORMAL,h.canvasPadding=0,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.texture=r,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h.pluginName="mesh",h}return s(e,t),e.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var r=this.vertices,n=c.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var u=2*i[a],l=2*i[a+1],f=2*i[a+2];if(n[0]=r[u],n[1]=r[u+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[f],n[5]=r[f+1],c.contains(h.x,h.y))return!0}return!1},a(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return l.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=l.utils.hex2rgb(t,this.tintRgb)}}]),e}(l.Container);r.default=f,f.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":63}],162:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./Plane"),l=n(u),h=10,c=function(t){function e(r,n,s,a,u){i(this,e);var l=o(this,t.call(this,r,4,4)),c=l.uvs;return c[6]=c[14]=c[22]=c[30]=1,c[25]=c[27]=c[29]=c[31]=1,l._origWidth=r.width,l._origHeight=r.height,l._uvw=1/l._origWidth,l._uvh=1/l._origHeight,l.width=r.width,l.height=r.height,c[2]=c[10]=c[18]=c[26]=l._uvw*n,c[4]=c[12]=c[20]=c[28]=1-l._uvw*a,c[9]=c[11]=c[13]=c[15]=l._uvh*s,c[17]=c[19]=c[21]=c[23]=1-l._uvh*u,l.leftWidth="undefined"!=typeof n?n:h,l.rightWidth="undefined"!=typeof a?a:h,l.topHeight="undefined"!=typeof s?s:h,l.bottomHeight="undefined"!=typeof u?u:h,l}return s(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width,a=i.height;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,l=this.vertices,h=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=l[s]-l[i],d=l[a]-l[o];h<1&&(h=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,h,c,l[i],l[o],f,d)},a(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t;var e=this.uvs,r=this.vertices;e[2]=e[10]=e[18]=e[26]=this._uvw*t,r[2]=r[10]=r[18]=r[26]=t,this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t;var e=this.uvs,r=this.vertices;e[4]=e[12]=e[20]=e[28]=1-this._uvw*t,r[4]=r[12]=r[20]=r[28]=this._width-t,this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t;var e=this.uvs,r=this.vertices;e[9]=e[11]=e[13]=e[15]=this._uvh*t,r[9]=r[11]=r[13]=r[15]=t,this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t;var e=this.uvs,r=this.vertices;e[17]=e[19]=e[21]=e[23]=1-this._uvh*t,r[17]=r[19]=r[21]=r[23]=this._height-t,this.dirty=!0}}]),e}(l.default);r.default=c},{"./Plane":163}],163:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./Mesh"),u=n(a),l=function(t){function e(r,n,s){i(this,e);var a=o(this,t.call(this,r));return a._ready=!0,a.verticesX=n||10,a.verticesY=s||10,a.drawMode=u.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return s(e,t),e.prototype.refresh=function(){for(var t=this.verticesX*this.verticesY,e=[],r=[],n=[],i=[],o=this.texture,s=this.verticesX-1,a=this.verticesY-1,u=o.width/s,l=o.height/a,h=0;h<t;h++)if(o._uvs){var c=h%this.verticesX,f=h/this.verticesX|0;e.push(c*u,f*l),n.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(c/(this.verticesX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(f/(this.verticesY-1)))}else n.push(0);for(var d=s*a,p=0;p<d;p++){var v=p%s,y=p/s|0,g=y*this.verticesX+v,m=y*this.verticesX+v+1,_=(y+1)*this.verticesX+v,b=(y+1)*this.verticesX+v+1;i.push(g,m,_),i.push(m,b,_)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(n),this.colors=new Float32Array(r),this.indices=new Uint16Array(i),this.indexDirty=!0},e.prototype._onTextureUpdate=function(){u.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(u.default);r.default=l},{"./Mesh":161}],164:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=t("./Mesh"),l=i(u),h=t("../core"),c=n(h),f=function(t){function e(r,n){o(this,e);var i=s(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i._ready=!0,i.refresh(),i}return a(e,t),e.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors,i=this._texture._uvs,o=new c.Point(i.x0,i.y0),s=new c.Point(i.x2-i.x0,Number(i.y2-i.y0));e[0]=0+o.x,e[1]=0+o.y,e[2]=0+o.x,e[3]=s.y+o.y,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var a=t.length,u=1;u<a;u++){var l=4*u,h=u/(a-1);e[l]=h*s.x+o.x,e[l+1]=0+o.y,e[l+2]=h*s.x+o.x,e[l+3]=s.y+o.y,l=2*u,n[l]=1,n[l+1]=1,l=2*u,r[l]=l,r[l+1]=l+1}this.dirty++,this.indexDirty++}},e.prototype._onTextureUpdate=function(){t.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],l=4*a;r=a<t.length-1?t[a+1]:u,i=-(r.x-e.x),n=r.y-e.y;var h=10*(1-a/(s-1));h>1&&(h=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[l]=u.x+n,o[l+1]=u.y+i,o[l+2]=u.x-n,o[l+3]=u.y-i,e=u}this.containerUpdateTransform()}},e}(l.default);r.default=f},{"../core":63,"./Mesh":161}],165:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var s=t("../../core"),a=i(s),u=t("../Mesh"),l=n(u),h=function(){function t(e){o(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.setBlendMode(t.blendMode),t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,l=u.source,h=u.width,c=u.height,f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height,m=s[e],_=s[r],b=s[n],x=s[e+1],T=s[r+1],w=s[n+1];if(t.canvasPadding>0){var E=t.canvasPadding/t.worldTransform.a,S=t.canvasPadding/t.worldTransform.d,O=(m+_+b)/3,P=(x+T+w)/3,M=m-O,C=x-P,R=Math.sqrt(M*M+C*C);m=O+M/R*(R+E),x=P+C/R*(R+S),M=_-O,C=T-P,R=Math.sqrt(M*M+C*C),_=O+M/R*(R+E),T=P+C/R*(R+S),M=b-O,C=w-P,R=Math.sqrt(M*M+C*C),b=O+M/R*(R+E),w=P+C/R*(R+S)}i.save(),i.beginPath(),i.moveTo(m,x),i.lineTo(_,T),i.lineTo(b,w),i.closePath(),i.clip();var A=f*y+v*p+d*g-y*p-v*d-f*g,I=m*y+v*b+_*g-y*b-v*_-m*g,D=f*_+m*p+d*b-_*p-m*d-f*b,L=f*y*b+v*_*p+m*d*g-m*y*p-v*d*b-f*_*g,N=x*y+v*w+T*g-y*w-v*T-x*g,F=f*T+x*p+d*w-T*p-x*d-f*w,j=f*y*w+v*T*p+x*d*g-x*y*p-v*d*w-f*T*g;i.transform(I/A,N/A,D/A,F/A,L/A,j/A),i.drawImage(l,0,0,h*u.resolution,c*u.resolution,0,0,h,c),i.restore()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],l=r[o+3],h=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=h,a.CanvasRenderer.registerPlugin("mesh",h)},{"../../core":63,"../Mesh":161}],166:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function(){return n(a).default}});var u=t("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function(){return n(u).default}});var l=t("./Rope");Object.defineProperty(r,"Rope",{enumerable:!0,get:function(){return n(l).default}})},{"./Mesh":161,"./NineSlicePlane":162,"./Plane":163,"./Rope":164,"./canvas/CanvasMeshRenderer":165,"./webgl/MeshRenderer":167}],167:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=t("../../core"),l=i(u),h=t("pixi-gl-core"),c=n(h),f=t("../Mesh"),d=n(f),p=(t("path"),function(t){function e(r){o(this,e);var n=s(this,t.call(this,r));return n.shader=null,n}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new l.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=t._texture;if(n.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),i={shader:this.shader,vertexBuffer:c.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:c.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:c.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty},i.vao=new c.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),i.vertexBuffer.upload(t.vertices),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(t.blendMode),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.alpha=t.worldAlpha,i.shader.uniforms.tint=t.tintRgb;var o=t.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},e}(l.ObjectRenderer));r.default=p,l.WebGLRenderer.registerPlugin("mesh",p)},{"../../core":63,"../Mesh":161,path:22,"pixi-gl-core":12}],168:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../core"),u=n(a),l=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;i(this,e);var a=o(this,t.call(this)),l=16384;return s>l&&(s=l),s>r&&(s=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=s,a._glBuffers={},a._bufferToUpdate=0,a.interactiveChildren=!1,a.blendMode=u.BLEND_MODES.NORMAL,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a}return s(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0,u=t.blendModes[this.blendMode];
u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)===0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,s=c.width*h.scale.x,a=c.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var f=h.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),i=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,s=c.width,a=c.height}var d=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,c.x*d,c.y*d,c.width*d,c.height*d,i*d,o*d,s*d,a*d)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},e}(u.Container);r.default=l},{"../core":63}],169:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},{"./ParticleContainer":168,"./webgl/ParticleRenderer":171}],170:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=t("../../core/utils/createIndicesForQuads"),u=n(a),l=function(){function t(e,r,n,o){i(this,t),this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var s=0;s<r.length;++s){var a=r[s];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,offset:a.offset},n[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,u.default)(this.size),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=s.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var i=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=s.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var l=0;l<this.dynamicProperties.length;++l){var h=this.dynamicProperties[l];this.vao.addAttribute(this.dynamicBuffer,h.attribute,t.FLOAT,!1,4*this.dynamicStride,4*h.offset)}for(var c=0;c<this.staticProperties.length;++c){var f=this.staticProperties[c];this.vao.addAttribute(this.staticBuffer,f.attribute,t.FLOAT,!1,4*this.staticStride,4*f.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},t}();r.default=l},{"../../core/utils/createIndicesForQuads":118,"pixi-gl-core":12}],171:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var u=t("../../core"),l=i(u),h=t("./ParticleShader"),c=n(h),f=t("./ParticleBuffer"),d=n(f),p=function(t){function e(r){o(this,e);var n=s(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new l.Matrix,n.CONTEXT_UID=0,n}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new c.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var s=t._glBuffers[i.CONTEXT_UID];s||(s=t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t)),this.renderer.setBlendMode(t.blendMode);var a=i.gl,u=t.worldTransform.copy(this.tempMatrix);u.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uAlpha=t.worldAlpha;var l=e[0]._texture.baseTexture;this.shader.uniforms.uSampler=i.bindTexture(l);for(var h=0,c=0;h<o;h+=n,c+=1){var f=o-h;f>n&&(f=n);var d=s[c];d.uploadDynamic(e,h,f),t._bufferToUpdate===c&&(d.uploadStatic(e,h,f),t._bufferToUpdate=c+1),i.bindVao(d.vao),d.vao.draw(a.TRIANGLES,6*f)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,s=0;s<n;s+=i)r.push(new d.default(e,this.properties,o,i));return r},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,l=0,h=0;h<r;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(a=v.x-c.anchor.x*y.width,s=a+v.width,l=v.y-c.anchor.y*y.height,u=l+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),l=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=l*p,n[o+i]=s*d,n[o+i+1]=l*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadAlpha=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].alpha;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(l.ObjectRenderer);r.default=p,l.WebGLRenderer.registerPlugin("particle",p)},{"../../core":63,"./ParticleBuffer":170,"./ParticleShader":172}],172:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core/Shader"),u=n(a),l=function(t){function e(r){return i(this,e),o(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return s(e,t),e}(u.default);r.default=l},{"../../core/Shader":42}],173:[function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1})},{}],174:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=t("object-assign"),o=n(i);Object.assign||(Object.assign=o.default)},{"object-assign":5}],175:[function(t,e,r){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":173,"./Object.assign":174,"./requestAnimationFrame":176}],176:[function(t,e,r){(function(t){"use strict";var e=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),t.performance&&t.performance.now||!function(){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}();for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var n=Date.now(),i=e+r-n;return i<0&&(i=0),r=n,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],177:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return e instanceof c.Text&&(e.updateText(!0),!0)}function a(t,e){if(e instanceof c.TextStyle){var r=c.Text.getFontStyle(e);return c.Text.fontPropertiesCache[r]||c.Text.calculateFontProperties(r),!0}return!1}function u(t,e){if(t instanceof c.Text){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function l(t,e){return t instanceof c.TextStyle&&(e.indexOf(t)===-1&&e.push(t),!0)}r.__esModule=!0;var h=t("../core"),c=i(h),f=t("./limiters/CountLimiter"),d=n(f),p=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;var v=function(){function t(e){var r=this;o(this,t),this.limiter=new d.default(c.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.register(u,s),this.register(l,a)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,p.addOnce(this.tick,this))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)p.addOnce(this.tick,this);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,s=i.length;o<s;o++)i[o]()}},t.prototype.register=function(t,e){return t&&this.addHooks.push(t),e&&this.uploadHooks.push(e),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof c.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&p.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();r.default=v},{"../core":63,"./limiters/CountLimiter":180}],178:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(e instanceof c.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),i=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}function l(t,e){if(t instanceof c.BaseTexture)return e.indexOf(t)===-1&&e.push(t),!0;if(t._texture&&t._texture instanceof c.Texture){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}r.__esModule=!0;var h=t("../../core"),c=i(h),f=t("../BasePrepare"),d=n(f),p=16,v=function(t){function e(r){o(this,e);var n=s(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=p,n.canvas.height=p,n.ctx=n.canvas.getContext("2d"),n.register(l,u),n}return a(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(d.default);r.default=v,c.CanvasRenderer.registerPlugin("prepare",v)},{"../../core":63,"../BasePrepare":177}],179:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}});var s=t("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function(){return n(s).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./limiters/TimeLimiter");Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function(){return n(u).default}})},{"./BasePrepare":177,"./canvas/CanvasPrepare":178,"./limiters/CountLimiter":180,"./limiters/TimeLimiter":181,"./webgl/WebGLPrepare":182}],180:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();r.default=i},{}],181:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();r.default=i},{}],182:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return e instanceof d.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function l(t,e){return e instanceof d.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){if(t instanceof d.BaseTexture)return e.indexOf(t)===-1&&e.push(t),!0;if(t._texture&&t._texture instanceof d.Texture){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function c(t,e){return t instanceof d.Graphics&&(e.push(t),!0)}r.__esModule=!0;var f=t("../../core"),d=i(f),p=t("../BasePrepare"),v=n(p),y=function(t){function e(r){o(this,e);var n=s(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.register(h,u).register(c,l),n}return a(e,t),e}(v.default);r.default=y,d.WebGLRenderer.registerPlugin("prepare",y)},{"../../core":63,"../BasePrepare":177}],183:[function(t,e,r){(function(e){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}r.__esModule=!0,r.loader=r.prepare=r.particles=r.mesh=r.loaders=r.interaction=r.filters=r.extras=r.extract=r.accessibility=void 0;var i=t("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./deprecation");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./core");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("./accessibility"),u=n(a),l=t("./extract"),h=n(l),c=t("./extras"),f=n(c),d=t("./filters"),p=n(d),v=t("./interaction"),y=n(v),g=t("./loaders"),m=n(g),_=t("./mesh"),b=n(_),x=t("./particles"),T=n(x),w=t("./prepare"),E=n(w);s.utils.mixins.performMixins(),r.accessibility=u,r.extract=h,r.extras=f,r.filters=p,r.interaction=y,r.loaders=m,r.mesh=b,r.particles=T,r.prepare=E;var S=m&&m.Loader?new m.Loader:null;r.loader=S,e.PIXI=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":40,"./core":63,"./deprecation":125,"./extract":127,"./extras":136,"./filters":147,"./interaction":154,"./loaders":157,"./mesh":166,"./particles":169,"./polyfill":175,"./prepare":179}]},{},[183])(183)});
//# sourceMappingURL=pixi.min.js.map

}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/dependencies\\pixi.min.js","/dependencies")
},{"buffer":9,"e/U+97":11}],5:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var PIXI = require("./dependencies/pixi.min");
var TweenMax = require("./dependencies/TweenMax.min");

var Utils = require("./base/Utils");
var Sprite = require("./base/Sprite");
var Board = require("./game/Board");
var GUI = require("./game/GUI");
'use strict';

/**
 * Entry point for the game
 */
var container = new PIXI.Container(), renderer = PIXI.autoDetectRenderer(Utils.displayWidth, Utils.displayHeight);
var board = new Board(container);
var gameUI = new GUI(container);

document.body.appendChild(renderer.view);

PIXI.loader
  .add("background", "./assets/images/background.png")
  .add("shell", "./assets/images/shell.png")
  .add("coin", "./assets/images/coin.png")
  .load(setup);

function setup() {
    board.setup();
    gameUI.setup();
    board.onPlayerLost = function() {
        console.log("OnPlayerLost!");
        gameUI.showPlayerLost();
        setTimeout(resetGame, 5000);
    }

    board.onPlayerWon = function() {
        console.log("OnPlayerWon!");
        gameUI.showPlayerWon();
        setTimeout(resetGame, 5000);
    }

    // start the game loop
    gameLoop();
}

function gameLoop() {
    requestAnimationFrame(gameLoop);
    
    // Render the stage   
    renderer.render(container);
}

function resetGame() {
    board.hideCoin();
}
}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_13f9c08b.js","/")
},{"./base/Sprite":1,"./base/Utils":2,"./dependencies/TweenMax.min":3,"./dependencies/pixi.min":4,"./game/Board":6,"./game/GUI":7,"buffer":9,"e/U+97":11}],6:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var PIXI = require("../dependencies/pixi.min");
var TweenMax = require('../dependencies/TweenMax.min');

var Utils = require("../base/Utils");
var Sprite = require("../base/Sprite");
"use strict";

/**
 * Board class, handles most of the game logic
 */
var Board = function(container) {
    var self = this;
    var shuffleAmount = 5;
    var shuffleCount = 0;

    this.setup = function() {
        // set up the board background
        self.background = new Sprite(PIXI.loader.resources["background"].texture,
        Utils.displayWidth * 0.5, Utils.displayHeight * 0.5);

        // set up shells
        self.shells = [
            new Sprite(PIXI.loader.resources["shell"].texture,
            Utils.displayWidth * 0.2, Utils.displayHeight * 0.25),
            new Sprite(PIXI.loader.resources["shell"].texture,
            Utils.displayWidth * 0.5, Utils.displayHeight * 0.25),
            new Sprite(PIXI.loader.resources["shell"].texture,
            Utils.displayWidth * 0.8, Utils.displayHeight * 0.25)
        ];

        // set up the coin
        self.coin = new Sprite(PIXI.loader.resources["coin"].texture,
        Utils.displayWidth * 0.5, Utils.displayHeight * 0.65);

        // add everything to the stage
        container.addChild(self.background);
        container.addChild(self.coin);
        container.addChild(self.shells[0]);
        container.addChild(self.shells[1]);
        container.addChild(self.shells[2]);

        setTimeout(self.hideCoin, 3000);
    };

    // lower all the shells to hide the coin
    this.hideCoin =  function() {
        TweenMax.to(self.shells[0], 2, {y:Utils.displayHeight * 0.65});
        TweenMax.to(self.shells[1], 2, {y:Utils.displayHeight * 0.65});
        TweenMax.to(self.shells[2], 2, {y:Utils.displayHeight * 0.65, 
            onComplete:self.shuffleShells});
    };

    // make coin visible, position it and raise the shells to show the result
    this.showCoin = function() {
        // reset the counter
        shuffleCount = 0;

        // tween all the shells upwards
        self.coin.x = self.shells[1].x;
        self.coin.y = self.shells[1].y;
        self.coin.visible = true;

        TweenMax.to(self.shells[0], 2, {y:Utils.displayHeight * 0.25});
        TweenMax.to(self.shells[1], 2, {y:Utils.displayHeight * 0.25});
        TweenMax.to(self.shells[2], 2, {y:Utils.displayHeight * 0.25});
    };

    // shuffle the shells array and animate them
    this.shuffleShells = function() {
        shuffleCount++;
        self.coin.visible = false;

        var shellsCopy = self.shells.slice();
        Utils.shuffleArray(shellsCopy);

        TweenMax.to(self.shells[0], 1, {x:shellsCopy[0].x});
        TweenMax.to(self.shells[1], 1, {x:shellsCopy[1].x});
        TweenMax.to(self.shells[2], 1, {x:shellsCopy[2].x, 
            onComplete:self.checkShuffleAmount});
    };

    // check if we're done shuffling
    this.checkShuffleAmount = function() {
        if (shuffleCount < shuffleAmount) {
            self.shuffleShells();
        } else {
            self.bindClickEvents();
        }
    };

    // make shells clickable to see if the player won
    this.bindClickEvents = function() {
        for(i=0; i<self.shells.length; i++) {
            self.shells[i].on('pointerdown', self.onShellClicked);
            self.shells[i].interactive = true;
            self.shells[i].buttonMode = true;
        }
    }

    this.disableShells = function() {
        for(i=0; i<self.shells.length; i++) {
            self.shells[i].interactive = false;
        }
    }

    // shell click event handler. checks if we won and fires callbacks
    this.onShellClicked = function(eventData) {
        self.disableShells();
        self.showCoin();
        if (eventData.target == self.shells[1])
        {
            if (self.onPlayerWon != undefined) {
                self.onPlayerWon();
            } 
        } else {
            if (self.onPlayerLost != undefined) {
                self.onPlayerLost();
            }
        }
    };
};

module.exports = Board;
}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/game\\Board.js","/game")
},{"../base/Sprite":1,"../base/Utils":2,"../dependencies/TweenMax.min":3,"../dependencies/pixi.min":4,"buffer":9,"e/U+97":11}],7:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var PIXI = require("../dependencies/pixi.min");
var Utils = require("../base/Utils");
"use strict";

/**
 * Basic GUI class to handle UI feedback to the player
 */
var GUI = function(container) {
    var self = this;
    var wonText = new PIXI.Text("You won!");
    var lostText = new PIXI.Text("You lost!");

    this.setup = function() {
        wonText.x = Utils.displayWidth * 0.5;
        wonText.y = Utils.displayHeight * 0.5;
        wonText.visible = false;

        lostText.x = Utils.displayWidth * 0.5;
        lostText.y = Utils.displayHeight * 0.5;
        lostText.visible = false;

        container.addChild(wonText);
        container.addChild(lostText);
    };

    this.showPlayerWon = function() {
        wonText.visible = true;
        setTimeout(self.hideAll, 2000);
    };

    this.showPlayerLost = function() {
        lostText.visible = true;
        setTimeout(self.hideAll, 2000);
    };

    this.hideAll = function() {
        wonText.visible = false;
        lostText.visible = false;
    }
};

module.exports = GUI;
}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/game\\GUI.js","/game")
},{"../base/Utils":2,"../dependencies/pixi.min":4,"buffer":9,"e/U+97":11}],8:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

;(function (exports) {
	'use strict';

  var Arr = (typeof Uint8Array !== 'undefined')
    ? Uint8Array
    : Array

	var PLUS   = '+'.charCodeAt(0)
	var SLASH  = '/'.charCodeAt(0)
	var NUMBER = '0'.charCodeAt(0)
	var LOWER  = 'a'.charCodeAt(0)
	var UPPER  = 'A'.charCodeAt(0)
	var PLUS_URL_SAFE = '-'.charCodeAt(0)
	var SLASH_URL_SAFE = '_'.charCodeAt(0)

	function decode (elt) {
		var code = elt.charCodeAt(0)
		if (code === PLUS ||
		    code === PLUS_URL_SAFE)
			return 62 // '+'
		if (code === SLASH ||
		    code === SLASH_URL_SAFE)
			return 63 // '/'
		if (code < NUMBER)
			return -1 //no match
		if (code < NUMBER + 10)
			return code - NUMBER + 26 + 26
		if (code < UPPER + 26)
			return code - UPPER
		if (code < LOWER + 26)
			return code - LOWER + 26
	}

	function b64ToByteArray (b64) {
		var i, j, l, tmp, placeHolders, arr

		if (b64.length % 4 > 0) {
			throw new Error('Invalid string. Length must be a multiple of 4')
		}

		// the number of equal signs (place holders)
		// if there are two placeholders, than the two characters before it
		// represent one byte
		// if there is only one, then the three characters before it represent 2 bytes
		// this is just a cheap hack to not do indexOf twice
		var len = b64.length
		placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0

		// base64 is 4/3 + up to two characters of the original data
		arr = new Arr(b64.length * 3 / 4 - placeHolders)

		// if there are placeholders, only get up to the last complete 4 chars
		l = placeHolders > 0 ? b64.length - 4 : b64.length

		var L = 0

		function push (v) {
			arr[L++] = v
		}

		for (i = 0, j = 0; i < l; i += 4, j += 3) {
			tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))
			push((tmp & 0xFF0000) >> 16)
			push((tmp & 0xFF00) >> 8)
			push(tmp & 0xFF)
		}

		if (placeHolders === 2) {
			tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)
			push(tmp & 0xFF)
		} else if (placeHolders === 1) {
			tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)
			push((tmp >> 8) & 0xFF)
			push(tmp & 0xFF)
		}

		return arr
	}

	function uint8ToBase64 (uint8) {
		var i,
			extraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes
			output = "",
			temp, length

		function encode (num) {
			return lookup.charAt(num)
		}

		function tripletToBase64 (num) {
			return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)
		}

		// go through the array every three bytes, we'll deal with trailing stuff later
		for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
			temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
			output += tripletToBase64(temp)
		}

		// pad the end with zeros, but make sure to not forget the extra bytes
		switch (extraBytes) {
			case 1:
				temp = uint8[uint8.length - 1]
				output += encode(temp >> 2)
				output += encode((temp << 4) & 0x3F)
				output += '=='
				break
			case 2:
				temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])
				output += encode(temp >> 10)
				output += encode((temp >> 4) & 0x3F)
				output += encode((temp << 2) & 0x3F)
				output += '='
				break
		}

		return output
	}

	exports.toByteArray = b64ToByteArray
	exports.fromByteArray = uint8ToBase64
}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))

}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\base64-js\\lib\\b64.js","/..\\..\\node_modules\\base64-js\\lib")
},{"buffer":9,"e/U+97":11}],9:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */

var base64 = require('base64-js')
var ieee754 = require('ieee754')

exports.Buffer = Buffer
exports.SlowBuffer = Buffer
exports.INSPECT_MAX_BYTES = 50
Buffer.poolSize = 8192

/**
 * If `Buffer._useTypedArrays`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (compatible down to IE6)
 */
Buffer._useTypedArrays = (function () {
  // Detect if browser supports Typed Arrays. Supported browsers are IE 10+, Firefox 4+,
  // Chrome 7+, Safari 5.1+, Opera 11.6+, iOS 4.2+. If the browser does not support adding
  // properties to `Uint8Array` instances, then that's the same as no `Uint8Array` support
  // because we need to be able to add all the node Buffer API methods. This is an issue
  // in Firefox 4-29. Now fixed: https://bugzilla.mozilla.org/show_bug.cgi?id=695438
  try {
    var buf = new ArrayBuffer(0)
    var arr = new Uint8Array(buf)
    arr.foo = function () { return 42 }
    return 42 === arr.foo() &&
        typeof arr.subarray === 'function' // Chrome 9-10 lack `subarray`
  } catch (e) {
    return false
  }
})()

/**
 * Class: Buffer
 * =============
 *
 * The Buffer constructor returns instances of `Uint8Array` that are augmented
 * with function properties for all the node `Buffer` API functions. We use
 * `Uint8Array` so that square bracket notation works as expected -- it returns
 * a single octet.
 *
 * By augmenting the instances, we can avoid modifying the `Uint8Array`
 * prototype.
 */
function Buffer (subject, encoding, noZero) {
  if (!(this instanceof Buffer))
    return new Buffer(subject, encoding, noZero)

  var type = typeof subject

  // Workaround: node's base64 implementation allows for non-padded strings
  // while base64-js does not.
  if (encoding === 'base64' && type === 'string') {
    subject = stringtrim(subject)
    while (subject.length % 4 !== 0) {
      subject = subject + '='
    }
  }

  // Find the length
  var length
  if (type === 'number')
    length = coerce(subject)
  else if (type === 'string')
    length = Buffer.byteLength(subject, encoding)
  else if (type === 'object')
    length = coerce(subject.length) // assume that object is array-like
  else
    throw new Error('First argument needs to be a number, array or string.')

  var buf
  if (Buffer._useTypedArrays) {
    // Preferred: Return an augmented `Uint8Array` instance for best performance
    buf = Buffer._augment(new Uint8Array(length))
  } else {
    // Fallback: Return THIS instance of Buffer (created by `new`)
    buf = this
    buf.length = length
    buf._isBuffer = true
  }

  var i
  if (Buffer._useTypedArrays && typeof subject.byteLength === 'number') {
    // Speed optimization -- use set if we're copying from a typed array
    buf._set(subject)
  } else if (isArrayish(subject)) {
    // Treat array-ish objects as a byte array
    for (i = 0; i < length; i++) {
      if (Buffer.isBuffer(subject))
        buf[i] = subject.readUInt8(i)
      else
        buf[i] = subject[i]
    }
  } else if (type === 'string') {
    buf.write(subject, 0, encoding)
  } else if (type === 'number' && !Buffer._useTypedArrays && !noZero) {
    for (i = 0; i < length; i++) {
      buf[i] = 0
    }
  }

  return buf
}

// STATIC METHODS
// ==============

Buffer.isEncoding = function (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'binary':
    case 'base64':
    case 'raw':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.isBuffer = function (b) {
  return !!(b !== null && b !== undefined && b._isBuffer)
}

Buffer.byteLength = function (str, encoding) {
  var ret
  str = str + ''
  switch (encoding || 'utf8') {
    case 'hex':
      ret = str.length / 2
      break
    case 'utf8':
    case 'utf-8':
      ret = utf8ToBytes(str).length
      break
    case 'ascii':
    case 'binary':
    case 'raw':
      ret = str.length
      break
    case 'base64':
      ret = base64ToBytes(str).length
      break
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      ret = str.length * 2
      break
    default:
      throw new Error('Unknown encoding')
  }
  return ret
}

Buffer.concat = function (list, totalLength) {
  assert(isArray(list), 'Usage: Buffer.concat(list, [totalLength])\n' +
      'list should be an Array.')

  if (list.length === 0) {
    return new Buffer(0)
  } else if (list.length === 1) {
    return list[0]
  }

  var i
  if (typeof totalLength !== 'number') {
    totalLength = 0
    for (i = 0; i < list.length; i++) {
      totalLength += list[i].length
    }
  }

  var buf = new Buffer(totalLength)
  var pos = 0
  for (i = 0; i < list.length; i++) {
    var item = list[i]
    item.copy(buf, pos)
    pos += item.length
  }
  return buf
}

// BUFFER INSTANCE METHODS
// =======================

function _hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  assert(strLen % 2 === 0, 'Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; i++) {
    var byte = parseInt(string.substr(i * 2, 2), 16)
    assert(!isNaN(byte), 'Invalid hex string')
    buf[offset + i] = byte
  }
  Buffer._charsWritten = i * 2
  return i
}

function _utf8Write (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(utf8ToBytes(string), buf, offset, length)
  return charsWritten
}

function _asciiWrite (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(asciiToBytes(string), buf, offset, length)
  return charsWritten
}

function _binaryWrite (buf, string, offset, length) {
  return _asciiWrite(buf, string, offset, length)
}

function _base64Write (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(base64ToBytes(string), buf, offset, length)
  return charsWritten
}

function _utf16leWrite (buf, string, offset, length) {
  var charsWritten = Buffer._charsWritten =
    blitBuffer(utf16leToBytes(string), buf, offset, length)
  return charsWritten
}

Buffer.prototype.write = function (string, offset, length, encoding) {
  // Support both (string, offset, length, encoding)
  // and the legacy (string, encoding, offset, length)
  if (isFinite(offset)) {
    if (!isFinite(length)) {
      encoding = length
      length = undefined
    }
  } else {  // legacy
    var swap = encoding
    encoding = offset
    offset = length
    length = swap
  }

  offset = Number(offset) || 0
  var remaining = this.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }
  encoding = String(encoding || 'utf8').toLowerCase()

  var ret
  switch (encoding) {
    case 'hex':
      ret = _hexWrite(this, string, offset, length)
      break
    case 'utf8':
    case 'utf-8':
      ret = _utf8Write(this, string, offset, length)
      break
    case 'ascii':
      ret = _asciiWrite(this, string, offset, length)
      break
    case 'binary':
      ret = _binaryWrite(this, string, offset, length)
      break
    case 'base64':
      ret = _base64Write(this, string, offset, length)
      break
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      ret = _utf16leWrite(this, string, offset, length)
      break
    default:
      throw new Error('Unknown encoding')
  }
  return ret
}

Buffer.prototype.toString = function (encoding, start, end) {
  var self = this

  encoding = String(encoding || 'utf8').toLowerCase()
  start = Number(start) || 0
  end = (end !== undefined)
    ? Number(end)
    : end = self.length

  // Fastpath empty strings
  if (end === start)
    return ''

  var ret
  switch (encoding) {
    case 'hex':
      ret = _hexSlice(self, start, end)
      break
    case 'utf8':
    case 'utf-8':
      ret = _utf8Slice(self, start, end)
      break
    case 'ascii':
      ret = _asciiSlice(self, start, end)
      break
    case 'binary':
      ret = _binarySlice(self, start, end)
      break
    case 'base64':
      ret = _base64Slice(self, start, end)
      break
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      ret = _utf16leSlice(self, start, end)
      break
    default:
      throw new Error('Unknown encoding')
  }
  return ret
}

Buffer.prototype.toJSON = function () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function (target, target_start, start, end) {
  var source = this

  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (!target_start) target_start = 0

  // Copy 0 bytes; we're done
  if (end === start) return
  if (target.length === 0 || source.length === 0) return

  // Fatal error conditions
  assert(end >= start, 'sourceEnd < sourceStart')
  assert(target_start >= 0 && target_start < target.length,
      'targetStart out of bounds')
  assert(start >= 0 && start < source.length, 'sourceStart out of bounds')
  assert(end >= 0 && end <= source.length, 'sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length)
    end = this.length
  if (target.length - target_start < end - start)
    end = target.length - target_start + start

  var len = end - start

  if (len < 100 || !Buffer._useTypedArrays) {
    for (var i = 0; i < len; i++)
      target[i + target_start] = this[i + start]
  } else {
    target._set(this.subarray(start, start + len), target_start)
  }
}

function _base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function _utf8Slice (buf, start, end) {
  var res = ''
  var tmp = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    if (buf[i] <= 0x7F) {
      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])
      tmp = ''
    } else {
      tmp += '%' + buf[i].toString(16)
    }
  }

  return res + decodeUtf8Char(tmp)
}

function _asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++)
    ret += String.fromCharCode(buf[i])
  return ret
}

function _binarySlice (buf, start, end) {
  return _asciiSlice(buf, start, end)
}

function _hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; i++) {
    out += toHex(buf[i])
  }
  return out
}

function _utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i+1] * 256)
  }
  return res
}

Buffer.prototype.slice = function (start, end) {
  var len = this.length
  start = clamp(start, len, 0)
  end = clamp(end, len, len)

  if (Buffer._useTypedArrays) {
    return Buffer._augment(this.subarray(start, end))
  } else {
    var sliceLen = end - start
    var newBuf = new Buffer(sliceLen, undefined, true)
    for (var i = 0; i < sliceLen; i++) {
      newBuf[i] = this[i + start]
    }
    return newBuf
  }
}

// `get` will be removed in Node 0.13+
Buffer.prototype.get = function (offset) {
  console.log('.get() is deprecated. Access using array indexes instead.')
  return this.readUInt8(offset)
}

// `set` will be removed in Node 0.13+
Buffer.prototype.set = function (v, offset) {
  console.log('.set() is deprecated. Access using array indexes instead.')
  return this.writeUInt8(v, offset)
}

Buffer.prototype.readUInt8 = function (offset, noAssert) {
  if (!noAssert) {
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset < this.length, 'Trying to read beyond buffer length')
  }

  if (offset >= this.length)
    return

  return this[offset]
}

function _readUInt16 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val
  if (littleEndian) {
    val = buf[offset]
    if (offset + 1 < len)
      val |= buf[offset + 1] << 8
  } else {
    val = buf[offset] << 8
    if (offset + 1 < len)
      val |= buf[offset + 1]
  }
  return val
}

Buffer.prototype.readUInt16LE = function (offset, noAssert) {
  return _readUInt16(this, offset, true, noAssert)
}

Buffer.prototype.readUInt16BE = function (offset, noAssert) {
  return _readUInt16(this, offset, false, noAssert)
}

function _readUInt32 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val
  if (littleEndian) {
    if (offset + 2 < len)
      val = buf[offset + 2] << 16
    if (offset + 1 < len)
      val |= buf[offset + 1] << 8
    val |= buf[offset]
    if (offset + 3 < len)
      val = val + (buf[offset + 3] << 24 >>> 0)
  } else {
    if (offset + 1 < len)
      val = buf[offset + 1] << 16
    if (offset + 2 < len)
      val |= buf[offset + 2] << 8
    if (offset + 3 < len)
      val |= buf[offset + 3]
    val = val + (buf[offset] << 24 >>> 0)
  }
  return val
}

Buffer.prototype.readUInt32LE = function (offset, noAssert) {
  return _readUInt32(this, offset, true, noAssert)
}

Buffer.prototype.readUInt32BE = function (offset, noAssert) {
  return _readUInt32(this, offset, false, noAssert)
}

Buffer.prototype.readInt8 = function (offset, noAssert) {
  if (!noAssert) {
    assert(offset !== undefined && offset !== null,
        'missing offset')
    assert(offset < this.length, 'Trying to read beyond buffer length')
  }

  if (offset >= this.length)
    return

  var neg = this[offset] & 0x80
  if (neg)
    return (0xff - this[offset] + 1) * -1
  else
    return this[offset]
}

function _readInt16 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val = _readUInt16(buf, offset, littleEndian, true)
  var neg = val & 0x8000
  if (neg)
    return (0xffff - val + 1) * -1
  else
    return val
}

Buffer.prototype.readInt16LE = function (offset, noAssert) {
  return _readInt16(this, offset, true, noAssert)
}

Buffer.prototype.readInt16BE = function (offset, noAssert) {
  return _readInt16(this, offset, false, noAssert)
}

function _readInt32 (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')
  }

  var len = buf.length
  if (offset >= len)
    return

  var val = _readUInt32(buf, offset, littleEndian, true)
  var neg = val & 0x80000000
  if (neg)
    return (0xffffffff - val + 1) * -1
  else
    return val
}

Buffer.prototype.readInt32LE = function (offset, noAssert) {
  return _readInt32(this, offset, true, noAssert)
}

Buffer.prototype.readInt32BE = function (offset, noAssert) {
  return _readInt32(this, offset, false, noAssert)
}

function _readFloat (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')
  }

  return ieee754.read(buf, offset, littleEndian, 23, 4)
}

Buffer.prototype.readFloatLE = function (offset, noAssert) {
  return _readFloat(this, offset, true, noAssert)
}

Buffer.prototype.readFloatBE = function (offset, noAssert) {
  return _readFloat(this, offset, false, noAssert)
}

function _readDouble (buf, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset + 7 < buf.length, 'Trying to read beyond buffer length')
  }

  return ieee754.read(buf, offset, littleEndian, 52, 8)
}

Buffer.prototype.readDoubleLE = function (offset, noAssert) {
  return _readDouble(this, offset, true, noAssert)
}

Buffer.prototype.readDoubleBE = function (offset, noAssert) {
  return _readDouble(this, offset, false, noAssert)
}

Buffer.prototype.writeUInt8 = function (value, offset, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset < this.length, 'trying to write beyond buffer length')
    verifuint(value, 0xff)
  }

  if (offset >= this.length) return

  this[offset] = value
}

function _writeUInt16 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'trying to write beyond buffer length')
    verifuint(value, 0xffff)
  }

  var len = buf.length
  if (offset >= len)
    return

  for (var i = 0, j = Math.min(len - offset, 2); i < j; i++) {
    buf[offset + i] =
        (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
            (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function (value, offset, noAssert) {
  _writeUInt16(this, value, offset, true, noAssert)
}

Buffer.prototype.writeUInt16BE = function (value, offset, noAssert) {
  _writeUInt16(this, value, offset, false, noAssert)
}

function _writeUInt32 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'trying to write beyond buffer length')
    verifuint(value, 0xffffffff)
  }

  var len = buf.length
  if (offset >= len)
    return

  for (var i = 0, j = Math.min(len - offset, 4); i < j; i++) {
    buf[offset + i] =
        (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function (value, offset, noAssert) {
  _writeUInt32(this, value, offset, true, noAssert)
}

Buffer.prototype.writeUInt32BE = function (value, offset, noAssert) {
  _writeUInt32(this, value, offset, false, noAssert)
}

Buffer.prototype.writeInt8 = function (value, offset, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset < this.length, 'Trying to write beyond buffer length')
    verifsint(value, 0x7f, -0x80)
  }

  if (offset >= this.length)
    return

  if (value >= 0)
    this.writeUInt8(value, offset, noAssert)
  else
    this.writeUInt8(0xff + value + 1, offset, noAssert)
}

function _writeInt16 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 1 < buf.length, 'Trying to write beyond buffer length')
    verifsint(value, 0x7fff, -0x8000)
  }

  var len = buf.length
  if (offset >= len)
    return

  if (value >= 0)
    _writeUInt16(buf, value, offset, littleEndian, noAssert)
  else
    _writeUInt16(buf, 0xffff + value + 1, offset, littleEndian, noAssert)
}

Buffer.prototype.writeInt16LE = function (value, offset, noAssert) {
  _writeInt16(this, value, offset, true, noAssert)
}

Buffer.prototype.writeInt16BE = function (value, offset, noAssert) {
  _writeInt16(this, value, offset, false, noAssert)
}

function _writeInt32 (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')
    verifsint(value, 0x7fffffff, -0x80000000)
  }

  var len = buf.length
  if (offset >= len)
    return

  if (value >= 0)
    _writeUInt32(buf, value, offset, littleEndian, noAssert)
  else
    _writeUInt32(buf, 0xffffffff + value + 1, offset, littleEndian, noAssert)
}

Buffer.prototype.writeInt32LE = function (value, offset, noAssert) {
  _writeInt32(this, value, offset, true, noAssert)
}

Buffer.prototype.writeInt32BE = function (value, offset, noAssert) {
  _writeInt32(this, value, offset, false, noAssert)
}

function _writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')
    verifIEEE754(value, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }

  var len = buf.length
  if (offset >= len)
    return

  ieee754.write(buf, value, offset, littleEndian, 23, 4)
}

Buffer.prototype.writeFloatLE = function (value, offset, noAssert) {
  _writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function (value, offset, noAssert) {
  _writeFloat(this, value, offset, false, noAssert)
}

function _writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    assert(value !== undefined && value !== null, 'missing value')
    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')
    assert(offset !== undefined && offset !== null, 'missing offset')
    assert(offset + 7 < buf.length,
        'Trying to write beyond buffer length')
    verifIEEE754(value, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }

  var len = buf.length
  if (offset >= len)
    return

  ieee754.write(buf, value, offset, littleEndian, 52, 8)
}

Buffer.prototype.writeDoubleLE = function (value, offset, noAssert) {
  _writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function (value, offset, noAssert) {
  _writeDouble(this, value, offset, false, noAssert)
}

// fill(value, start=0, end=buffer.length)
Buffer.prototype.fill = function (value, start, end) {
  if (!value) value = 0
  if (!start) start = 0
  if (!end) end = this.length

  if (typeof value === 'string') {
    value = value.charCodeAt(0)
  }

  assert(typeof value === 'number' && !isNaN(value), 'value is not a number')
  assert(end >= start, 'end < start')

  // Fill 0 bytes; we're done
  if (end === start) return
  if (this.length === 0) return

  assert(start >= 0 && start < this.length, 'start out of bounds')
  assert(end >= 0 && end <= this.length, 'end out of bounds')

  for (var i = start; i < end; i++) {
    this[i] = value
  }
}

Buffer.prototype.inspect = function () {
  var out = []
  var len = this.length
  for (var i = 0; i < len; i++) {
    out[i] = toHex(this[i])
    if (i === exports.INSPECT_MAX_BYTES) {
      out[i + 1] = '...'
      break
    }
  }
  return '<Buffer ' + out.join(' ') + '>'
}

/**
 * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.
 * Added in Node 0.12. Only available in browsers that support ArrayBuffer.
 */
Buffer.prototype.toArrayBuffer = function () {
  if (typeof Uint8Array !== 'undefined') {
    if (Buffer._useTypedArrays) {
      return (new Buffer(this)).buffer
    } else {
      var buf = new Uint8Array(this.length)
      for (var i = 0, len = buf.length; i < len; i += 1)
        buf[i] = this[i]
      return buf.buffer
    }
  } else {
    throw new Error('Buffer.toArrayBuffer not supported in this browser')
  }
}

// HELPER FUNCTIONS
// ================

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

var BP = Buffer.prototype

/**
 * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods
 */
Buffer._augment = function (arr) {
  arr._isBuffer = true

  // save reference to original Uint8Array get/set methods before overwriting
  arr._get = arr.get
  arr._set = arr.set

  // deprecated, will be removed in node 0.13+
  arr.get = BP.get
  arr.set = BP.set

  arr.write = BP.write
  arr.toString = BP.toString
  arr.toLocaleString = BP.toString
  arr.toJSON = BP.toJSON
  arr.copy = BP.copy
  arr.slice = BP.slice
  arr.readUInt8 = BP.readUInt8
  arr.readUInt16LE = BP.readUInt16LE
  arr.readUInt16BE = BP.readUInt16BE
  arr.readUInt32LE = BP.readUInt32LE
  arr.readUInt32BE = BP.readUInt32BE
  arr.readInt8 = BP.readInt8
  arr.readInt16LE = BP.readInt16LE
  arr.readInt16BE = BP.readInt16BE
  arr.readInt32LE = BP.readInt32LE
  arr.readInt32BE = BP.readInt32BE
  arr.readFloatLE = BP.readFloatLE
  arr.readFloatBE = BP.readFloatBE
  arr.readDoubleLE = BP.readDoubleLE
  arr.readDoubleBE = BP.readDoubleBE
  arr.writeUInt8 = BP.writeUInt8
  arr.writeUInt16LE = BP.writeUInt16LE
  arr.writeUInt16BE = BP.writeUInt16BE
  arr.writeUInt32LE = BP.writeUInt32LE
  arr.writeUInt32BE = BP.writeUInt32BE
  arr.writeInt8 = BP.writeInt8
  arr.writeInt16LE = BP.writeInt16LE
  arr.writeInt16BE = BP.writeInt16BE
  arr.writeInt32LE = BP.writeInt32LE
  arr.writeInt32BE = BP.writeInt32BE
  arr.writeFloatLE = BP.writeFloatLE
  arr.writeFloatBE = BP.writeFloatBE
  arr.writeDoubleLE = BP.writeDoubleLE
  arr.writeDoubleBE = BP.writeDoubleBE
  arr.fill = BP.fill
  arr.inspect = BP.inspect
  arr.toArrayBuffer = BP.toArrayBuffer

  return arr
}

// slice(start, end)
function clamp (index, len, defaultValue) {
  if (typeof index !== 'number') return defaultValue
  index = ~~index;  // Coerce to integer.
  if (index >= len) return len
  if (index >= 0) return index
  index += len
  if (index >= 0) return index
  return 0
}

function coerce (length) {
  // Coerce length to a number (possibly NaN), round up
  // in case it's fractional (e.g. 123.456) then do a
  // double negate to coerce a NaN to 0. Easy, right?
  length = ~~Math.ceil(+length)
  return length < 0 ? 0 : length
}

function isArray (subject) {
  return (Array.isArray || function (subject) {
    return Object.prototype.toString.call(subject) === '[object Array]'
  })(subject)
}

function isArrayish (subject) {
  return isArray(subject) || Buffer.isBuffer(subject) ||
      subject && typeof subject === 'object' &&
      typeof subject.length === 'number'
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    var b = str.charCodeAt(i)
    if (b <= 0x7F)
      byteArray.push(str.charCodeAt(i))
    else {
      var start = i
      if (b >= 0xD800 && b <= 0xDFFF) i++
      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')
      for (var j = 0; j < h.length; j++)
        byteArray.push(parseInt(h[j], 16))
    }
  }
  return byteArray
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(str)
}

function blitBuffer (src, dst, offset, length) {
  var pos
  for (var i = 0; i < length; i++) {
    if ((i + offset >= dst.length) || (i >= src.length))
      break
    dst[i + offset] = src[i]
  }
  return i
}

function decodeUtf8Char (str) {
  try {
    return decodeURIComponent(str)
  } catch (err) {
    return String.fromCharCode(0xFFFD) // UTF 8 invalid char
  }
}

/*
 * We have to make sure that the value is a valid integer. This means that it
 * is non-negative. It has no fractional component and that it does not
 * exceed the maximum allowed value.
 */
function verifuint (value, max) {
  assert(typeof value === 'number', 'cannot write a non-number as a number')
  assert(value >= 0, 'specified a negative value for writing an unsigned value')
  assert(value <= max, 'value is larger than maximum value for type')
  assert(Math.floor(value) === value, 'value has a fractional component')
}

function verifsint (value, max, min) {
  assert(typeof value === 'number', 'cannot write a non-number as a number')
  assert(value <= max, 'value larger than maximum allowed value')
  assert(value >= min, 'value smaller than minimum allowed value')
  assert(Math.floor(value) === value, 'value has a fractional component')
}

function verifIEEE754 (value, max, min) {
  assert(typeof value === 'number', 'cannot write a non-number as a number')
  assert(value <= max, 'value larger than maximum allowed value')
  assert(value >= min, 'value smaller than minimum allowed value')
}

function assert (test, message) {
  if (!test) throw new Error(message || 'Failed assertion')
}

}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\buffer\\index.js","/..\\..\\node_modules\\buffer")
},{"base64-js":8,"buffer":9,"e/U+97":11,"ieee754":10}],10:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\ieee754\\index.js","/..\\..\\node_modules\\ieee754")
},{"buffer":9,"e/U+97":11}],11:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

}).call(this,require("e/U+97"),typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\process\\browser.js","/..\\..\\node_modules\\process")
},{"buffer":9,"e/U+97":11}]},{},[5])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaXZvZG9waXZpelxcRGVza3RvcFxcU2hlbGxHYW1lXFxub2RlX21vZHVsZXNcXGJyb3dzZXItcGFja1xcX3ByZWx1ZGUuanMiLCJDOi9Vc2Vycy9pdm9kb3Bpdml6L0Rlc2t0b3AvU2hlbGxHYW1lL2FwcC9qcy9iYXNlL1Nwcml0ZS5qcyIsIkM6L1VzZXJzL2l2b2RvcGl2aXovRGVza3RvcC9TaGVsbEdhbWUvYXBwL2pzL2Jhc2UvVXRpbHMuanMiLCJDOi9Vc2Vycy9pdm9kb3Bpdml6L0Rlc2t0b3AvU2hlbGxHYW1lL2FwcC9qcy9kZXBlbmRlbmNpZXMvVHdlZW5NYXgubWluLmpzIiwiQzovVXNlcnMvaXZvZG9waXZpei9EZXNrdG9wL1NoZWxsR2FtZS9hcHAvanMvZGVwZW5kZW5jaWVzL3BpeGkubWluLmpzIiwiQzovVXNlcnMvaXZvZG9waXZpei9EZXNrdG9wL1NoZWxsR2FtZS9hcHAvanMvZmFrZV8xM2Y5YzA4Yi5qcyIsIkM6L1VzZXJzL2l2b2RvcGl2aXovRGVza3RvcC9TaGVsbEdhbWUvYXBwL2pzL2dhbWUvQm9hcmQuanMiLCJDOi9Vc2Vycy9pdm9kb3Bpdml6L0Rlc2t0b3AvU2hlbGxHYW1lL2FwcC9qcy9nYW1lL0dVSS5qcyIsIkM6L1VzZXJzL2l2b2RvcGl2aXovRGVza3RvcC9TaGVsbEdhbWUvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9saWIvYjY0LmpzIiwiQzovVXNlcnMvaXZvZG9waXZpei9EZXNrdG9wL1NoZWxsR2FtZS9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwiQzovVXNlcnMvaXZvZG9waXZpei9EZXNrdG9wL1NoZWxsR2FtZS9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIkM6L1VzZXJzL2l2b2RvcGl2aXovRGVza3RvcC9TaGVsbEdhbWUvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdmxDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG52YXIgUElYSSA9IHJlcXVpcmUoXCIuLi9kZXBlbmRlbmNpZXMvcGl4aS5taW5cIik7XHJcblxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogU2ltcGxlIHdyYXBwZXIgZm9yIFBJWEkncyBTcHJpdGUgY2xhc3NcclxuICovXHJcbnZhciBTcHJpdGUgPSBmdW5jdGlvbih0ZXh0dXJlLCB4LCB5KSB7XHJcbiAgICBQSVhJLlNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpO1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmFuY2hvci54ID0gMC41O1xyXG4gICAgdGhpcy5hbmNob3IueSA9IDAuNTtcclxufVxyXG5cclxuU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUElYSS5TcHJpdGUucHJvdG90eXBlKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gU3ByaXRlO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJlL1UrOTdcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9iYXNlXFxcXFNwcml0ZS5qc1wiLFwiL2Jhc2VcIikiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG4ndXNlIHN0cmljdCc7XHJcblxyXG4vKipcclxuICogU3RhdGljIHV0aWxzIGNsYXNzIGZvciBnZW5lcmljIGZ1bmN0aW9uYWxpdHlcclxuICovXHJcbnZhciBVdGlscyA9IHtcclxuICAgIGRpc3BsYXlXaWR0aCA6IDEwMjQsXHJcbiAgICBkaXNwbGF5SGVpZ2h0IDogNTc2LFxyXG4gICAgc2h1ZmZsZUFycmF5IDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgIHZhciBqLCB4LCBpO1xyXG4gICAgICAgIGZvciAoaSA9IGEubGVuZ3RoOyBpOyBpLS0pIHtcclxuICAgICAgICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGkpO1xyXG4gICAgICAgICAgICB4ID0gYVtpIC0gMV07XHJcbiAgICAgICAgICAgIGFbaSAtIDFdID0gYVtqXTtcclxuICAgICAgICAgICAgYVtqXSA9IHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFV0aWxzO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJlL1UrOTdcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9iYXNlXFxcXFV0aWxzLmpzXCIsXCIvYmFzZVwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbi8qIVxuICogVkVSU0lPTjogMS4xOS4xXG4gKiBEQVRFOiAyMDE3LTAxLTE3XG4gKiBVUERBVEVTIEFORCBET0NTIEFUOiBodHRwOi8vZ3JlZW5zb2NrLmNvbVxuICogXG4gKiBJbmNsdWRlcyBhbGwgb2YgdGhlIGZvbGxvd2luZzogVHdlZW5MaXRlLCBUd2Vlbk1heCwgVGltZWxpbmVMaXRlLCBUaW1lbGluZU1heCwgRWFzZVBhY2ssIENTU1BsdWdpbiwgUm91bmRQcm9wc1BsdWdpbiwgQmV6aWVyUGx1Z2luLCBBdHRyUGx1Z2luLCBEaXJlY3Rpb25hbFJvdGF0aW9uUGx1Z2luXG4gKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDA4LTIwMTcsIEdyZWVuU29jay4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgd29yayBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBhdCBodHRwOi8vZ3JlZW5zb2NrLmNvbS9zdGFuZGFyZC1saWNlbnNlIG9yIGZvclxuICogQ2x1YiBHcmVlblNvY2sgbWVtYmVycywgdGhlIHNvZnR3YXJlIGFncmVlbWVudCB0aGF0IHdhcyBpc3N1ZWQgd2l0aCB5b3VyIG1lbWJlcnNoaXAuXG4gKiBcbiAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxuICoqL1xudmFyIF9nc1Njb3BlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzfHx3aW5kb3c7KF9nc1Njb3BlLl9nc1F1ZXVlfHwoX2dzU2NvcGUuX2dzUXVldWU9W10pKS5wdXNoKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7X2dzU2NvcGUuX2dzRGVmaW5lKFwiVHdlZW5NYXhcIixbXCJjb3JlLkFuaW1hdGlvblwiLFwiY29yZS5TaW1wbGVUaW1lbGluZVwiLFwiVHdlZW5MaXRlXCJdLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9YS5sZW5ndGg7Zm9yKGI9MDtiIT09ZDtjLnB1c2goYVtiKytdKSk7cmV0dXJuIGN9LGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLmN5Y2xlO2ZvcihkIGluIGYpZT1mW2RdLGFbZF09XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKGMsYltjXSk6ZVtjJWUubGVuZ3RoXTtkZWxldGUgYS5jeWNsZX0sZj1mdW5jdGlvbihhLGIsZCl7Yy5jYWxsKHRoaXMsYSxiLGQpLHRoaXMuX2N5Y2xlPTAsdGhpcy5feW95bz10aGlzLnZhcnMueW95bz09PSEwLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl9kaXJ0eT0hMCx0aGlzLnJlbmRlcj1mLnByb3RvdHlwZS5yZW5kZXJ9LGc9MWUtMTAsaD1jLl9pbnRlcm5hbHMsaT1oLmlzU2VsZWN0b3Isaj1oLmlzQXJyYXksaz1mLnByb3RvdHlwZT1jLnRvKHt9LC4xLHt9KSxsPVtdO2YudmVyc2lvbj1cIjEuMTkuMVwiLGsuY29uc3RydWN0b3I9ZixrLmtpbGwoKS5fZ2M9ITEsZi5raWxsVHdlZW5zT2Y9Zi5raWxsRGVsYXllZENhbGxzVG89Yy5raWxsVHdlZW5zT2YsZi5nZXRUd2VlbnNPZj1jLmdldFR3ZWVuc09mLGYubGFnU21vb3RoaW5nPWMubGFnU21vb3RoaW5nLGYudGlja2VyPWMudGlja2VyLGYucmVuZGVyPWMucmVuZGVyLGsuaW52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl95b3lvPXRoaXMudmFycy55b3lvPT09ITAsdGhpcy5fcmVwZWF0PXRoaXMudmFycy5yZXBlYXR8fDAsdGhpcy5fcmVwZWF0RGVsYXk9dGhpcy52YXJzLnJlcGVhdERlbGF5fHwwLHRoaXMuX3VuY2FjaGUoITApLGMucHJvdG90eXBlLmludmFsaWRhdGUuY2FsbCh0aGlzKX0say51cGRhdGVUbz1mdW5jdGlvbihhLGIpe3ZhciBkLGU9dGhpcy5yYXRpbyxmPXRoaXMudmFycy5pbW1lZGlhdGVSZW5kZXJ8fGEuaW1tZWRpYXRlUmVuZGVyO2ImJnRoaXMuX3N0YXJ0VGltZTx0aGlzLl90aW1lbGluZS5fdGltZSYmKHRoaXMuX3N0YXJ0VGltZT10aGlzLl90aW1lbGluZS5fdGltZSx0aGlzLl91bmNhY2hlKCExKSx0aGlzLl9nYz90aGlzLl9lbmFibGVkKCEwLCExKTp0aGlzLl90aW1lbGluZS5pbnNlcnQodGhpcyx0aGlzLl9zdGFydFRpbWUtdGhpcy5fZGVsYXkpKTtmb3IoZCBpbiBhKXRoaXMudmFyc1tkXT1hW2RdO2lmKHRoaXMuX2luaXR0ZWR8fGYpaWYoYil0aGlzLl9pbml0dGVkPSExLGYmJnRoaXMucmVuZGVyKDAsITAsITApO2Vsc2UgaWYodGhpcy5fZ2MmJnRoaXMuX2VuYWJsZWQoITAsITEpLHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQmJnRoaXMuX2ZpcnN0UFQmJmMuX29uUGx1Z2luRXZlbnQoXCJfb25EaXNhYmxlXCIsdGhpcyksdGhpcy5fdGltZS90aGlzLl9kdXJhdGlvbj4uOTk4KXt2YXIgZz10aGlzLl90b3RhbFRpbWU7dGhpcy5yZW5kZXIoMCwhMCwhMSksdGhpcy5faW5pdHRlZD0hMSx0aGlzLnJlbmRlcihnLCEwLCExKX1lbHNlIGlmKHRoaXMuX2luaXR0ZWQ9ITEsdGhpcy5faW5pdCgpLHRoaXMuX3RpbWU+MHx8Zilmb3IodmFyIGgsaT0xLygxLWUpLGo9dGhpcy5fZmlyc3RQVDtqOyloPWoucytqLmMsai5jKj1pLGoucz1oLWouYyxqPWouX25leHQ7cmV0dXJuIHRoaXN9LGsucmVuZGVyPWZ1bmN0aW9uKGEsYixjKXt0aGlzLl9pbml0dGVkfHwwPT09dGhpcy5fZHVyYXRpb24mJnRoaXMudmFycy5yZXBlYXQmJnRoaXMuaW52YWxpZGF0ZSgpO3ZhciBkLGUsZixpLGosayxsLG0sbj10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90b3RhbER1cmF0aW9uLG89dGhpcy5fdGltZSxwPXRoaXMuX3RvdGFsVGltZSxxPXRoaXMuX2N5Y2xlLHI9dGhpcy5fZHVyYXRpb24scz10aGlzLl9yYXdQcmV2VGltZTtpZihhPj1uLTFlLTcmJmE+PTA/KHRoaXMuX3RvdGFsVGltZT1uLHRoaXMuX2N5Y2xlPXRoaXMuX3JlcGVhdCx0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpPyh0aGlzLl90aW1lPTAsdGhpcy5yYXRpbz10aGlzLl9lYXNlLl9jYWxjRW5kP3RoaXMuX2Vhc2UuZ2V0UmF0aW8oMCk6MCk6KHRoaXMuX3RpbWU9cix0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuX2NhbGNFbmQ/dGhpcy5fZWFzZS5nZXRSYXRpbygxKToxKSx0aGlzLl9yZXZlcnNlZHx8KGQ9ITAsZT1cIm9uQ29tcGxldGVcIixjPWN8fHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiksMD09PXImJih0aGlzLl9pbml0dGVkfHwhdGhpcy52YXJzLmxhenl8fGMpJiYodGhpcy5fc3RhcnRUaW1lPT09dGhpcy5fdGltZWxpbmUuX2R1cmF0aW9uJiYoYT0wKSwoMD5zfHwwPj1hJiZhPj0tMWUtN3x8cz09PWcmJlwiaXNQYXVzZVwiIT09dGhpcy5kYXRhKSYmcyE9PWEmJihjPSEwLHM+ZyYmKGU9XCJvblJldmVyc2VDb21wbGV0ZVwiKSksdGhpcy5fcmF3UHJldlRpbWU9bT0hYnx8YXx8cz09PWE/YTpnKSk6MWUtNz5hPyh0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT10aGlzLl9jeWNsZT0wLHRoaXMucmF0aW89dGhpcy5fZWFzZS5fY2FsY0VuZD90aGlzLl9lYXNlLmdldFJhdGlvKDApOjAsKDAhPT1wfHwwPT09ciYmcz4wKSYmKGU9XCJvblJldmVyc2VDb21wbGV0ZVwiLGQ9dGhpcy5fcmV2ZXJzZWQpLDA+YSYmKHRoaXMuX2FjdGl2ZT0hMSwwPT09ciYmKHRoaXMuX2luaXR0ZWR8fCF0aGlzLnZhcnMubGF6eXx8YykmJihzPj0wJiYoYz0hMCksdGhpcy5fcmF3UHJldlRpbWU9bT0hYnx8YXx8cz09PWE/YTpnKSksdGhpcy5faW5pdHRlZHx8KGM9ITApKToodGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9YSwwIT09dGhpcy5fcmVwZWF0JiYoaT1yK3RoaXMuX3JlcGVhdERlbGF5LHRoaXMuX2N5Y2xlPXRoaXMuX3RvdGFsVGltZS9pPj4wLDAhPT10aGlzLl9jeWNsZSYmdGhpcy5fY3ljbGU9PT10aGlzLl90b3RhbFRpbWUvaSYmYT49cCYmdGhpcy5fY3ljbGUtLSx0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZS10aGlzLl9jeWNsZSppLHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkmJih0aGlzLl90aW1lPXItdGhpcy5fdGltZSksdGhpcy5fdGltZT5yP3RoaXMuX3RpbWU9cjp0aGlzLl90aW1lPDAmJih0aGlzLl90aW1lPTApKSx0aGlzLl9lYXNlVHlwZT8oaj10aGlzLl90aW1lL3Isaz10aGlzLl9lYXNlVHlwZSxsPXRoaXMuX2Vhc2VQb3dlciwoMT09PWt8fDM9PT1rJiZqPj0uNSkmJihqPTEtaiksMz09PWsmJihqKj0yKSwxPT09bD9qKj1qOjI9PT1sP2oqPWoqajozPT09bD9qKj1qKmoqajo0PT09bCYmKGoqPWoqaipqKmopLDE9PT1rP3RoaXMucmF0aW89MS1qOjI9PT1rP3RoaXMucmF0aW89ajp0aGlzLl90aW1lL3I8LjU/dGhpcy5yYXRpbz1qLzI6dGhpcy5yYXRpbz0xLWovMik6dGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHRoaXMuX3RpbWUvcikpLG89PT10aGlzLl90aW1lJiYhYyYmcT09PXRoaXMuX2N5Y2xlKXJldHVybiB2b2lkKHAhPT10aGlzLl90b3RhbFRpbWUmJnRoaXMuX29uVXBkYXRlJiYoYnx8dGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSkpO2lmKCF0aGlzLl9pbml0dGVkKXtpZih0aGlzLl9pbml0KCksIXRoaXMuX2luaXR0ZWR8fHRoaXMuX2djKXJldHVybjtpZighYyYmdGhpcy5fZmlyc3RQVCYmKHRoaXMudmFycy5sYXp5IT09ITEmJnRoaXMuX2R1cmF0aW9ufHx0aGlzLnZhcnMubGF6eSYmIXRoaXMuX2R1cmF0aW9uKSlyZXR1cm4gdGhpcy5fdGltZT1vLHRoaXMuX3RvdGFsVGltZT1wLHRoaXMuX3Jhd1ByZXZUaW1lPXMsdGhpcy5fY3ljbGU9cSxoLmxhenlUd2VlbnMucHVzaCh0aGlzKSx2b2lkKHRoaXMuX2xhenk9W2EsYl0pO3RoaXMuX3RpbWUmJiFkP3RoaXMucmF0aW89dGhpcy5fZWFzZS5nZXRSYXRpbyh0aGlzLl90aW1lL3IpOmQmJnRoaXMuX2Vhc2UuX2NhbGNFbmQmJih0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuZ2V0UmF0aW8oMD09PXRoaXMuX3RpbWU/MDoxKSl9Zm9yKHRoaXMuX2xhenkhPT0hMSYmKHRoaXMuX2xhenk9ITEpLHRoaXMuX2FjdGl2ZXx8IXRoaXMuX3BhdXNlZCYmdGhpcy5fdGltZSE9PW8mJmE+PTAmJih0aGlzLl9hY3RpdmU9ITApLDA9PT1wJiYoMj09PXRoaXMuX2luaXR0ZWQmJmE+MCYmdGhpcy5faW5pdCgpLHRoaXMuX3N0YXJ0QXQmJihhPj0wP3RoaXMuX3N0YXJ0QXQucmVuZGVyKGEsYixjKTplfHwoZT1cIl9kdW1teUdTXCIpKSx0aGlzLnZhcnMub25TdGFydCYmKDAhPT10aGlzLl90b3RhbFRpbWV8fDA9PT1yKSYmKGJ8fHRoaXMuX2NhbGxiYWNrKFwib25TdGFydFwiKSkpLGY9dGhpcy5fZmlyc3RQVDtmOylmLmY/Zi50W2YucF0oZi5jKnRoaXMucmF0aW8rZi5zKTpmLnRbZi5wXT1mLmMqdGhpcy5yYXRpbytmLnMsZj1mLl9uZXh0O3RoaXMuX29uVXBkYXRlJiYoMD5hJiZ0aGlzLl9zdGFydEF0JiZ0aGlzLl9zdGFydFRpbWUmJnRoaXMuX3N0YXJ0QXQucmVuZGVyKGEsYixjKSxifHwodGhpcy5fdG90YWxUaW1lIT09cHx8ZSkmJnRoaXMuX2NhbGxiYWNrKFwib25VcGRhdGVcIikpLHRoaXMuX2N5Y2xlIT09cSYmKGJ8fHRoaXMuX2djfHx0aGlzLnZhcnMub25SZXBlYXQmJnRoaXMuX2NhbGxiYWNrKFwib25SZXBlYXRcIikpLGUmJighdGhpcy5fZ2N8fGMpJiYoMD5hJiZ0aGlzLl9zdGFydEF0JiYhdGhpcy5fb25VcGRhdGUmJnRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fc3RhcnRBdC5yZW5kZXIoYSxiLGMpLGQmJih0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWImJnRoaXMudmFyc1tlXSYmdGhpcy5fY2FsbGJhY2soZSksMD09PXImJnRoaXMuX3Jhd1ByZXZUaW1lPT09ZyYmbSE9PWcmJih0aGlzLl9yYXdQcmV2VGltZT0wKSl9LGYudG89ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgZihhLGIsYyl9LGYuZnJvbT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMucnVuQmFja3dhcmRzPSEwLGMuaW1tZWRpYXRlUmVuZGVyPTAhPWMuaW1tZWRpYXRlUmVuZGVyLG5ldyBmKGEsYixjKX0sZi5mcm9tVG89ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGQuc3RhcnRBdD1jLGQuaW1tZWRpYXRlUmVuZGVyPTAhPWQuaW1tZWRpYXRlUmVuZGVyJiYwIT1jLmltbWVkaWF0ZVJlbmRlcixuZXcgZihhLGIsZCl9LGYuc3RhZ2dlclRvPWYuYWxsVG89ZnVuY3Rpb24oYSxiLGcsaCxrLG0sbil7aD1ofHwwO3ZhciBvLHAscSxyLHM9MCx0PVtdLHU9ZnVuY3Rpb24oKXtnLm9uQ29tcGxldGUmJmcub25Db21wbGV0ZS5hcHBseShnLm9uQ29tcGxldGVTY29wZXx8dGhpcyxhcmd1bWVudHMpLGsuYXBwbHkobnx8Zy5jYWxsYmFja1Njb3BlfHx0aGlzLG18fGwpfSx2PWcuY3ljbGUsdz1nLnN0YXJ0QXQmJmcuc3RhcnRBdC5jeWNsZTtmb3IoaihhKXx8KFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1jLnNlbGVjdG9yKGEpfHxhKSxpKGEpJiYoYT1kKGEpKSksYT1hfHxbXSwwPmgmJihhPWQoYSksYS5yZXZlcnNlKCksaCo9LTEpLG89YS5sZW5ndGgtMSxxPTA7bz49cTtxKyspe3A9e307Zm9yKHIgaW4gZylwW3JdPWdbcl07aWYodiYmKGUocCxhLHEpLG51bGwhPXAuZHVyYXRpb24mJihiPXAuZHVyYXRpb24sZGVsZXRlIHAuZHVyYXRpb24pKSx3KXt3PXAuc3RhcnRBdD17fTtmb3IociBpbiBnLnN0YXJ0QXQpd1tyXT1nLnN0YXJ0QXRbcl07ZShwLnN0YXJ0QXQsYSxxKX1wLmRlbGF5PXMrKHAuZGVsYXl8fDApLHE9PT1vJiZrJiYocC5vbkNvbXBsZXRlPXUpLHRbcV09bmV3IGYoYVtxXSxiLHApLHMrPWh9cmV0dXJuIHR9LGYuc3RhZ2dlckZyb209Zi5hbGxGcm9tPWZ1bmN0aW9uKGEsYixjLGQsZSxnLGgpe3JldHVybiBjLnJ1bkJhY2t3YXJkcz0hMCxjLmltbWVkaWF0ZVJlbmRlcj0wIT1jLmltbWVkaWF0ZVJlbmRlcixmLnN0YWdnZXJUbyhhLGIsYyxkLGUsZyxoKX0sZi5zdGFnZ2VyRnJvbVRvPWYuYWxsRnJvbVRvPWZ1bmN0aW9uKGEsYixjLGQsZSxnLGgsaSl7cmV0dXJuIGQuc3RhcnRBdD1jLGQuaW1tZWRpYXRlUmVuZGVyPTAhPWQuaW1tZWRpYXRlUmVuZGVyJiYwIT1jLmltbWVkaWF0ZVJlbmRlcixmLnN0YWdnZXJUbyhhLGIsZCxlLGcsaCxpKX0sZi5kZWxheWVkQ2FsbD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgZihiLDAse2RlbGF5OmEsb25Db21wbGV0ZTpiLG9uQ29tcGxldGVQYXJhbXM6YyxjYWxsYmFja1Njb3BlOmQsb25SZXZlcnNlQ29tcGxldGU6YixvblJldmVyc2VDb21wbGV0ZVBhcmFtczpjLGltbWVkaWF0ZVJlbmRlcjohMSx1c2VGcmFtZXM6ZSxvdmVyd3JpdGU6MH0pfSxmLnNldD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgZihhLDAsYil9LGYuaXNUd2VlbmluZz1mdW5jdGlvbihhKXtyZXR1cm4gYy5nZXRUd2VlbnNPZihhLCEwKS5sZW5ndGg+MH07dmFyIG09ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGQ9W10sZT0wLGY9YS5fZmlyc3Q7ZjspZiBpbnN0YW5jZW9mIGM/ZFtlKytdPWY6KGImJihkW2UrK109ZiksZD1kLmNvbmNhdChtKGYsYikpLGU9ZC5sZW5ndGgpLGY9Zi5fbmV4dDtyZXR1cm4gZH0sbj1mLmdldEFsbFR3ZWVucz1mdW5jdGlvbihiKXtyZXR1cm4gbShhLl9yb290VGltZWxpbmUsYikuY29uY2F0KG0oYS5fcm9vdEZyYW1lc1RpbWVsaW5lLGIpKX07Zi5raWxsQWxsPWZ1bmN0aW9uKGEsYyxkLGUpe251bGw9PWMmJihjPSEwKSxudWxsPT1kJiYoZD0hMCk7dmFyIGYsZyxoLGk9bigwIT1lKSxqPWkubGVuZ3RoLGs9YyYmZCYmZTtmb3IoaD0wO2o+aDtoKyspZz1pW2hdLChrfHxnIGluc3RhbmNlb2YgYnx8KGY9Zy50YXJnZXQ9PT1nLnZhcnMub25Db21wbGV0ZSkmJmR8fGMmJiFmKSYmKGE/Zy50b3RhbFRpbWUoZy5fcmV2ZXJzZWQ/MDpnLnRvdGFsRHVyYXRpb24oKSk6Zy5fZW5hYmxlZCghMSwhMSkpfSxmLmtpbGxDaGlsZFR3ZWVuc09mPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dmFyIGUsZyxrLGwsbSxuPWgudHdlZW5Mb29rdXA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWMuc2VsZWN0b3IoYSl8fGEpLGkoYSkmJihhPWQoYSkpLGooYSkpZm9yKGw9YS5sZW5ndGg7LS1sPi0xOylmLmtpbGxDaGlsZFR3ZWVuc09mKGFbbF0sYik7ZWxzZXtlPVtdO2ZvcihrIGluIG4pZm9yKGc9bltrXS50YXJnZXQucGFyZW50Tm9kZTtnOylnPT09YSYmKGU9ZS5jb25jYXQobltrXS50d2VlbnMpKSxnPWcucGFyZW50Tm9kZTtmb3IobT1lLmxlbmd0aCxsPTA7bT5sO2wrKyliJiZlW2xdLnRvdGFsVGltZShlW2xdLnRvdGFsRHVyYXRpb24oKSksZVtsXS5fZW5hYmxlZCghMSwhMSl9fX07dmFyIG89ZnVuY3Rpb24oYSxjLGQsZSl7Yz1jIT09ITEsZD1kIT09ITEsZT1lIT09ITE7Zm9yKHZhciBmLGcsaD1uKGUpLGk9YyYmZCYmZSxqPWgubGVuZ3RoOy0taj4tMTspZz1oW2pdLChpfHxnIGluc3RhbmNlb2YgYnx8KGY9Zy50YXJnZXQ9PT1nLnZhcnMub25Db21wbGV0ZSkmJmR8fGMmJiFmKSYmZy5wYXVzZWQoYSl9O3JldHVybiBmLnBhdXNlQWxsPWZ1bmN0aW9uKGEsYixjKXtvKCEwLGEsYixjKX0sZi5yZXN1bWVBbGw9ZnVuY3Rpb24oYSxiLGMpe28oITEsYSxiLGMpfSxmLmdsb2JhbFRpbWVTY2FsZT1mdW5jdGlvbihiKXt2YXIgZD1hLl9yb290VGltZWxpbmUsZT1jLnRpY2tlci50aW1lO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWJ8fGcsZC5fc3RhcnRUaW1lPWUtKGUtZC5fc3RhcnRUaW1lKSpkLl90aW1lU2NhbGUvYixkPWEuX3Jvb3RGcmFtZXNUaW1lbGluZSxlPWMudGlja2VyLmZyYW1lLGQuX3N0YXJ0VGltZT1lLShlLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlL2IsZC5fdGltZVNjYWxlPWEuX3Jvb3RUaW1lbGluZS5fdGltZVNjYWxlPWIsYik6ZC5fdGltZVNjYWxlfSxrLnByb2dyZXNzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUodGhpcy5kdXJhdGlvbigpKih0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpPzEtYTphKSt0aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpLGIpOnRoaXMuX3RpbWUvdGhpcy5kdXJhdGlvbigpfSxrLnRvdGFsUHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLnRvdGFsRHVyYXRpb24oKSphLGIpOnRoaXMuX3RvdGFsVGltZS90aGlzLnRvdGFsRHVyYXRpb24oKX0say50aW1lPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2RpcnR5JiZ0aGlzLnRvdGFsRHVyYXRpb24oKSxhPnRoaXMuX2R1cmF0aW9uJiYoYT10aGlzLl9kdXJhdGlvbiksdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT9hPXRoaXMuX2R1cmF0aW9uLWErdGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KTowIT09dGhpcy5fcmVwZWF0JiYoYSs9dGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSksdGhpcy50b3RhbFRpbWUoYSxiKSk6dGhpcy5fdGltZX0say5kdXJhdGlvbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hLnByb3RvdHlwZS5kdXJhdGlvbi5jYWxsKHRoaXMsYik6dGhpcy5fZHVyYXRpb259LGsudG90YWxEdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8tMT09PXRoaXMuX3JlcGVhdD90aGlzOnRoaXMuZHVyYXRpb24oKGEtdGhpcy5fcmVwZWF0KnRoaXMuX3JlcGVhdERlbGF5KS8odGhpcy5fcmVwZWF0KzEpKToodGhpcy5fZGlydHkmJih0aGlzLl90b3RhbER1cmF0aW9uPS0xPT09dGhpcy5fcmVwZWF0Pzk5OTk5OTk5OTk5OTp0aGlzLl9kdXJhdGlvbioodGhpcy5fcmVwZWF0KzEpK3RoaXMuX3JlcGVhdERlbGF5KnRoaXMuX3JlcGVhdCx0aGlzLl9kaXJ0eT0hMSksdGhpcy5fdG90YWxEdXJhdGlvbil9LGsucmVwZWF0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXQ9YSx0aGlzLl91bmNhY2hlKCEwKSk6dGhpcy5fcmVwZWF0fSxrLnJlcGVhdERlbGF5PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXREZWxheT1hLHRoaXMuX3VuY2FjaGUoITApKTp0aGlzLl9yZXBlYXREZWxheX0say55b3lvPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl95b3lvPWEsdGhpcyk6dGhpcy5feW95b30sZn0sITApLF9nc1Njb3BlLl9nc0RlZmluZShcIlRpbWVsaW5lTGl0ZVwiLFtcImNvcmUuQW5pbWF0aW9uXCIsXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsXCJUd2VlbkxpdGVcIl0sZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe2IuY2FsbCh0aGlzLGEpLHRoaXMuX2xhYmVscz17fSx0aGlzLmF1dG9SZW1vdmVDaGlsZHJlbj10aGlzLnZhcnMuYXV0b1JlbW92ZUNoaWxkcmVuPT09ITAsdGhpcy5zbW9vdGhDaGlsZFRpbWluZz10aGlzLnZhcnMuc21vb3RoQ2hpbGRUaW1pbmc9PT0hMCx0aGlzLl9zb3J0Q2hpbGRyZW49ITAsdGhpcy5fb25VcGRhdGU9dGhpcy52YXJzLm9uVXBkYXRlO3ZhciBjLGQsZT10aGlzLnZhcnM7Zm9yKGQgaW4gZSljPWVbZF0saShjKSYmLTEhPT1jLmpvaW4oXCJcIikuaW5kZXhPZihcIntzZWxmfVwiKSYmKGVbZF09dGhpcy5fc3dhcFNlbGZJblBhcmFtcyhjKSk7aShlLnR3ZWVucykmJnRoaXMuYWRkKGUudHdlZW5zLDAsZS5hbGlnbixlLnN0YWdnZXIpfSxlPTFlLTEwLGY9Yy5faW50ZXJuYWxzLGc9ZC5faW50ZXJuYWxzPXt9LGg9Zi5pc1NlbGVjdG9yLGk9Zi5pc0FycmF5LGo9Zi5sYXp5VHdlZW5zLGs9Zi5sYXp5UmVuZGVyLGw9X2dzU2NvcGUuX2dzRGVmaW5lLmdsb2JhbHMsbT1mdW5jdGlvbihhKXt2YXIgYixjPXt9O2ZvcihiIGluIGEpY1tiXT1hW2JdO3JldHVybiBjfSxuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5jeWNsZTtmb3IoZCBpbiBmKWU9ZltkXSxhW2RdPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZShjLGJbY10pOmVbYyVlLmxlbmd0aF07ZGVsZXRlIGEuY3ljbGV9LG89Zy5wYXVzZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W10sZD1hLmxlbmd0aDtmb3IoYj0wO2IhPT1kO2MucHVzaChhW2IrK10pKTtyZXR1cm4gY30scT1kLnByb3RvdHlwZT1uZXcgYjtyZXR1cm4gZC52ZXJzaW9uPVwiMS4xOS4xXCIscS5jb25zdHJ1Y3Rvcj1kLHEua2lsbCgpLl9nYz1xLl9mb3JjaW5nUGxheWhlYWQ9cS5faGFzUGF1c2U9ITEscS50bz1mdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1kLnJlcGVhdCYmbC5Ud2Vlbk1heHx8YztyZXR1cm4gYj90aGlzLmFkZChuZXcgZihhLGIsZCksZSk6dGhpcy5zZXQoYSxkLGUpfSxxLmZyb209ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIHRoaXMuYWRkKChkLnJlcGVhdCYmbC5Ud2Vlbk1heHx8YykuZnJvbShhLGIsZCksZSl9LHEuZnJvbVRvPWZ1bmN0aW9uKGEsYixkLGUsZil7dmFyIGc9ZS5yZXBlYXQmJmwuVHdlZW5NYXh8fGM7cmV0dXJuIGI/dGhpcy5hZGQoZy5mcm9tVG8oYSxiLGQsZSksZik6dGhpcy5zZXQoYSxlLGYpfSxxLnN0YWdnZXJUbz1mdW5jdGlvbihhLGIsZSxmLGcsaSxqLGspe3ZhciBsLG8scT1uZXcgZCh7b25Db21wbGV0ZTppLG9uQ29tcGxldGVQYXJhbXM6aixjYWxsYmFja1Njb3BlOmssc21vb3RoQ2hpbGRUaW1pbmc6dGhpcy5zbW9vdGhDaGlsZFRpbWluZ30pLHI9ZS5jeWNsZTtmb3IoXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWMuc2VsZWN0b3IoYSl8fGEpLGE9YXx8W10saChhKSYmKGE9cChhKSksZj1mfHwwLDA+ZiYmKGE9cChhKSxhLnJldmVyc2UoKSxmKj0tMSksbz0wO288YS5sZW5ndGg7bysrKWw9bShlKSxsLnN0YXJ0QXQmJihsLnN0YXJ0QXQ9bShsLnN0YXJ0QXQpLGwuc3RhcnRBdC5jeWNsZSYmbihsLnN0YXJ0QXQsYSxvKSksciYmKG4obCxhLG8pLG51bGwhPWwuZHVyYXRpb24mJihiPWwuZHVyYXRpb24sZGVsZXRlIGwuZHVyYXRpb24pKSxxLnRvKGFbb10sYixsLG8qZik7cmV0dXJuIHRoaXMuYWRkKHEsZyl9LHEuc3RhZ2dlckZyb209ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtyZXR1cm4gYy5pbW1lZGlhdGVSZW5kZXI9MCE9Yy5pbW1lZGlhdGVSZW5kZXIsYy5ydW5CYWNrd2FyZHM9ITAsdGhpcy5zdGFnZ2VyVG8oYSxiLGMsZCxlLGYsZyxoKX0scS5zdGFnZ2VyRnJvbVRvPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxpKXtyZXR1cm4gZC5zdGFydEF0PWMsZC5pbW1lZGlhdGVSZW5kZXI9MCE9ZC5pbW1lZGlhdGVSZW5kZXImJjAhPWMuaW1tZWRpYXRlUmVuZGVyLHRoaXMuc3RhZ2dlclRvKGEsYixkLGUsZixnLGgsaSl9LHEuY2FsbD1mdW5jdGlvbihhLGIsZCxlKXtyZXR1cm4gdGhpcy5hZGQoYy5kZWxheWVkQ2FsbCgwLGEsYixkKSxlKX0scS5zZXQ9ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBkPXRoaXMuX3BhcnNlVGltZU9yTGFiZWwoZCwwLCEwKSxudWxsPT1iLmltbWVkaWF0ZVJlbmRlciYmKGIuaW1tZWRpYXRlUmVuZGVyPWQ9PT10aGlzLl90aW1lJiYhdGhpcy5fcGF1c2VkKSx0aGlzLmFkZChuZXcgYyhhLDAsYiksZCl9LGQuZXhwb3J0Um9vdD1mdW5jdGlvbihhLGIpe2E9YXx8e30sbnVsbD09YS5zbW9vdGhDaGlsZFRpbWluZyYmKGEuc21vb3RoQ2hpbGRUaW1pbmc9ITApO3ZhciBlLGYsZz1uZXcgZChhKSxoPWcuX3RpbWVsaW5lO2ZvcihudWxsPT1iJiYoYj0hMCksaC5fcmVtb3ZlKGcsITApLGcuX3N0YXJ0VGltZT0wLGcuX3Jhd1ByZXZUaW1lPWcuX3RpbWU9Zy5fdG90YWxUaW1lPWguX3RpbWUsZT1oLl9maXJzdDtlOylmPWUuX25leHQsYiYmZSBpbnN0YW5jZW9mIGMmJmUudGFyZ2V0PT09ZS52YXJzLm9uQ29tcGxldGV8fGcuYWRkKGUsZS5fc3RhcnRUaW1lLWUuX2RlbGF5KSxlPWY7cmV0dXJuIGguYWRkKGcsMCksZ30scS5hZGQ9ZnVuY3Rpb24oZSxmLGcsaCl7dmFyIGosayxsLG0sbixvO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBmJiYoZj10aGlzLl9wYXJzZVRpbWVPckxhYmVsKGYsMCwhMCxlKSksIShlIGluc3RhbmNlb2YgYSkpe2lmKGUgaW5zdGFuY2VvZiBBcnJheXx8ZSYmZS5wdXNoJiZpKGUpKXtmb3IoZz1nfHxcIm5vcm1hbFwiLGg9aHx8MCxqPWYsaz1lLmxlbmd0aCxsPTA7az5sO2wrKylpKG09ZVtsXSkmJihtPW5ldyBkKHt0d2VlbnM6bX0pKSx0aGlzLmFkZChtLGopLFwic3RyaW5nXCIhPXR5cGVvZiBtJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBtJiYoXCJzZXF1ZW5jZVwiPT09Zz9qPW0uX3N0YXJ0VGltZSttLnRvdGFsRHVyYXRpb24oKS9tLl90aW1lU2NhbGU6XCJzdGFydFwiPT09ZyYmKG0uX3N0YXJ0VGltZS09bS5kZWxheSgpKSksais9aDtyZXR1cm4gdGhpcy5fdW5jYWNoZSghMCl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIHRoaXMuYWRkTGFiZWwoZSxmKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93XCJDYW5ub3QgYWRkIFwiK2UrXCIgaW50byB0aGUgdGltZWxpbmU7IGl0IGlzIG5vdCBhIHR3ZWVuLCB0aW1lbGluZSwgZnVuY3Rpb24sIG9yIHN0cmluZy5cIjtlPWMuZGVsYXllZENhbGwoMCxlKX1pZihiLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLGUsZiksKHRoaXMuX2djfHx0aGlzLl90aW1lPT09dGhpcy5fZHVyYXRpb24pJiYhdGhpcy5fcGF1c2VkJiZ0aGlzLl9kdXJhdGlvbjx0aGlzLmR1cmF0aW9uKCkpZm9yKG49dGhpcyxvPW4ucmF3VGltZSgpPmUuX3N0YXJ0VGltZTtuLl90aW1lbGluZTspbyYmbi5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmc/bi50b3RhbFRpbWUobi5fdG90YWxUaW1lLCEwKTpuLl9nYyYmbi5fZW5hYmxlZCghMCwhMSksbj1uLl90aW1lbGluZTtyZXR1cm4gdGhpc30scS5yZW1vdmU9ZnVuY3Rpb24oYil7aWYoYiBpbnN0YW5jZW9mIGEpe3RoaXMuX3JlbW92ZShiLCExKTt2YXIgYz1iLl90aW1lbGluZT1iLnZhcnMudXNlRnJhbWVzP2EuX3Jvb3RGcmFtZXNUaW1lbGluZTphLl9yb290VGltZWxpbmU7cmV0dXJuIGIuX3N0YXJ0VGltZT0oYi5fcGF1c2VkP2IuX3BhdXNlVGltZTpjLl90aW1lKS0oYi5fcmV2ZXJzZWQ/Yi50b3RhbER1cmF0aW9uKCktYi5fdG90YWxUaW1lOmIuX3RvdGFsVGltZSkvYi5fdGltZVNjYWxlLHRoaXN9aWYoYiBpbnN0YW5jZW9mIEFycmF5fHxiJiZiLnB1c2gmJmkoYikpe2Zvcih2YXIgZD1iLmxlbmd0aDstLWQ+LTE7KXRoaXMucmVtb3ZlKGJbZF0pO3JldHVybiB0aGlzfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiP3RoaXMucmVtb3ZlTGFiZWwoYik6dGhpcy5raWxsKG51bGwsYil9LHEuX3JlbW92ZT1mdW5jdGlvbihhLGMpe2IucHJvdG90eXBlLl9yZW1vdmUuY2FsbCh0aGlzLGEsYyk7dmFyIGQ9dGhpcy5fbGFzdDtyZXR1cm4gZD90aGlzLl90aW1lPnRoaXMuZHVyYXRpb24oKSYmKHRoaXMuX3RpbWU9dGhpcy5fZHVyYXRpb24sdGhpcy5fdG90YWxUaW1lPXRoaXMuX3RvdGFsRHVyYXRpb24pOnRoaXMuX3RpbWU9dGhpcy5fdG90YWxUaW1lPXRoaXMuX2R1cmF0aW9uPXRoaXMuX3RvdGFsRHVyYXRpb249MCx0aGlzfSxxLmFwcGVuZD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFkZChhLHRoaXMuX3BhcnNlVGltZU9yTGFiZWwobnVsbCxiLCEwLGEpKX0scS5pbnNlcnQ9cS5pbnNlcnRNdWx0aXBsZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5hZGQoYSxifHwwLGMsZCl9LHEuYXBwZW5kTXVsdGlwbGU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuYWRkKGEsdGhpcy5fcGFyc2VUaW1lT3JMYWJlbChudWxsLGIsITAsYSksYyxkKX0scS5hZGRMYWJlbD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9sYWJlbHNbYV09dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChiKSx0aGlzfSxxLmFkZFBhdXNlPWZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmPWMuZGVsYXllZENhbGwoMCxvLGQsZXx8dGhpcyk7cmV0dXJuIGYudmFycy5vbkNvbXBsZXRlPWYudmFycy5vblJldmVyc2VDb21wbGV0ZT1iLGYuZGF0YT1cImlzUGF1c2VcIix0aGlzLl9oYXNQYXVzZT0hMCx0aGlzLmFkZChmLGEpfSxxLnJlbW92ZUxhYmVsPWZ1bmN0aW9uKGEpe3JldHVybiBkZWxldGUgdGhpcy5fbGFiZWxzW2FdLHRoaXN9LHEuZ2V0TGFiZWxUaW1lPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLl9sYWJlbHNbYV0/dGhpcy5fbGFiZWxzW2FdOi0xfSxxLl9wYXJzZVRpbWVPckxhYmVsPWZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmO2lmKGUgaW5zdGFuY2VvZiBhJiZlLnRpbWVsaW5lPT09dGhpcyl0aGlzLnJlbW92ZShlKTtlbHNlIGlmKGUmJihlIGluc3RhbmNlb2YgQXJyYXl8fGUucHVzaCYmaShlKSkpZm9yKGY9ZS5sZW5ndGg7LS1mPi0xOyllW2ZdaW5zdGFuY2VvZiBhJiZlW2ZdLnRpbWVsaW5lPT09dGhpcyYmdGhpcy5yZW1vdmUoZVtmXSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGMpcmV0dXJuIHRoaXMuX3BhcnNlVGltZU9yTGFiZWwoYyxkJiZcIm51bWJlclwiPT10eXBlb2YgYiYmbnVsbD09dGhpcy5fbGFiZWxzW2NdP2ItdGhpcy5kdXJhdGlvbigpOjAsZCk7aWYoYz1jfHwwLFwic3RyaW5nXCIhPXR5cGVvZiBifHwhaXNOYU4oYikmJm51bGw9PXRoaXMuX2xhYmVsc1tiXSludWxsPT1iJiYoYj10aGlzLmR1cmF0aW9uKCkpO2Vsc2V7aWYoZj1iLmluZGV4T2YoXCI9XCIpLC0xPT09ZilyZXR1cm4gbnVsbD09dGhpcy5fbGFiZWxzW2JdP2Q/dGhpcy5fbGFiZWxzW2JdPXRoaXMuZHVyYXRpb24oKStjOmM6dGhpcy5fbGFiZWxzW2JdK2M7Yz1wYXJzZUludChiLmNoYXJBdChmLTEpK1wiMVwiLDEwKSpOdW1iZXIoYi5zdWJzdHIoZisxKSksYj1mPjE/dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChiLnN1YnN0cigwLGYtMSksMCxkKTp0aGlzLmR1cmF0aW9uKCl9cmV0dXJuIE51bWJlcihiKStjfSxxLnNlZWs9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50b3RhbFRpbWUoXCJudW1iZXJcIj09dHlwZW9mIGE/YTp0aGlzLl9wYXJzZVRpbWVPckxhYmVsKGEpLGIhPT0hMSl9LHEuc3RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdXNlZCghMCl9LHEuZ290b0FuZFBsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wbGF5KGEsYil9LHEuZ290b0FuZFN0b3A9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wYXVzZShhLGIpfSxxLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7dGhpcy5fZ2MmJnRoaXMuX2VuYWJsZWQoITAsITEpO3ZhciBkLGYsZyxoLGksbCxtLG49dGhpcy5fZGlydHk/dGhpcy50b3RhbER1cmF0aW9uKCk6dGhpcy5fdG90YWxEdXJhdGlvbixvPXRoaXMuX3RpbWUscD10aGlzLl9zdGFydFRpbWUscT10aGlzLl90aW1lU2NhbGUscj10aGlzLl9wYXVzZWQ7aWYoYT49bi0xZS03JiZhPj0wKXRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPW4sdGhpcy5fcmV2ZXJzZWR8fHRoaXMuX2hhc1BhdXNlZENoaWxkKCl8fChmPSEwLGg9XCJvbkNvbXBsZXRlXCIsaT0hIXRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiwwPT09dGhpcy5fZHVyYXRpb24mJigwPj1hJiZhPj0tMWUtN3x8dGhpcy5fcmF3UHJldlRpbWU8MHx8dGhpcy5fcmF3UHJldlRpbWU9PT1lKSYmdGhpcy5fcmF3UHJldlRpbWUhPT1hJiZ0aGlzLl9maXJzdCYmKGk9ITAsdGhpcy5fcmF3UHJldlRpbWU+ZSYmKGg9XCJvblJldmVyc2VDb21wbGV0ZVwiKSkpLHRoaXMuX3Jhd1ByZXZUaW1lPXRoaXMuX2R1cmF0aW9ufHwhYnx8YXx8dGhpcy5fcmF3UHJldlRpbWU9PT1hP2E6ZSxhPW4rMWUtNDtlbHNlIGlmKDFlLTc+YSlpZih0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT0wLCgwIT09b3x8MD09PXRoaXMuX2R1cmF0aW9uJiZ0aGlzLl9yYXdQcmV2VGltZSE9PWUmJih0aGlzLl9yYXdQcmV2VGltZT4wfHwwPmEmJnRoaXMuX3Jhd1ByZXZUaW1lPj0wKSkmJihoPVwib25SZXZlcnNlQ29tcGxldGVcIixmPXRoaXMuX3JldmVyc2VkKSwwPmEpdGhpcy5fYWN0aXZlPSExLHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiYmdGhpcy5fcmV2ZXJzZWQ/KGk9Zj0hMCxoPVwib25SZXZlcnNlQ29tcGxldGVcIik6dGhpcy5fcmF3UHJldlRpbWU+PTAmJnRoaXMuX2ZpcnN0JiYoaT0hMCksdGhpcy5fcmF3UHJldlRpbWU9YTtlbHNle2lmKHRoaXMuX3Jhd1ByZXZUaW1lPXRoaXMuX2R1cmF0aW9ufHwhYnx8YXx8dGhpcy5fcmF3UHJldlRpbWU9PT1hP2E6ZSwwPT09YSYmZilmb3IoZD10aGlzLl9maXJzdDtkJiYwPT09ZC5fc3RhcnRUaW1lOylkLl9kdXJhdGlvbnx8KGY9ITEpLGQ9ZC5fbmV4dDthPTAsdGhpcy5faW5pdHRlZHx8KGk9ITApfWVsc2V7aWYodGhpcy5faGFzUGF1c2UmJiF0aGlzLl9mb3JjaW5nUGxheWhlYWQmJiFiKXtpZihhPj1vKWZvcihkPXRoaXMuX2ZpcnN0O2QmJmQuX3N0YXJ0VGltZTw9YSYmIWw7KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIiE9PWQuZGF0YXx8ZC5yYXRpb3x8MD09PWQuX3N0YXJ0VGltZSYmMD09PXRoaXMuX3Jhd1ByZXZUaW1lfHwobD1kKSxkPWQuX25leHQ7ZWxzZSBmb3IoZD10aGlzLl9sYXN0O2QmJmQuX3N0YXJ0VGltZT49YSYmIWw7KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIj09PWQuZGF0YSYmZC5fcmF3UHJldlRpbWU+MCYmKGw9ZCksZD1kLl9wcmV2O2wmJih0aGlzLl90aW1lPWE9bC5fc3RhcnRUaW1lLHRoaXMuX3RvdGFsVGltZT1hK3RoaXMuX2N5Y2xlKih0aGlzLl90b3RhbER1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSl9dGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9YX1pZih0aGlzLl90aW1lIT09byYmdGhpcy5fZmlyc3R8fGN8fGl8fGwpe2lmKHRoaXMuX2luaXR0ZWR8fCh0aGlzLl9pbml0dGVkPSEwKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9wYXVzZWQmJnRoaXMuX3RpbWUhPT1vJiZhPjAmJih0aGlzLl9hY3RpdmU9ITApLDA9PT1vJiZ0aGlzLnZhcnMub25TdGFydCYmKDA9PT10aGlzLl90aW1lJiZ0aGlzLl9kdXJhdGlvbnx8Ynx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSxtPXRoaXMuX3RpbWUsbT49bylmb3IoZD10aGlzLl9maXJzdDtkJiYoZz1kLl9uZXh0LG09PT10aGlzLl90aW1lJiYoIXRoaXMuX3BhdXNlZHx8cikpOykoZC5fYWN0aXZlfHxkLl9zdGFydFRpbWU8PW0mJiFkLl9wYXVzZWQmJiFkLl9nYykmJihsPT09ZCYmdGhpcy5wYXVzZSgpLGQuX3JldmVyc2VkP2QucmVuZGVyKChkLl9kaXJ0eT9kLnRvdGFsRHVyYXRpb24oKTpkLl90b3RhbER1cmF0aW9uKS0oYS1kLl9zdGFydFRpbWUpKmQuX3RpbWVTY2FsZSxiLGMpOmQucmVuZGVyKChhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYykpLGQ9ZztlbHNlIGZvcihkPXRoaXMuX2xhc3Q7ZCYmKGc9ZC5fcHJldixtPT09dGhpcy5fdGltZSYmKCF0aGlzLl9wYXVzZWR8fHIpKTspe2lmKGQuX2FjdGl2ZXx8ZC5fc3RhcnRUaW1lPD1vJiYhZC5fcGF1c2VkJiYhZC5fZ2Mpe2lmKGw9PT1kKXtmb3IobD1kLl9wcmV2O2wmJmwuZW5kVGltZSgpPnRoaXMuX3RpbWU7KWwucmVuZGVyKGwuX3JldmVyc2VkP2wudG90YWxEdXJhdGlvbigpLShhLWwuX3N0YXJ0VGltZSkqbC5fdGltZVNjYWxlOihhLWwuX3N0YXJ0VGltZSkqbC5fdGltZVNjYWxlLGIsYyksbD1sLl9wcmV2O2w9bnVsbCx0aGlzLnBhdXNlKCl9ZC5fcmV2ZXJzZWQ/ZC5yZW5kZXIoKGQuX2RpcnR5P2QudG90YWxEdXJhdGlvbigpOmQuX3RvdGFsRHVyYXRpb24pLShhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYyk6ZC5yZW5kZXIoKGEtZC5fc3RhcnRUaW1lKSpkLl90aW1lU2NhbGUsYixjKX1kPWd9dGhpcy5fb25VcGRhdGUmJihifHwoai5sZW5ndGgmJmsoKSx0aGlzLl9jYWxsYmFjayhcIm9uVXBkYXRlXCIpKSksaCYmKHRoaXMuX2djfHwocD09PXRoaXMuX3N0YXJ0VGltZXx8cSE9PXRoaXMuX3RpbWVTY2FsZSkmJigwPT09dGhpcy5fdGltZXx8bj49dGhpcy50b3RhbER1cmF0aW9uKCkpJiYoZiYmKGoubGVuZ3RoJiZrKCksdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuJiZ0aGlzLl9lbmFibGVkKCExLCExKSx0aGlzLl9hY3RpdmU9ITEpLCFiJiZ0aGlzLnZhcnNbaF0mJnRoaXMuX2NhbGxiYWNrKGgpKSl9fSxxLl9oYXNQYXVzZWRDaGlsZD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl9maXJzdDthOyl7aWYoYS5fcGF1c2VkfHxhIGluc3RhbmNlb2YgZCYmYS5faGFzUGF1c2VkQ2hpbGQoKSlyZXR1cm4hMDthPWEuX25leHR9cmV0dXJuITF9LHEuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oYSxiLGQsZSl7ZT1lfHwtOTk5OTk5OTk5OTtmb3IodmFyIGY9W10sZz10aGlzLl9maXJzdCxoPTA7ZzspZy5fc3RhcnRUaW1lPGV8fChnIGluc3RhbmNlb2YgYz9iIT09ITEmJihmW2grK109Zyk6KGQhPT0hMSYmKGZbaCsrXT1nKSxhIT09ITEmJihmPWYuY29uY2F0KGcuZ2V0Q2hpbGRyZW4oITAsYixkKSksaD1mLmxlbmd0aCkpKSxnPWcuX25leHQ7cmV0dXJuIGZ9LHEuZ2V0VHdlZW5zT2Y9ZnVuY3Rpb24oYSxiKXt2YXIgZCxlLGY9dGhpcy5fZ2MsZz1bXSxoPTA7Zm9yKGYmJnRoaXMuX2VuYWJsZWQoITAsITApLGQ9Yy5nZXRUd2VlbnNPZihhKSxlPWQubGVuZ3RoOy0tZT4tMTspKGRbZV0udGltZWxpbmU9PT10aGlzfHxiJiZ0aGlzLl9jb250YWlucyhkW2VdKSkmJihnW2grK109ZFtlXSk7cmV0dXJuIGYmJnRoaXMuX2VuYWJsZWQoITEsITApLGd9LHEucmVjZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY2VudH0scS5fY29udGFpbnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEudGltZWxpbmU7Yjspe2lmKGI9PT10aGlzKXJldHVybiEwO2I9Yi50aW1lbGluZX1yZXR1cm4hMX0scS5zaGlmdENoaWxkcmVuPWZ1bmN0aW9uKGEsYixjKXtjPWN8fDA7Zm9yKHZhciBkLGU9dGhpcy5fZmlyc3QsZj10aGlzLl9sYWJlbHM7ZTspZS5fc3RhcnRUaW1lPj1jJiYoZS5fc3RhcnRUaW1lKz1hKSxlPWUuX25leHQ7aWYoYilmb3IoZCBpbiBmKWZbZF0+PWMmJihmW2RdKz1hKTtyZXR1cm4gdGhpcy5fdW5jYWNoZSghMCl9LHEuX2tpbGw9ZnVuY3Rpb24oYSxiKXtpZighYSYmIWIpcmV0dXJuIHRoaXMuX2VuYWJsZWQoITEsITEpO2Zvcih2YXIgYz1iP3RoaXMuZ2V0VHdlZW5zT2YoYik6dGhpcy5nZXRDaGlsZHJlbighMCwhMCwhMSksZD1jLmxlbmd0aCxlPSExOy0tZD4tMTspY1tkXS5fa2lsbChhLGIpJiYoZT0hMCk7cmV0dXJuIGV9LHEuY2xlYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDaGlsZHJlbighMSwhMCwhMCksYz1iLmxlbmd0aDtmb3IodGhpcy5fdGltZT10aGlzLl90b3RhbFRpbWU9MDstLWM+LTE7KWJbY10uX2VuYWJsZWQoITEsITEpO3JldHVybiBhIT09ITEmJih0aGlzLl9sYWJlbHM9e30pLHRoaXMuX3VuY2FjaGUoITApfSxxLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5fZmlyc3Q7YjspYi5pbnZhbGlkYXRlKCksYj1iLl9uZXh0O3JldHVybiBhLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LHEuX2VuYWJsZWQ9ZnVuY3Rpb24oYSxjKXtpZihhPT09dGhpcy5fZ2MpZm9yKHZhciBkPXRoaXMuX2ZpcnN0O2Q7KWQuX2VuYWJsZWQoYSwhMCksZD1kLl9uZXh0O3JldHVybiBiLnByb3RvdHlwZS5fZW5hYmxlZC5jYWxsKHRoaXMsYSxjKX0scS50b3RhbFRpbWU9ZnVuY3Rpb24oYixjLGQpe3RoaXMuX2ZvcmNpbmdQbGF5aGVhZD0hMDt2YXIgZT1hLnByb3RvdHlwZS50b3RhbFRpbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9mb3JjaW5nUGxheWhlYWQ9ITEsZX0scS5kdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oMCE9PXRoaXMuZHVyYXRpb24oKSYmMCE9PWEmJnRoaXMudGltZVNjYWxlKHRoaXMuX2R1cmF0aW9uL2EpLHRoaXMpOih0aGlzLl9kaXJ0eSYmdGhpcy50b3RhbER1cmF0aW9uKCksdGhpcy5fZHVyYXRpb24pfSxxLnRvdGFsRHVyYXRpb249ZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2lmKHRoaXMuX2RpcnR5KXtmb3IodmFyIGIsYyxkPTAsZT10aGlzLl9sYXN0LGY9OTk5OTk5OTk5OTk5O2U7KWI9ZS5fcHJldixlLl9kaXJ0eSYmZS50b3RhbER1cmF0aW9uKCksZS5fc3RhcnRUaW1lPmYmJnRoaXMuX3NvcnRDaGlsZHJlbiYmIWUuX3BhdXNlZD90aGlzLmFkZChlLGUuX3N0YXJ0VGltZS1lLl9kZWxheSk6Zj1lLl9zdGFydFRpbWUsZS5fc3RhcnRUaW1lPDAmJiFlLl9wYXVzZWQmJihkLT1lLl9zdGFydFRpbWUsdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJih0aGlzLl9zdGFydFRpbWUrPWUuX3N0YXJ0VGltZS90aGlzLl90aW1lU2NhbGUpLHRoaXMuc2hpZnRDaGlsZHJlbigtZS5fc3RhcnRUaW1lLCExLC05OTk5OTk5OTk5KSxmPTApLGM9ZS5fc3RhcnRUaW1lK2UuX3RvdGFsRHVyYXRpb24vZS5fdGltZVNjYWxlLGM+ZCYmKGQ9YyksZT1iO3RoaXMuX2R1cmF0aW9uPXRoaXMuX3RvdGFsRHVyYXRpb249ZCx0aGlzLl9kaXJ0eT0hMX1yZXR1cm4gdGhpcy5fdG90YWxEdXJhdGlvbn1yZXR1cm4gYSYmdGhpcy50b3RhbER1cmF0aW9uKCk/dGhpcy50aW1lU2NhbGUodGhpcy5fdG90YWxEdXJhdGlvbi9hKTp0aGlzfSxxLnBhdXNlZD1mdW5jdGlvbihiKXtpZighYilmb3IodmFyIGM9dGhpcy5fZmlyc3QsZD10aGlzLl90aW1lO2M7KWMuX3N0YXJ0VGltZT09PWQmJlwiaXNQYXVzZVwiPT09Yy5kYXRhJiYoYy5fcmF3UHJldlRpbWU9MCksYz1jLl9uZXh0O3JldHVybiBhLnByb3RvdHlwZS5wYXVzZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxxLnVzZXNGcmFtZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5fdGltZWxpbmU7Yi5fdGltZWxpbmU7KWI9Yi5fdGltZWxpbmU7cmV0dXJuIGI9PT1hLl9yb290RnJhbWVzVGltZWxpbmV9LHEucmF3VGltZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmKHRoaXMuX3BhdXNlZHx8dGhpcy5fcmVwZWF0JiZ0aGlzLnRpbWUoKT4wJiZ0aGlzLnRvdGFsUHJvZ3Jlc3MoKTwxKT90aGlzLl90b3RhbFRpbWUlKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KTp0aGlzLl9wYXVzZWQ/dGhpcy5fdG90YWxUaW1lOih0aGlzLl90aW1lbGluZS5yYXdUaW1lKGEpLXRoaXMuX3N0YXJ0VGltZSkqdGhpcy5fdGltZVNjYWxlfSxkfSwhMCksX2dzU2NvcGUuX2dzRGVmaW5lKFwiVGltZWxpbmVNYXhcIixbXCJUaW1lbGluZUxpdGVcIixcIlR3ZWVuTGl0ZVwiLFwiZWFzaW5nLkVhc2VcIl0sZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGIpe2EuY2FsbCh0aGlzLGIpLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl9jeWNsZT0wLHRoaXMuX3lveW89dGhpcy52YXJzLnlveW89PT0hMCx0aGlzLl9kaXJ0eT0hMH0sZT0xZS0xMCxmPWIuX2ludGVybmFscyxnPWYubGF6eVR3ZWVucyxoPWYubGF6eVJlbmRlcixpPV9nc1Njb3BlLl9nc0RlZmluZS5nbG9iYWxzLGo9bmV3IGMobnVsbCxudWxsLDEsMCksaz1kLnByb3RvdHlwZT1uZXcgYTtyZXR1cm4gay5jb25zdHJ1Y3Rvcj1kLGsua2lsbCgpLl9nYz0hMSxkLnZlcnNpb249XCIxLjE5LjFcIixrLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feW95bz10aGlzLnZhcnMueW95bz09PSEwLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl91bmNhY2hlKCEwKSxhLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LGsuYWRkQ2FsbGJhY2s9ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIHRoaXMuYWRkKGIuZGVsYXllZENhbGwoMCxhLGQsZSksYyl9LGsucmVtb3ZlQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtpZihhKWlmKG51bGw9PWIpdGhpcy5fa2lsbChudWxsLGEpO2Vsc2UgZm9yKHZhciBjPXRoaXMuZ2V0VHdlZW5zT2YoYSwhMSksZD1jLmxlbmd0aCxlPXRoaXMuX3BhcnNlVGltZU9yTGFiZWwoYik7LS1kPi0xOyljW2RdLl9zdGFydFRpbWU9PT1lJiZjW2RdLl9lbmFibGVkKCExLCExKTtyZXR1cm4gdGhpc30say5yZW1vdmVQYXVzZT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVDYWxsYmFjayhhLl9pbnRlcm5hbHMucGF1c2VDYWxsYmFjayxiKX0say50d2VlblRvPWZ1bmN0aW9uKGEsYyl7Yz1jfHx7fTt2YXIgZCxlLGYsZz17ZWFzZTpqLHVzZUZyYW1lczp0aGlzLnVzZXNGcmFtZXMoKSxpbW1lZGlhdGVSZW5kZXI6ITF9LGg9Yy5yZXBlYXQmJmkuVHdlZW5NYXh8fGI7Zm9yKGUgaW4gYylnW2VdPWNbZV07cmV0dXJuIGcudGltZT10aGlzLl9wYXJzZVRpbWVPckxhYmVsKGEpLGQ9TWF0aC5hYnMoTnVtYmVyKGcudGltZSktdGhpcy5fdGltZSkvdGhpcy5fdGltZVNjYWxlfHwuMDAxLGY9bmV3IGgodGhpcyxkLGcpLGcub25TdGFydD1mdW5jdGlvbigpe2YudGFyZ2V0LnBhdXNlZCghMCksZi52YXJzLnRpbWUhPT1mLnRhcmdldC50aW1lKCkmJmQ9PT1mLmR1cmF0aW9uKCkmJmYuZHVyYXRpb24oTWF0aC5hYnMoZi52YXJzLnRpbWUtZi50YXJnZXQudGltZSgpKS9mLnRhcmdldC5fdGltZVNjYWxlKSxjLm9uU3RhcnQmJmMub25TdGFydC5hcHBseShjLm9uU3RhcnRTY29wZXx8Yy5jYWxsYmFja1Njb3BlfHxmLGMub25TdGFydFBhcmFtc3x8W10pfSxmfSxrLnR3ZWVuRnJvbVRvPWZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9LGE9dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChhKSxjLnN0YXJ0QXQ9e29uQ29tcGxldGU6dGhpcy5zZWVrLG9uQ29tcGxldGVQYXJhbXM6W2FdLGNhbGxiYWNrU2NvcGU6dGhpc30sYy5pbW1lZGlhdGVSZW5kZXI9Yy5pbW1lZGlhdGVSZW5kZXIhPT0hMTt2YXIgZD10aGlzLnR3ZWVuVG8oYixjKTtyZXR1cm4gZC5kdXJhdGlvbihNYXRoLmFicyhkLnZhcnMudGltZS1hKS90aGlzLl90aW1lU2NhbGV8fC4wMDEpfSxrLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7dGhpcy5fZ2MmJnRoaXMuX2VuYWJsZWQoITAsITEpO3ZhciBkLGYsaSxqLGssbCxtLG4sbz10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90b3RhbER1cmF0aW9uLHA9dGhpcy5fZHVyYXRpb24scT10aGlzLl90aW1lLHI9dGhpcy5fdG90YWxUaW1lLHM9dGhpcy5fc3RhcnRUaW1lLHQ9dGhpcy5fdGltZVNjYWxlLHU9dGhpcy5fcmF3UHJldlRpbWUsdj10aGlzLl9wYXVzZWQsdz10aGlzLl9jeWNsZTtpZihhPj1vLTFlLTcmJmE+PTApdGhpcy5fbG9ja2VkfHwodGhpcy5fdG90YWxUaW1lPW8sdGhpcy5fY3ljbGU9dGhpcy5fcmVwZWF0KSx0aGlzLl9yZXZlcnNlZHx8dGhpcy5faGFzUGF1c2VkQ2hpbGQoKXx8KGY9ITAsaj1cIm9uQ29tcGxldGVcIixrPSEhdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuLDA9PT10aGlzLl9kdXJhdGlvbiYmKDA+PWEmJmE+PS0xZS03fHwwPnV8fHU9PT1lKSYmdSE9PWEmJnRoaXMuX2ZpcnN0JiYoaz0hMCx1PmUmJihqPVwib25SZXZlcnNlQ29tcGxldGVcIikpKSx0aGlzLl9yYXdQcmV2VGltZT10aGlzLl9kdXJhdGlvbnx8IWJ8fGF8fHRoaXMuX3Jhd1ByZXZUaW1lPT09YT9hOmUsdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT90aGlzLl90aW1lPWE9MDoodGhpcy5fdGltZT1wLGE9cCsxZS00KTtlbHNlIGlmKDFlLTc+YSlpZih0aGlzLl9sb2NrZWR8fCh0aGlzLl90b3RhbFRpbWU9dGhpcy5fY3ljbGU9MCksdGhpcy5fdGltZT0wLCgwIT09cXx8MD09PXAmJnUhPT1lJiYodT4wfHwwPmEmJnU+PTApJiYhdGhpcy5fbG9ja2VkKSYmKGo9XCJvblJldmVyc2VDb21wbGV0ZVwiLGY9dGhpcy5fcmV2ZXJzZWQpLDA+YSl0aGlzLl9hY3RpdmU9ITEsdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuJiZ0aGlzLl9yZXZlcnNlZD8oaz1mPSEwLGo9XCJvblJldmVyc2VDb21wbGV0ZVwiKTp1Pj0wJiZ0aGlzLl9maXJzdCYmKGs9ITApLHRoaXMuX3Jhd1ByZXZUaW1lPWE7ZWxzZXtpZih0aGlzLl9yYXdQcmV2VGltZT1wfHwhYnx8YXx8dGhpcy5fcmF3UHJldlRpbWU9PT1hP2E6ZSwwPT09YSYmZilmb3IoZD10aGlzLl9maXJzdDtkJiYwPT09ZC5fc3RhcnRUaW1lOylkLl9kdXJhdGlvbnx8KGY9ITEpLGQ9ZC5fbmV4dDthPTAsdGhpcy5faW5pdHRlZHx8KGs9ITApfWVsc2UgaWYoMD09PXAmJjA+dSYmKGs9ITApLHRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9YSx0aGlzLl9sb2NrZWR8fCh0aGlzLl90b3RhbFRpbWU9YSwwIT09dGhpcy5fcmVwZWF0JiYobD1wK3RoaXMuX3JlcGVhdERlbGF5LHRoaXMuX2N5Y2xlPXRoaXMuX3RvdGFsVGltZS9sPj4wLDAhPT10aGlzLl9jeWNsZSYmdGhpcy5fY3ljbGU9PT10aGlzLl90b3RhbFRpbWUvbCYmYT49ciYmdGhpcy5fY3ljbGUtLSx0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZS10aGlzLl9jeWNsZSpsLHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkmJih0aGlzLl90aW1lPXAtdGhpcy5fdGltZSksdGhpcy5fdGltZT5wPyh0aGlzLl90aW1lPXAsYT1wKzFlLTQpOnRoaXMuX3RpbWU8MD90aGlzLl90aW1lPWE9MDphPXRoaXMuX3RpbWUpKSx0aGlzLl9oYXNQYXVzZSYmIXRoaXMuX2ZvcmNpbmdQbGF5aGVhZCYmIWImJnA+YSl7aWYoYT10aGlzLl90aW1lLGE+PXF8fHRoaXMuX3JlcGVhdCYmdyE9PXRoaXMuX2N5Y2xlKWZvcihkPXRoaXMuX2ZpcnN0O2QmJmQuX3N0YXJ0VGltZTw9YSYmIW07KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIiE9PWQuZGF0YXx8ZC5yYXRpb3x8MD09PWQuX3N0YXJ0VGltZSYmMD09PXRoaXMuX3Jhd1ByZXZUaW1lfHwobT1kKSxkPWQuX25leHQ7ZWxzZSBmb3IoZD10aGlzLl9sYXN0O2QmJmQuX3N0YXJ0VGltZT49YSYmIW07KWQuX2R1cmF0aW9ufHxcImlzUGF1c2VcIj09PWQuZGF0YSYmZC5fcmF3UHJldlRpbWU+MCYmKG09ZCksZD1kLl9wcmV2O20mJih0aGlzLl90aW1lPWE9bS5fc3RhcnRUaW1lLHRoaXMuX3RvdGFsVGltZT1hK3RoaXMuX2N5Y2xlKih0aGlzLl90b3RhbER1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSl9aWYodGhpcy5fY3ljbGUhPT13JiYhdGhpcy5fbG9ja2VkKXt2YXIgeD10aGlzLl95b3lvJiYwIT09KDEmdykseT14PT09KHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkpLHo9dGhpcy5fdG90YWxUaW1lLEE9dGhpcy5fY3ljbGUsQj10aGlzLl9yYXdQcmV2VGltZSxDPXRoaXMuX3RpbWU7aWYodGhpcy5fdG90YWxUaW1lPXcqcCx0aGlzLl9jeWNsZTx3P3g9IXg6dGhpcy5fdG90YWxUaW1lKz1wLHRoaXMuX3RpbWU9cSx0aGlzLl9yYXdQcmV2VGltZT0wPT09cD91LTFlLTQ6dSx0aGlzLl9jeWNsZT13LHRoaXMuX2xvY2tlZD0hMCxxPXg/MDpwLHRoaXMucmVuZGVyKHEsYiwwPT09cCksYnx8dGhpcy5fZ2N8fHRoaXMudmFycy5vblJlcGVhdCYmKHRoaXMuX2N5Y2xlPUEsdGhpcy5fbG9ja2VkPSExLHRoaXMuX2NhbGxiYWNrKFwib25SZXBlYXRcIikpLHEhPT10aGlzLl90aW1lKXJldHVybjtpZih5JiYodGhpcy5fY3ljbGU9dyx0aGlzLl9sb2NrZWQ9ITAscT14P3ArMWUtNDotMWUtNCx0aGlzLnJlbmRlcihxLCEwLCExKSksdGhpcy5fbG9ja2VkPSExLHRoaXMuX3BhdXNlZCYmIXYpcmV0dXJuO3RoaXMuX3RpbWU9Qyx0aGlzLl90b3RhbFRpbWU9eix0aGlzLl9jeWNsZT1BLHRoaXMuX3Jhd1ByZXZUaW1lPUJ9aWYoISh0aGlzLl90aW1lIT09cSYmdGhpcy5fZmlyc3R8fGN8fGt8fG0pKXJldHVybiB2b2lkKHIhPT10aGlzLl90b3RhbFRpbWUmJnRoaXMuX29uVXBkYXRlJiYoYnx8dGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSkpO2lmKHRoaXMuX2luaXR0ZWR8fCh0aGlzLl9pbml0dGVkPSEwKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9wYXVzZWQmJnRoaXMuX3RvdGFsVGltZSE9PXImJmE+MCYmKHRoaXMuX2FjdGl2ZT0hMCksMD09PXImJnRoaXMudmFycy5vblN0YXJ0JiYoMD09PXRoaXMuX3RvdGFsVGltZSYmdGhpcy5fdG90YWxEdXJhdGlvbnx8Ynx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSxuPXRoaXMuX3RpbWUsbj49cSlmb3IoZD10aGlzLl9maXJzdDtkJiYoaT1kLl9uZXh0LG49PT10aGlzLl90aW1lJiYoIXRoaXMuX3BhdXNlZHx8dikpOykoZC5fYWN0aXZlfHxkLl9zdGFydFRpbWU8PXRoaXMuX3RpbWUmJiFkLl9wYXVzZWQmJiFkLl9nYykmJihtPT09ZCYmdGhpcy5wYXVzZSgpLGQuX3JldmVyc2VkP2QucmVuZGVyKChkLl9kaXJ0eT9kLnRvdGFsRHVyYXRpb24oKTpkLl90b3RhbER1cmF0aW9uKS0oYS1kLl9zdGFydFRpbWUpKmQuX3RpbWVTY2FsZSxiLGMpOmQucmVuZGVyKChhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYykpLGQ9aTtlbHNlIGZvcihkPXRoaXMuX2xhc3Q7ZCYmKGk9ZC5fcHJldixuPT09dGhpcy5fdGltZSYmKCF0aGlzLl9wYXVzZWR8fHYpKTspe2lmKGQuX2FjdGl2ZXx8ZC5fc3RhcnRUaW1lPD1xJiYhZC5fcGF1c2VkJiYhZC5fZ2Mpe2lmKG09PT1kKXtmb3IobT1kLl9wcmV2O20mJm0uZW5kVGltZSgpPnRoaXMuX3RpbWU7KW0ucmVuZGVyKG0uX3JldmVyc2VkP20udG90YWxEdXJhdGlvbigpLShhLW0uX3N0YXJ0VGltZSkqbS5fdGltZVNjYWxlOihhLW0uX3N0YXJ0VGltZSkqbS5fdGltZVNjYWxlLGIsYyksbT1tLl9wcmV2O209bnVsbCx0aGlzLnBhdXNlKCl9ZC5fcmV2ZXJzZWQ/ZC5yZW5kZXIoKGQuX2RpcnR5P2QudG90YWxEdXJhdGlvbigpOmQuX3RvdGFsRHVyYXRpb24pLShhLWQuX3N0YXJ0VGltZSkqZC5fdGltZVNjYWxlLGIsYyk6ZC5yZW5kZXIoKGEtZC5fc3RhcnRUaW1lKSpkLl90aW1lU2NhbGUsYixjKX1kPWl9dGhpcy5fb25VcGRhdGUmJihifHwoZy5sZW5ndGgmJmgoKSx0aGlzLl9jYWxsYmFjayhcIm9uVXBkYXRlXCIpKSksaiYmKHRoaXMuX2xvY2tlZHx8dGhpcy5fZ2N8fChzPT09dGhpcy5fc3RhcnRUaW1lfHx0IT09dGhpcy5fdGltZVNjYWxlKSYmKDA9PT10aGlzLl90aW1lfHxvPj10aGlzLnRvdGFsRHVyYXRpb24oKSkmJihmJiYoZy5sZW5ndGgmJmgoKSx0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWImJnRoaXMudmFyc1tqXSYmdGhpcy5fY2FsbGJhY2soaikpKX0say5nZXRBY3RpdmU9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWEmJihhPSEwKSxudWxsPT1iJiYoYj0hMCksbnVsbD09YyYmKGM9ITEpO3ZhciBkLGUsZj1bXSxnPXRoaXMuZ2V0Q2hpbGRyZW4oYSxiLGMpLGg9MCxpPWcubGVuZ3RoO2ZvcihkPTA7aT5kO2QrKyllPWdbZF0sZS5pc0FjdGl2ZSgpJiYoZltoKytdPWUpO3JldHVybiBmfSxrLmdldExhYmVsQWZ0ZXI9ZnVuY3Rpb24oYSl7YXx8MCE9PWEmJihhPXRoaXMuX3RpbWUpO3ZhciBiLGM9dGhpcy5nZXRMYWJlbHNBcnJheSgpLGQ9Yy5sZW5ndGg7Zm9yKGI9MDtkPmI7YisrKWlmKGNbYl0udGltZT5hKXJldHVybiBjW2JdLm5hbWU7cmV0dXJuIG51bGx9LGsuZ2V0TGFiZWxCZWZvcmU9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9dGhpcy5fdGltZSk7Zm9yKHZhciBiPXRoaXMuZ2V0TGFiZWxzQXJyYXkoKSxjPWIubGVuZ3RoOy0tYz4tMTspaWYoYltjXS50aW1lPGEpcmV0dXJuIGJbY10ubmFtZTtyZXR1cm4gbnVsbH0say5nZXRMYWJlbHNBcnJheT1mdW5jdGlvbigpe3ZhciBhLGI9W10sYz0wO2ZvcihhIGluIHRoaXMuX2xhYmVscyliW2MrK109e3RpbWU6dGhpcy5fbGFiZWxzW2FdLG5hbWU6YX07cmV0dXJuIGIuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRpbWUtYi50aW1lfSksYn0say5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2tlZD0hMSxhLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LGsucHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLmR1cmF0aW9uKCkqKHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSk/MS1hOmEpK3RoaXMuX2N5Y2xlKih0aGlzLl9kdXJhdGlvbit0aGlzLl9yZXBlYXREZWxheSksYik6dGhpcy5fdGltZS90aGlzLmR1cmF0aW9uKCl9LGsudG90YWxQcm9ncmVzcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMudG90YWxUaW1lKHRoaXMudG90YWxEdXJhdGlvbigpKmEsYik6dGhpcy5fdG90YWxUaW1lL3RoaXMudG90YWxEdXJhdGlvbigpfSxrLnRvdGFsRHVyYXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/LTEhPT10aGlzLl9yZXBlYXQmJmI/dGhpcy50aW1lU2NhbGUodGhpcy50b3RhbER1cmF0aW9uKCkvYik6dGhpczoodGhpcy5fZGlydHkmJihhLnByb3RvdHlwZS50b3RhbER1cmF0aW9uLmNhbGwodGhpcyksdGhpcy5fdG90YWxEdXJhdGlvbj0tMT09PXRoaXMuX3JlcGVhdD85OTk5OTk5OTk5OTk6dGhpcy5fZHVyYXRpb24qKHRoaXMuX3JlcGVhdCsxKSt0aGlzLl9yZXBlYXREZWxheSp0aGlzLl9yZXBlYXQpLHRoaXMuX3RvdGFsRHVyYXRpb24pfSxrLnRpbWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZGlydHkmJnRoaXMudG90YWxEdXJhdGlvbigpLGE+dGhpcy5fZHVyYXRpb24mJihhPXRoaXMuX2R1cmF0aW9uKSx0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpP2E9dGhpcy5fZHVyYXRpb24tYSt0aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpOjAhPT10aGlzLl9yZXBlYXQmJihhKz10aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpKSx0aGlzLnRvdGFsVGltZShhLGIpKTp0aGlzLl90aW1lfSxrLnJlcGVhdD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0PWEsdGhpcy5fdW5jYWNoZSghMCkpOnRoaXMuX3JlcGVhdH0say5yZXBlYXREZWxheT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0RGVsYXk9YSx0aGlzLl91bmNhY2hlKCEwKSk6dGhpcy5fcmVwZWF0RGVsYXl9LGsueW95bz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5feW95bz1hLHRoaXMpOnRoaXMuX3lveW99LGsuY3VycmVudExhYmVsPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuc2VlayhhLCEwKTp0aGlzLmdldExhYmVsQmVmb3JlKHRoaXMuX3RpbWUrMWUtOCl9LGR9LCEwKSxmdW5jdGlvbigpe3ZhciBhPTE4MC9NYXRoLlBJLGI9W10sYz1bXSxkPVtdLGU9e30sZj1fZ3NTY29wZS5fZ3NEZWZpbmUuZ2xvYmFscyxnPWZ1bmN0aW9uKGEsYixjLGQpe2M9PT1kJiYoYz1kLShkLWIpLzFlNiksYT09PWImJihiPWErKGMtYSkvMWU2KSx0aGlzLmE9YSx0aGlzLmI9Yix0aGlzLmM9Yyx0aGlzLmQ9ZCx0aGlzLmRhPWQtYSx0aGlzLmNhPWMtYSx0aGlzLmJhPWItYX0saD1cIix4LHkseixsZWZ0LHRvcCxyaWdodCxib3R0b20sbWFyZ2luVG9wLG1hcmdpbkxlZnQsbWFyZ2luUmlnaHQsbWFyZ2luQm90dG9tLHBhZGRpbmdMZWZ0LHBhZGRpbmdUb3AscGFkZGluZ1JpZ2h0LHBhZGRpbmdCb3R0b20sYmFja2dyb3VuZFBvc2l0aW9uLGJhY2tncm91bmRQb3NpdGlvbl95LFwiLGk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e2E6YX0sZj17fSxnPXt9LGg9e2M6ZH0saT0oYStiKS8yLGo9KGIrYykvMixrPShjK2QpLzIsbD0oaStqKS8yLG09KGoraykvMixuPShtLWwpLzg7cmV0dXJuIGUuYj1pKyhhLWkpLzQsZi5iPWwrbixlLmM9Zi5hPShlLmIrZi5iKS8yLGYuYz1nLmE9KGwrbSkvMixnLmI9bS1uLGguYj1rKyhkLWspLzQsZy5jPWguYT0oZy5iK2guYikvMixbZSxmLGcsaF19LGo9ZnVuY3Rpb24oYSxlLGYsZyxoKXt2YXIgaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3PWEubGVuZ3RoLTEseD0wLHk9YVswXS5hO2ZvcihqPTA7dz5qO2orKyluPWFbeF0saz1uLmEsbD1uLmQsbT1hW3grMV0uZCxoPyh0PWJbal0sdT1jW2pdLHY9KHUrdCkqZSouMjUvKGc/LjU6ZFtqXXx8LjUpLG89bC0obC1rKSooZz8uNSplOjAhPT10P3YvdDowKSxwPWwrKG0tbCkqKGc/LjUqZTowIT09dT92L3U6MCkscT1sLShvKygocC1vKSooMyp0Lyh0K3UpKy41KS80fHwwKSkpOihvPWwtKGwtaykqZSouNSxwPWwrKG0tbCkqZSouNSxxPWwtKG8rcCkvMiksbys9cSxwKz1xLG4uYz1yPW8sMCE9PWo/bi5iPXk6bi5iPXk9bi5hKy42KihuLmMtbi5hKSxuLmRhPWwtayxuLmNhPXItayxuLmJhPXktayxmPyhzPWkoayx5LHIsbCksYS5zcGxpY2UoeCwxLHNbMF0sc1sxXSxzWzJdLHNbM10pLHgrPTQpOngrKyx5PXA7bj1hW3hdLG4uYj15LG4uYz15Ky40KihuLmQteSksbi5kYT1uLmQtbi5hLG4uY2E9bi5jLW4uYSxuLmJhPXktbi5hLGYmJihzPWkobi5hLHksbi5jLG4uZCksYS5zcGxpY2UoeCwxLHNbMF0sc1sxXSxzWzJdLHNbM10pKX0saz1mdW5jdGlvbihhLGQsZSxmKXt2YXIgaCxpLGosayxsLG0sbj1bXTtpZihmKWZvcihhPVtmXS5jb25jYXQoYSksaT1hLmxlbmd0aDstLWk+LTE7KVwic3RyaW5nXCI9PXR5cGVvZihtPWFbaV1bZF0pJiZcIj1cIj09PW0uY2hhckF0KDEpJiYoYVtpXVtkXT1mW2RdK051bWJlcihtLmNoYXJBdCgwKSttLnN1YnN0cigyKSkpO2lmKGg9YS5sZW5ndGgtMiwwPmgpcmV0dXJuIG5bMF09bmV3IGcoYVswXVtkXSwwLDAsYVstMT5oPzA6MV1bZF0pLG47Zm9yKGk9MDtoPmk7aSsrKWo9YVtpXVtkXSxrPWFbaSsxXVtkXSxuW2ldPW5ldyBnKGosMCwwLGspLGUmJihsPWFbaSsyXVtkXSxiW2ldPShiW2ldfHwwKSsoay1qKSooay1qKSxjW2ldPShjW2ldfHwwKSsobC1rKSoobC1rKSk7cmV0dXJuIG5baV09bmV3IGcoYVtpXVtkXSwwLDAsYVtpKzFdW2RdKSxufSxsPWZ1bmN0aW9uKGEsZixnLGksbCxtKXt2YXIgbixvLHAscSxyLHMsdCx1LHY9e30sdz1bXSx4PW18fGFbMF07bD1cInN0cmluZ1wiPT10eXBlb2YgbD9cIixcIitsK1wiLFwiOmgsbnVsbD09ZiYmKGY9MSk7Zm9yKG8gaW4gYVswXSl3LnB1c2gobyk7aWYoYS5sZW5ndGg+MSl7Zm9yKHU9YVthLmxlbmd0aC0xXSx0PSEwLG49dy5sZW5ndGg7LS1uPi0xOylpZihvPXdbbl0sTWF0aC5hYnMoeFtvXS11W29dKT4uMDUpe3Q9ITE7YnJlYWt9dCYmKGE9YS5jb25jYXQoKSxtJiZhLnVuc2hpZnQobSksYS5wdXNoKGFbMV0pLG09YVthLmxlbmd0aC0zXSl9Zm9yKGIubGVuZ3RoPWMubGVuZ3RoPWQubGVuZ3RoPTAsbj13Lmxlbmd0aDstLW4+LTE7KW89d1tuXSxlW29dPS0xIT09bC5pbmRleE9mKFwiLFwiK28rXCIsXCIpLHZbb109ayhhLG8sZVtvXSxtKTtmb3Iobj1iLmxlbmd0aDstLW4+LTE7KWJbbl09TWF0aC5zcXJ0KGJbbl0pLGNbbl09TWF0aC5zcXJ0KGNbbl0pO2lmKCFpKXtmb3Iobj13Lmxlbmd0aDstLW4+LTE7KWlmKGVbb10pZm9yKHA9dlt3W25dXSxzPXAubGVuZ3RoLTEscT0wO3M+cTtxKyspcj1wW3ErMV0uZGEvY1txXStwW3FdLmRhL2JbcV18fDAsZFtxXT0oZFtxXXx8MCkrcipyO2ZvcihuPWQubGVuZ3RoOy0tbj4tMTspZFtuXT1NYXRoLnNxcnQoZFtuXSl9Zm9yKG49dy5sZW5ndGgscT1nPzQ6MTstLW4+LTE7KW89d1tuXSxwPXZbb10saihwLGYsZyxpLGVbb10pLHQmJihwLnNwbGljZSgwLHEpLHAuc3BsaWNlKHAubGVuZ3RoLXEscSkpO3JldHVybiB2fSxtPWZ1bmN0aW9uKGEsYixjKXtiPWJ8fFwic29mdFwiO3ZhciBkLGUsZixoLGksaixrLGwsbSxuLG8scD17fSxxPVwiY3ViaWNcIj09PWI/MzoyLHI9XCJzb2Z0XCI9PT1iLHM9W107aWYociYmYyYmKGE9W2NdLmNvbmNhdChhKSksbnVsbD09YXx8YS5sZW5ndGg8cSsxKXRocm93XCJpbnZhbGlkIEJlemllciBkYXRhXCI7Zm9yKG0gaW4gYVswXSlzLnB1c2gobSk7Zm9yKGo9cy5sZW5ndGg7LS1qPi0xOyl7Zm9yKG09c1tqXSxwW21dPWk9W10sbj0wLGw9YS5sZW5ndGgsaz0wO2w+aztrKyspZD1udWxsPT1jP2Fba11bbV06XCJzdHJpbmdcIj09dHlwZW9mKG89YVtrXVttXSkmJlwiPVwiPT09by5jaGFyQXQoMSk/Y1ttXStOdW1iZXIoby5jaGFyQXQoMCkrby5zdWJzdHIoMikpOk51bWJlcihvKSxyJiZrPjEmJmwtMT5rJiYoaVtuKytdPShkK2lbbi0yXSkvMiksaVtuKytdPWQ7Zm9yKGw9bi1xKzEsbj0wLGs9MDtsPms7ays9cSlkPWlba10sZT1pW2srMV0sZj1pW2srMl0saD0yPT09cT8wOmlbayszXSxpW24rK109bz0zPT09cT9uZXcgZyhkLGUsZixoKTpuZXcgZyhkLCgyKmUrZCkvMywoMiplK2YpLzMsZik7aS5sZW5ndGg9bn1yZXR1cm4gcH0sbj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGUsZixnLGgsaSxqLGssbCxtLG4sbz0xL2MscD1hLmxlbmd0aDstLXA+LTE7KWZvcihtPWFbcF0sZj1tLmEsZz1tLmQtZixcbmg9bS5jLWYsaT1tLmItZixkPWU9MCxrPTE7Yz49aztrKyspaj1vKmssbD0xLWosZD1lLShlPShqKmoqZyszKmwqKGoqaCtsKmkpKSpqKSxuPXAqYytrLTEsYltuXT0oYltuXXx8MCkrZCpkfSxvPWZ1bmN0aW9uKGEsYil7Yj1iPj4wfHw2O3ZhciBjLGQsZSxmLGc9W10saD1bXSxpPTAsaj0wLGs9Yi0xLGw9W10sbT1bXTtmb3IoYyBpbiBhKW4oYVtjXSxnLGIpO2ZvcihlPWcubGVuZ3RoLGQ9MDtlPmQ7ZCsrKWkrPU1hdGguc3FydChnW2RdKSxmPWQlYixtW2ZdPWksZj09PWsmJihqKz1pLGY9ZC9iPj4wLGxbZl09bSxoW2ZdPWosaT0wLG09W10pO3JldHVybntsZW5ndGg6aixsZW5ndGhzOmgsc2VnbWVudHM6bH19LHA9X2dzU2NvcGUuX2dzRGVmaW5lLnBsdWdpbih7cHJvcE5hbWU6XCJiZXppZXJcIixwcmlvcml0eTotMSx2ZXJzaW9uOlwiMS4zLjdcIixBUEk6MixnbG9iYWw6ITAsaW5pdDpmdW5jdGlvbihhLGIsYyl7dGhpcy5fdGFyZ2V0PWEsYiBpbnN0YW5jZW9mIEFycmF5JiYoYj17dmFsdWVzOmJ9KSx0aGlzLl9mdW5jPXt9LHRoaXMuX21vZD17fSx0aGlzLl9wcm9wcz1bXSx0aGlzLl90aW1lUmVzPW51bGw9PWIudGltZVJlc29sdXRpb24/NjpwYXJzZUludChiLnRpbWVSZXNvbHV0aW9uLDEwKTt2YXIgZCxlLGYsZyxoLGk9Yi52YWx1ZXN8fFtdLGo9e30saz1pWzBdLG49Yi5hdXRvUm90YXRlfHxjLnZhcnMub3JpZW50VG9CZXppZXI7dGhpcy5fYXV0b1JvdGF0ZT1uP24gaW5zdGFuY2VvZiBBcnJheT9uOltbXCJ4XCIsXCJ5XCIsXCJyb3RhdGlvblwiLG49PT0hMD8wOk51bWJlcihuKXx8MF1dOm51bGw7Zm9yKGQgaW4gayl0aGlzLl9wcm9wcy5wdXNoKGQpO2ZvcihmPXRoaXMuX3Byb3BzLmxlbmd0aDstLWY+LTE7KWQ9dGhpcy5fcHJvcHNbZl0sdGhpcy5fb3ZlcndyaXRlUHJvcHMucHVzaChkKSxlPXRoaXMuX2Z1bmNbZF09XCJmdW5jdGlvblwiPT10eXBlb2YgYVtkXSxqW2RdPWU/YVtkLmluZGV4T2YoXCJzZXRcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFbXCJnZXRcIitkLnN1YnN0cigzKV0/ZDpcImdldFwiK2Quc3Vic3RyKDMpXSgpOnBhcnNlRmxvYXQoYVtkXSksaHx8altkXSE9PWlbMF1bZF0mJihoPWopO2lmKHRoaXMuX2JlemllcnM9XCJjdWJpY1wiIT09Yi50eXBlJiZcInF1YWRyYXRpY1wiIT09Yi50eXBlJiZcInNvZnRcIiE9PWIudHlwZT9sKGksaXNOYU4oYi5jdXJ2aW5lc3MpPzE6Yi5jdXJ2aW5lc3MsITEsXCJ0aHJ1QmFzaWNcIj09PWIudHlwZSxiLmNvcnJlbGF0ZSxoKTptKGksYi50eXBlLGopLHRoaXMuX3NlZ0NvdW50PXRoaXMuX2JlemllcnNbZF0ubGVuZ3RoLHRoaXMuX3RpbWVSZXMpe3ZhciBwPW8odGhpcy5fYmV6aWVycyx0aGlzLl90aW1lUmVzKTt0aGlzLl9sZW5ndGg9cC5sZW5ndGgsdGhpcy5fbGVuZ3Rocz1wLmxlbmd0aHMsdGhpcy5fc2VnbWVudHM9cC5zZWdtZW50cyx0aGlzLl9sMT10aGlzLl9saT10aGlzLl9zMT10aGlzLl9zaT0wLHRoaXMuX2wyPXRoaXMuX2xlbmd0aHNbMF0sdGhpcy5fY3VyU2VnPXRoaXMuX3NlZ21lbnRzWzBdLHRoaXMuX3MyPXRoaXMuX2N1clNlZ1swXSx0aGlzLl9wcmVjPTEvdGhpcy5fY3VyU2VnLmxlbmd0aH1pZihuPXRoaXMuX2F1dG9Sb3RhdGUpZm9yKHRoaXMuX2luaXRpYWxSb3RhdGlvbnM9W10sblswXWluc3RhbmNlb2YgQXJyYXl8fCh0aGlzLl9hdXRvUm90YXRlPW49W25dKSxmPW4ubGVuZ3RoOy0tZj4tMTspe2ZvcihnPTA7Mz5nO2crKylkPW5bZl1bZ10sdGhpcy5fZnVuY1tkXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2RdP2FbZC5pbmRleE9mKFwic2V0XCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhW1wiZ2V0XCIrZC5zdWJzdHIoMyldP2Q6XCJnZXRcIitkLnN1YnN0cigzKV06ITE7ZD1uW2ZdWzJdLHRoaXMuX2luaXRpYWxSb3RhdGlvbnNbZl09KHRoaXMuX2Z1bmNbZF0/dGhpcy5fZnVuY1tkXS5jYWxsKHRoaXMuX3RhcmdldCk6dGhpcy5fdGFyZ2V0W2RdKXx8MCx0aGlzLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGQpfXJldHVybiB0aGlzLl9zdGFydFJhdGlvPWMudmFycy5ydW5CYWNrd2FyZHM/MTowLCEwfSxzZXQ6ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGksaixrLGwsbT10aGlzLl9zZWdDb3VudCxuPXRoaXMuX2Z1bmMsbz10aGlzLl90YXJnZXQscD1iIT09dGhpcy5fc3RhcnRSYXRpbztpZih0aGlzLl90aW1lUmVzKXtpZihrPXRoaXMuX2xlbmd0aHMsbD10aGlzLl9jdXJTZWcsYio9dGhpcy5fbGVuZ3RoLGU9dGhpcy5fbGksYj50aGlzLl9sMiYmbS0xPmUpe2ZvcihqPW0tMTtqPmUmJih0aGlzLl9sMj1rWysrZV0pPD1iOyk7dGhpcy5fbDE9a1tlLTFdLHRoaXMuX2xpPWUsdGhpcy5fY3VyU2VnPWw9dGhpcy5fc2VnbWVudHNbZV0sdGhpcy5fczI9bFt0aGlzLl9zMT10aGlzLl9zaT0wXX1lbHNlIGlmKGI8dGhpcy5fbDEmJmU+MCl7Zm9yKDtlPjAmJih0aGlzLl9sMT1rWy0tZV0pPj1iOyk7MD09PWUmJmI8dGhpcy5fbDE/dGhpcy5fbDE9MDplKyssdGhpcy5fbDI9a1tlXSx0aGlzLl9saT1lLHRoaXMuX2N1clNlZz1sPXRoaXMuX3NlZ21lbnRzW2VdLHRoaXMuX3MxPWxbKHRoaXMuX3NpPWwubGVuZ3RoLTEpLTFdfHwwLHRoaXMuX3MyPWxbdGhpcy5fc2ldfWlmKGM9ZSxiLT10aGlzLl9sMSxlPXRoaXMuX3NpLGI+dGhpcy5fczImJmU8bC5sZW5ndGgtMSl7Zm9yKGo9bC5sZW5ndGgtMTtqPmUmJih0aGlzLl9zMj1sWysrZV0pPD1iOyk7dGhpcy5fczE9bFtlLTFdLHRoaXMuX3NpPWV9ZWxzZSBpZihiPHRoaXMuX3MxJiZlPjApe2Zvcig7ZT4wJiYodGhpcy5fczE9bFstLWVdKT49YjspOzA9PT1lJiZiPHRoaXMuX3MxP3RoaXMuX3MxPTA6ZSsrLHRoaXMuX3MyPWxbZV0sdGhpcy5fc2k9ZX1oPShlKyhiLXRoaXMuX3MxKS8odGhpcy5fczItdGhpcy5fczEpKSp0aGlzLl9wcmVjfHwwfWVsc2UgYz0wPmI/MDpiPj0xP20tMTptKmI+PjAsaD0oYi1jKigxL20pKSptO2ZvcihkPTEtaCxlPXRoaXMuX3Byb3BzLmxlbmd0aDstLWU+LTE7KWY9dGhpcy5fcHJvcHNbZV0sZz10aGlzLl9iZXppZXJzW2ZdW2NdLGk9KGgqaCpnLmRhKzMqZCooaCpnLmNhK2QqZy5iYSkpKmgrZy5hLHRoaXMuX21vZFtmXSYmKGk9dGhpcy5fbW9kW2ZdKGksbykpLG5bZl0/b1tmXShpKTpvW2ZdPWk7aWYodGhpcy5fYXV0b1JvdGF0ZSl7dmFyIHEscixzLHQsdSx2LHcseD10aGlzLl9hdXRvUm90YXRlO2ZvcihlPXgubGVuZ3RoOy0tZT4tMTspZj14W2VdWzJdLHY9eFtlXVszXXx8MCx3PXhbZV1bNF09PT0hMD8xOmEsZz10aGlzLl9iZXppZXJzW3hbZV1bMF1dLHE9dGhpcy5fYmV6aWVyc1t4W2VdWzFdXSxnJiZxJiYoZz1nW2NdLHE9cVtjXSxyPWcuYSsoZy5iLWcuYSkqaCx0PWcuYisoZy5jLWcuYikqaCxyKz0odC1yKSpoLHQrPShnLmMrKGcuZC1nLmMpKmgtdCkqaCxzPXEuYSsocS5iLXEuYSkqaCx1PXEuYisocS5jLXEuYikqaCxzKz0odS1zKSpoLHUrPShxLmMrKHEuZC1xLmMpKmgtdSkqaCxpPXA/TWF0aC5hdGFuMih1LXMsdC1yKSp3K3Y6dGhpcy5faW5pdGlhbFJvdGF0aW9uc1tlXSx0aGlzLl9tb2RbZl0mJihpPXRoaXMuX21vZFtmXShpLG8pKSxuW2ZdP29bZl0oaSk6b1tmXT1pKX19fSkscT1wLnByb3RvdHlwZTtwLmJlemllclRocm91Z2g9bCxwLmN1YmljVG9RdWFkcmF0aWM9aSxwLl9hdXRvQ1NTPSEwLHAucXVhZHJhdGljVG9DdWJpYz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBnKGEsKDIqYithKS8zLCgyKmIrYykvMyxjKX0scC5fY3NzUmVnaXN0ZXI9ZnVuY3Rpb24oKXt2YXIgYT1mLkNTU1BsdWdpbjtpZihhKXt2YXIgYj1hLl9pbnRlcm5hbHMsYz1iLl9wYXJzZVRvUHJveHksZD1iLl9zZXRQbHVnaW5SYXRpbyxlPWIuQ1NTUHJvcFR3ZWVuO2IuX3JlZ2lzdGVyQ29tcGxleFNwZWNpYWxQcm9wKFwiYmV6aWVyXCIse3BhcnNlcjpmdW5jdGlvbihhLGIsZixnLGgsaSl7YiBpbnN0YW5jZW9mIEFycmF5JiYoYj17dmFsdWVzOmJ9KSxpPW5ldyBwO3ZhciBqLGssbCxtPWIudmFsdWVzLG49bS5sZW5ndGgtMSxvPVtdLHE9e307aWYoMD5uKXJldHVybiBoO2ZvcihqPTA7bj49ajtqKyspbD1jKGEsbVtqXSxnLGgsaSxuIT09aiksb1tqXT1sLmVuZDtmb3IoayBpbiBiKXFba109YltrXTtyZXR1cm4gcS52YWx1ZXM9byxoPW5ldyBlKGEsXCJiZXppZXJcIiwwLDAsbC5wdCwyKSxoLmRhdGE9bCxoLnBsdWdpbj1pLGguc2V0UmF0aW89ZCwwPT09cS5hdXRvUm90YXRlJiYocS5hdXRvUm90YXRlPSEwKSwhcS5hdXRvUm90YXRlfHxxLmF1dG9Sb3RhdGUgaW5zdGFuY2VvZiBBcnJheXx8KGo9cS5hdXRvUm90YXRlPT09ITA/MDpOdW1iZXIocS5hdXRvUm90YXRlKSxxLmF1dG9Sb3RhdGU9bnVsbCE9bC5lbmQubGVmdD9bW1wibGVmdFwiLFwidG9wXCIsXCJyb3RhdGlvblwiLGosITFdXTpudWxsIT1sLmVuZC54P1tbXCJ4XCIsXCJ5XCIsXCJyb3RhdGlvblwiLGosITFdXTohMSkscS5hdXRvUm90YXRlJiYoZy5fdHJhbnNmb3JtfHxnLl9lbmFibGVUcmFuc2Zvcm1zKCExKSxsLmF1dG9Sb3RhdGU9Zy5fdGFyZ2V0Ll9nc1RyYW5zZm9ybSxsLnByb3h5LnJvdGF0aW9uPWwuYXV0b1JvdGF0ZS5yb3RhdGlvbnx8MCxnLl9vdmVyd3JpdGVQcm9wcy5wdXNoKFwicm90YXRpb25cIikpLGkuX29uSW5pdFR3ZWVuKGwucHJveHkscSxnLl90d2VlbiksaH19KX19LHEuX21vZD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLl9vdmVyd3JpdGVQcm9wcyxkPWMubGVuZ3RoOy0tZD4tMTspYj1hW2NbZF1dLGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGImJih0aGlzLl9tb2RbY1tkXV09Yil9LHEuX2tpbGw9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuX3Byb3BzO2ZvcihiIGluIHRoaXMuX2JlemllcnMpaWYoYiBpbiBhKWZvcihkZWxldGUgdGhpcy5fYmV6aWVyc1tiXSxkZWxldGUgdGhpcy5fZnVuY1tiXSxjPWQubGVuZ3RoOy0tYz4tMTspZFtjXT09PWImJmQuc3BsaWNlKGMsMSk7aWYoZD10aGlzLl9hdXRvUm90YXRlKWZvcihjPWQubGVuZ3RoOy0tYz4tMTspYVtkW2NdWzJdXSYmZC5zcGxpY2UoYywxKTtyZXR1cm4gdGhpcy5fc3VwZXIuX2tpbGwuY2FsbCh0aGlzLGEpfX0oKSxfZ3NTY29wZS5fZ3NEZWZpbmUoXCJwbHVnaW5zLkNTU1BsdWdpblwiLFtcInBsdWdpbnMuVHdlZW5QbHVnaW5cIixcIlR3ZWVuTGl0ZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9ZnVuY3Rpb24oKXthLmNhbGwodGhpcyxcImNzc1wiKSx0aGlzLl9vdmVyd3JpdGVQcm9wcy5sZW5ndGg9MCx0aGlzLnNldFJhdGlvPWcucHJvdG90eXBlLnNldFJhdGlvfSxoPV9nc1Njb3BlLl9nc0RlZmluZS5nbG9iYWxzLGk9e30saj1nLnByb3RvdHlwZT1uZXcgYShcImNzc1wiKTtqLmNvbnN0cnVjdG9yPWcsZy52ZXJzaW9uPVwiMS4xOS4xXCIsZy5BUEk9MixnLmRlZmF1bHRUcmFuc2Zvcm1QZXJzcGVjdGl2ZT0wLGcuZGVmYXVsdFNrZXdUeXBlPVwiY29tcGVuc2F0ZWRcIixnLmRlZmF1bHRTbW9vdGhPcmlnaW49ITAsaj1cInB4XCIsZy5zdWZmaXhNYXA9e3RvcDpqLHJpZ2h0OmosYm90dG9tOmosbGVmdDpqLHdpZHRoOmosaGVpZ2h0OmosZm9udFNpemU6aixwYWRkaW5nOmosbWFyZ2luOmoscGVyc3BlY3RpdmU6aixsaW5lSGVpZ2h0OlwiXCJ9O3ZhciBrLGwsbSxuLG8scCxxLHIscz0vKD86XFwtfFxcLnxcXGIpKFxcZHxcXC58ZVxcLSkrL2csdD0vKD86XFxkfFxcLVxcZHxcXC5cXGR8XFwtXFwuXFxkfFxcKz1cXGR8XFwtPVxcZHxcXCs9LlxcZHxcXC09XFwuXFxkKSsvZyx1PS8oPzpcXCs9fFxcLT18XFwtfFxcYilbXFxkXFwtXFwuXStbYS16QS1aMC05XSooPzolfFxcYikvZ2ksdj0vKD8hWystXT9cXGQqXFwuP1xcZCt8WystXXxlWystXVxcZCspW14wLTldL2csdz0vKD86XFxkfFxcLXxcXCt8PXwjfFxcLikqL2cseD0vb3BhY2l0eSAqPSAqKFteKV0qKS9pLHk9L29wYWNpdHk6KFteO10qKS9pLHo9L2FscGhhXFwob3BhY2l0eSAqPS4rP1xcKS9pLEE9L14ocmdifGhzbCkvLEI9LyhbQS1aXSkvZyxDPS8tKFthLXpdKS9naSxEPS8oXig/OnVybFxcKFxcXCJ8dXJsXFwoKSl8KD86KFxcXCJcXCkpJHxcXCkkKS9naSxFPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0sRj0vKD86TGVmdHxSaWdodHxXaWR0aCkvaSxHPS8oTTExfE0xMnxNMjF8TTIyKT1bXFxkXFwtXFwuZV0rL2dpLEg9L3Byb2dpZFxcOkRYSW1hZ2VUcmFuc2Zvcm1cXC5NaWNyb3NvZnRcXC5NYXRyaXhcXCguKz9cXCkvaSxJPS8sKD89W15cXCldKig/OlxcKHwkKSkvZ2ksSj0vW1xccyxcXChdL2ksSz1NYXRoLlBJLzE4MCxMPTE4MC9NYXRoLlBJLE09e30sTj17c3R5bGU6e319LE89X2dzU2NvcGUuZG9jdW1lbnR8fHtjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIE59fSxQPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE8uY3JlYXRlRWxlbWVudE5TP08uY3JlYXRlRWxlbWVudE5TKGJ8fFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLGEpOk8uY3JlYXRlRWxlbWVudChhKX0sUT1QKFwiZGl2XCIpLFI9UChcImltZ1wiKSxTPWcuX2ludGVybmFscz17X3NwZWNpYWxQcm9wczppfSxUPShfZ3NTY29wZS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnR8fFwiXCIsVT1mdW5jdGlvbigpe3ZhciBhPVQuaW5kZXhPZihcIkFuZHJvaWRcIiksYj1QKFwiYVwiKTtyZXR1cm4gbT0tMSE9PVQuaW5kZXhPZihcIlNhZmFyaVwiKSYmLTE9PT1ULmluZGV4T2YoXCJDaHJvbWVcIikmJigtMT09PWF8fHBhcnNlRmxvYXQoVC5zdWJzdHIoYSs4LDIpKT4zKSxvPW0mJnBhcnNlRmxvYXQoVC5zdWJzdHIoVC5pbmRleE9mKFwiVmVyc2lvbi9cIikrOCwyKSk8NixuPS0xIT09VC5pbmRleE9mKFwiRmlyZWZveFwiKSwoL01TSUUgKFswLTldezEsfVtcXC4wLTldezAsfSkvLmV4ZWMoVCl8fC9UcmlkZW50XFwvLipydjooWzAtOV17MSx9W1xcLjAtOV17MCx9KS8uZXhlYyhUKSkmJihwPXBhcnNlRmxvYXQoUmVnRXhwLiQxKSksYj8oYi5zdHlsZS5jc3NUZXh0PVwidG9wOjFweDtvcGFjaXR5Oi41NTtcIiwvXjAuNTUvLnRlc3QoYi5zdHlsZS5vcGFjaXR5KSk6ITF9KCksVj1mdW5jdGlvbihhKXtyZXR1cm4geC50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBhP2E6KGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fFwiXCIpP3BhcnNlRmxvYXQoUmVnRXhwLiQxKS8xMDA6MX0sVz1mdW5jdGlvbihhKXtfZ3NTY29wZS5jb25zb2xlJiZjb25zb2xlLmxvZyhhKX0sWD1cIlwiLFk9XCJcIixaPWZ1bmN0aW9uKGEsYil7Yj1ifHxRO3ZhciBjLGQsZT1iLnN0eWxlO2lmKHZvaWQgMCE9PWVbYV0pcmV0dXJuIGE7Zm9yKGE9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxjPVtcIk9cIixcIk1velwiLFwibXNcIixcIk1zXCIsXCJXZWJraXRcIl0sZD01Oy0tZD4tMSYmdm9pZCAwPT09ZVtjW2RdK2FdOyk7cmV0dXJuIGQ+PTA/KFk9Mz09PWQ/XCJtc1wiOmNbZF0sWD1cIi1cIitZLnRvTG93ZXJDYXNlKCkrXCItXCIsWSthKTpudWxsfSwkPU8uZGVmYXVsdFZpZXc/Ty5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlOmZ1bmN0aW9uKCl7fSxfPWcuZ2V0U3R5bGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZjtyZXR1cm4gVXx8XCJvcGFjaXR5XCIhPT1iPyghZCYmYS5zdHlsZVtiXT9mPWEuc3R5bGVbYl06KGM9Y3x8JChhKSk/Zj1jW2JdfHxjLmdldFByb3BlcnR5VmFsdWUoYil8fGMuZ2V0UHJvcGVydHlWYWx1ZShiLnJlcGxhY2UoQixcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKTphLmN1cnJlbnRTdHlsZSYmKGY9YS5jdXJyZW50U3R5bGVbYl0pLG51bGw9PWV8fGYmJlwibm9uZVwiIT09ZiYmXCJhdXRvXCIhPT1mJiZcImF1dG8gYXV0b1wiIT09Zj9mOmUpOlYoYSl9LGFhPVMuY29udmVydFRvUGl4ZWxzPWZ1bmN0aW9uKGEsYyxkLGUsZil7aWYoXCJweFwiPT09ZXx8IWUpcmV0dXJuIGQ7aWYoXCJhdXRvXCI9PT1lfHwhZClyZXR1cm4gMDt2YXIgaCxpLGosaz1GLnRlc3QoYyksbD1hLG09US5zdHlsZSxuPTA+ZCxvPTE9PT1kO2lmKG4mJihkPS1kKSxvJiYoZCo9MTAwKSxcIiVcIj09PWUmJi0xIT09Yy5pbmRleE9mKFwiYm9yZGVyXCIpKWg9ZC8xMDAqKGs/YS5jbGllbnRXaWR0aDphLmNsaWVudEhlaWdodCk7ZWxzZXtpZihtLmNzc1RleHQ9XCJib3JkZXI6MCBzb2xpZCByZWQ7cG9zaXRpb246XCIrXyhhLFwicG9zaXRpb25cIikrXCI7bGluZS1oZWlnaHQ6MDtcIixcIiVcIiE9PWUmJmwuYXBwZW5kQ2hpbGQmJlwidlwiIT09ZS5jaGFyQXQoMCkmJlwicmVtXCIhPT1lKW1baz9cImJvcmRlckxlZnRXaWR0aFwiOlwiYm9yZGVyVG9wV2lkdGhcIl09ZCtlO2Vsc2V7aWYobD1hLnBhcmVudE5vZGV8fE8uYm9keSxpPWwuX2dzQ2FjaGUsaj1iLnRpY2tlci5mcmFtZSxpJiZrJiZpLnRpbWU9PT1qKXJldHVybiBpLndpZHRoKmQvMTAwO21baz9cIndpZHRoXCI6XCJoZWlnaHRcIl09ZCtlfWwuYXBwZW5kQ2hpbGQoUSksaD1wYXJzZUZsb2F0KFFbaz9cIm9mZnNldFdpZHRoXCI6XCJvZmZzZXRIZWlnaHRcIl0pLGwucmVtb3ZlQ2hpbGQoUSksayYmXCIlXCI9PT1lJiZnLmNhY2hlV2lkdGhzIT09ITEmJihpPWwuX2dzQ2FjaGU9bC5fZ3NDYWNoZXx8e30saS50aW1lPWosaS53aWR0aD1oL2QqMTAwKSwwIT09aHx8Znx8KGg9YWEoYSxjLGQsZSwhMCkpfXJldHVybiBvJiYoaC89MTAwKSxuPy1oOmh9LGJhPVMuY2FsY3VsYXRlT2Zmc2V0PWZ1bmN0aW9uKGEsYixjKXtpZihcImFic29sdXRlXCIhPT1fKGEsXCJwb3NpdGlvblwiLGMpKXJldHVybiAwO3ZhciBkPVwibGVmdFwiPT09Yj9cIkxlZnRcIjpcIlRvcFwiLGU9XyhhLFwibWFyZ2luXCIrZCxjKTtyZXR1cm4gYVtcIm9mZnNldFwiK2RdLShhYShhLGIscGFyc2VGbG9hdChlKSxlLnJlcGxhY2UodyxcIlwiKSl8fDApfSxjYT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXt9O2lmKGI9Ynx8JChhLG51bGwpKWlmKGM9Yi5sZW5ndGgpZm9yKDstLWM+LTE7KWU9YltjXSwoLTE9PT1lLmluZGV4T2YoXCItdHJhbnNmb3JtXCIpfHxEYT09PWUpJiYoZltlLnJlcGxhY2UoQyxFKV09Yi5nZXRQcm9wZXJ0eVZhbHVlKGUpKTtlbHNlIGZvcihjIGluIGIpKC0xPT09Yy5pbmRleE9mKFwiVHJhbnNmb3JtXCIpfHxDYT09PWMpJiYoZltjXT1iW2NdKTtlbHNlIGlmKGI9YS5jdXJyZW50U3R5bGV8fGEuc3R5bGUpZm9yKGMgaW4gYilcInN0cmluZ1wiPT10eXBlb2YgYyYmdm9pZCAwPT09ZltjXSYmKGZbYy5yZXBsYWNlKEMsRSldPWJbY10pO3JldHVybiBVfHwoZi5vcGFjaXR5PVYoYSkpLGQ9UmEoYSxiLCExKSxmLnJvdGF0aW9uPWQucm90YXRpb24sZi5za2V3WD1kLnNrZXdYLGYuc2NhbGVYPWQuc2NhbGVYLGYuc2NhbGVZPWQuc2NhbGVZLGYueD1kLngsZi55PWQueSxGYSYmKGYuej1kLnosZi5yb3RhdGlvblg9ZC5yb3RhdGlvblgsZi5yb3RhdGlvblk9ZC5yb3RhdGlvblksZi5zY2FsZVo9ZC5zY2FsZVopLGYuZmlsdGVycyYmZGVsZXRlIGYuZmlsdGVycyxmfSxkYT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpPXt9LGo9YS5zdHlsZTtmb3IoZyBpbiBjKVwiY3NzVGV4dFwiIT09ZyYmXCJsZW5ndGhcIiE9PWcmJmlzTmFOKGcpJiYoYltnXSE9PShmPWNbZ10pfHxlJiZlW2ddKSYmLTE9PT1nLmluZGV4T2YoXCJPcmlnaW5cIikmJihcIm51bWJlclwiPT10eXBlb2YgZnx8XCJzdHJpbmdcIj09dHlwZW9mIGYpJiYoaVtnXT1cImF1dG9cIiE9PWZ8fFwibGVmdFwiIT09ZyYmXCJ0b3BcIiE9PWc/XCJcIiE9PWYmJlwiYXV0b1wiIT09ZiYmXCJub25lXCIhPT1mfHxcInN0cmluZ1wiIT10eXBlb2YgYltnXXx8XCJcIj09PWJbZ10ucmVwbGFjZSh2LFwiXCIpP2Y6MDpiYShhLGcpLHZvaWQgMCE9PWpbZ10mJihoPW5ldyBzYShqLGcsaltnXSxoKSkpO2lmKGQpZm9yKGcgaW4gZClcImNsYXNzTmFtZVwiIT09ZyYmKGlbZ109ZFtnXSk7cmV0dXJue2RpZnM6aSxmaXJzdE1QVDpofX0sZWE9e3dpZHRoOltcIkxlZnRcIixcIlJpZ2h0XCJdLGhlaWdodDpbXCJUb3BcIixcIkJvdHRvbVwiXX0sZmE9W1wibWFyZ2luTGVmdFwiLFwibWFyZ2luUmlnaHRcIixcIm1hcmdpblRvcFwiLFwibWFyZ2luQm90dG9tXCJdLGdhPWZ1bmN0aW9uKGEsYixjKXtpZihcInN2Z1wiPT09KGEubm9kZU5hbWUrXCJcIikudG9Mb3dlckNhc2UoKSlyZXR1cm4oY3x8JChhKSlbYl18fDA7aWYoYS5nZXRDVE0mJk9hKGEpKXJldHVybiBhLmdldEJCb3goKVtiXXx8MDt2YXIgZD1wYXJzZUZsb2F0KFwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCksZT1lYVtiXSxmPWUubGVuZ3RoO2ZvcihjPWN8fCQoYSxudWxsKTstLWY+LTE7KWQtPXBhcnNlRmxvYXQoXyhhLFwicGFkZGluZ1wiK2VbZl0sYywhMCkpfHwwLGQtPXBhcnNlRmxvYXQoXyhhLFwiYm9yZGVyXCIrZVtmXStcIldpZHRoXCIsYywhMCkpfHwwO3JldHVybiBkfSxoYT1mdW5jdGlvbihhLGIpe2lmKFwiY29udGFpblwiPT09YXx8XCJhdXRvXCI9PT1hfHxcImF1dG8gYXV0b1wiPT09YSlyZXR1cm4gYStcIiBcIjsobnVsbD09YXx8XCJcIj09PWEpJiYoYT1cIjAgMFwiKTt2YXIgYyxkPWEuc3BsaXQoXCIgXCIpLGU9LTEhPT1hLmluZGV4T2YoXCJsZWZ0XCIpP1wiMCVcIjotMSE9PWEuaW5kZXhPZihcInJpZ2h0XCIpP1wiMTAwJVwiOmRbMF0sZj0tMSE9PWEuaW5kZXhPZihcInRvcFwiKT9cIjAlXCI6LTEhPT1hLmluZGV4T2YoXCJib3R0b21cIik/XCIxMDAlXCI6ZFsxXTtpZihkLmxlbmd0aD4zJiYhYil7Zm9yKGQ9YS5zcGxpdChcIiwgXCIpLmpvaW4oXCIsXCIpLnNwbGl0KFwiLFwiKSxhPVtdLGM9MDtjPGQubGVuZ3RoO2MrKylhLnB1c2goaGEoZFtjXSkpO3JldHVybiBhLmpvaW4oXCIsXCIpfXJldHVybiBudWxsPT1mP2Y9XCJjZW50ZXJcIj09PWU/XCI1MCVcIjpcIjBcIjpcImNlbnRlclwiPT09ZiYmKGY9XCI1MCVcIiksKFwiY2VudGVyXCI9PT1lfHxpc05hTihwYXJzZUZsb2F0KGUpKSYmLTE9PT0oZStcIlwiKS5pbmRleE9mKFwiPVwiKSkmJihlPVwiNTAlXCIpLGE9ZStcIiBcIitmKyhkLmxlbmd0aD4yP1wiIFwiK2RbMl06XCJcIiksYiYmKGIub3hwPS0xIT09ZS5pbmRleE9mKFwiJVwiKSxiLm95cD0tMSE9PWYuaW5kZXhPZihcIiVcIiksYi5veHI9XCI9XCI9PT1lLmNoYXJBdCgxKSxiLm95cj1cIj1cIj09PWYuY2hhckF0KDEpLGIub3g9cGFyc2VGbG9hdChlLnJlcGxhY2UodixcIlwiKSksYi5veT1wYXJzZUZsb2F0KGYucmVwbGFjZSh2LFwiXCIpKSxiLnY9YSksYnx8YX0saWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoYT1hKHIscSkpLFwic3RyaW5nXCI9PXR5cGVvZiBhJiZcIj1cIj09PWEuY2hhckF0KDEpP3BhcnNlSW50KGEuY2hhckF0KDApK1wiMVwiLDEwKSpwYXJzZUZsb2F0KGEuc3Vic3RyKDIpKTpwYXJzZUZsb2F0KGEpLXBhcnNlRmxvYXQoYil8fDB9LGphPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKGE9YShyLHEpKSxudWxsPT1hP2I6XCJzdHJpbmdcIj09dHlwZW9mIGEmJlwiPVwiPT09YS5jaGFyQXQoMSk/cGFyc2VJbnQoYS5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoYS5zdWJzdHIoMikpK2I6cGFyc2VGbG9hdChhKXx8MH0sa2E9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPTFlLTY7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKGE9YShyLHEpKSxudWxsPT1hP2g9YjpcIm51bWJlclwiPT10eXBlb2YgYT9oPWE6KGU9MzYwLGY9YS5zcGxpdChcIl9cIiksaT1cIj1cIj09PWEuY2hhckF0KDEpLGc9KGk/cGFyc2VJbnQoYS5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoZlswXS5zdWJzdHIoMikpOnBhcnNlRmxvYXQoZlswXSkpKigtMT09PWEuaW5kZXhPZihcInJhZFwiKT8xOkwpLShpPzA6YiksZi5sZW5ndGgmJihkJiYoZFtjXT1iK2cpLC0xIT09YS5pbmRleE9mKFwic2hvcnRcIikmJihnJT1lLGchPT1nJShlLzIpJiYoZz0wPmc/ZytlOmctZSkpLC0xIT09YS5pbmRleE9mKFwiX2N3XCIpJiYwPmc/Zz0oZys5OTk5OTk5OTk5KmUpJWUtKGcvZXwwKSplOi0xIT09YS5pbmRleE9mKFwiY2N3XCIpJiZnPjAmJihnPShnLTk5OTk5OTk5OTkqZSklZS0oZy9lfDApKmUpKSxoPWIrZyksaj5oJiZoPi1qJiYoaD0wKSxofSxsYT17YXF1YTpbMCwyNTUsMjU1XSxsaW1lOlswLDI1NSwwXSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSxibGFjazpbMCwwLDBdLG1hcm9vbjpbMTI4LDAsMF0sdGVhbDpbMCwxMjgsMTI4XSxibHVlOlswLDAsMjU1XSxuYXZ5OlswLDAsMTI4XSx3aGl0ZTpbMjU1LDI1NSwyNTVdLGZ1Y2hzaWE6WzI1NSwwLDI1NV0sb2xpdmU6WzEyOCwxMjgsMF0seWVsbG93OlsyNTUsMjU1LDBdLG9yYW5nZTpbMjU1LDE2NSwwXSxncmF5OlsxMjgsMTI4LDEyOF0scHVycGxlOlsxMjgsMCwxMjhdLGdyZWVuOlswLDEyOCwwXSxyZWQ6WzI1NSwwLDBdLHBpbms6WzI1NSwxOTIsMjAzXSxjeWFuOlswLDI1NSwyNTVdLHRyYW5zcGFyZW50OlsyNTUsMjU1LDI1NSwwXX0sbWE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhPTA+YT9hKzE6YT4xP2EtMTphLDI1NSooMT42KmE/YisoYy1iKSphKjY6LjU+YT9jOjI+MyphP2IrKGMtYikqKDIvMy1hKSo2OmIpKy41fDB9LG5hPWcucGFyc2VDb2xvcj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG07aWYoYSlpZihcIm51bWJlclwiPT10eXBlb2YgYSljPVthPj4xNixhPj44JjI1NSwyNTUmYV07ZWxzZXtpZihcIixcIj09PWEuY2hhckF0KGEubGVuZ3RoLTEpJiYoYT1hLnN1YnN0cigwLGEubGVuZ3RoLTEpKSxsYVthXSljPWxhW2FdO2Vsc2UgaWYoXCIjXCI9PT1hLmNoYXJBdCgwKSk0PT09YS5sZW5ndGgmJihkPWEuY2hhckF0KDEpLGU9YS5jaGFyQXQoMiksZj1hLmNoYXJBdCgzKSxhPVwiI1wiK2QrZCtlK2UrZitmKSxhPXBhcnNlSW50KGEuc3Vic3RyKDEpLDE2KSxjPVthPj4xNixhPj44JjI1NSwyNTUmYV07ZWxzZSBpZihcImhzbFwiPT09YS5zdWJzdHIoMCwzKSlpZihjPW09YS5tYXRjaChzKSxiKXtpZigtMSE9PWEuaW5kZXhPZihcIj1cIikpcmV0dXJuIGEubWF0Y2godCl9ZWxzZSBnPU51bWJlcihjWzBdKSUzNjAvMzYwLGg9TnVtYmVyKGNbMV0pLzEwMCxpPU51bWJlcihjWzJdKS8xMDAsZT0uNT49aT9pKihoKzEpOmkraC1pKmgsZD0yKmktZSxjLmxlbmd0aD4zJiYoY1szXT1OdW1iZXIoYVszXSkpLGNbMF09bWEoZysxLzMsZCxlKSxjWzFdPW1hKGcsZCxlKSxjWzJdPW1hKGctMS8zLGQsZSk7ZWxzZSBjPWEubWF0Y2gocyl8fGxhLnRyYW5zcGFyZW50O2NbMF09TnVtYmVyKGNbMF0pLGNbMV09TnVtYmVyKGNbMV0pLGNbMl09TnVtYmVyKGNbMl0pLGMubGVuZ3RoPjMmJihjWzNdPU51bWJlcihjWzNdKSl9ZWxzZSBjPWxhLmJsYWNrO3JldHVybiBiJiYhbSYmKGQ9Y1swXS8yNTUsZT1jWzFdLzI1NSxmPWNbMl0vMjU1LGo9TWF0aC5tYXgoZCxlLGYpLGs9TWF0aC5taW4oZCxlLGYpLGk9KGoraykvMixqPT09az9nPWg9MDoobD1qLWssaD1pPi41P2wvKDItai1rKTpsLyhqK2spLGc9aj09PWQ/KGUtZikvbCsoZj5lPzY6MCk6aj09PWU/KGYtZCkvbCsyOihkLWUpL2wrNCxnKj02MCksY1swXT1nKy41fDAsY1sxXT0xMDAqaCsuNXwwLGNbMl09MTAwKmkrLjV8MCksY30sb2E9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1hLm1hdGNoKHBhKXx8W10sZz0wLGg9Zi5sZW5ndGg/XCJcIjphO2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspZD1mW2NdLGU9YS5zdWJzdHIoZyxhLmluZGV4T2YoZCxnKS1nKSxnKz1lLmxlbmd0aCtkLmxlbmd0aCxkPW5hKGQsYiksMz09PWQubGVuZ3RoJiZkLnB1c2goMSksaCs9ZSsoYj9cImhzbGEoXCIrZFswXStcIixcIitkWzFdK1wiJSxcIitkWzJdK1wiJSxcIitkWzNdOlwicmdiYShcIitkLmpvaW4oXCIsXCIpKStcIilcIjtyZXR1cm4gaCthLnN1YnN0cihnKX0scGE9XCIoPzpcXFxcYig/Oig/OnJnYnxyZ2JhfGhzbHxoc2xhKVxcXFwoLis/XFxcXCkpfFxcXFxCIyg/OlswLTlhLWZdezN9KXsxLDJ9XFxcXGJcIjtmb3IoaiBpbiBsYSlwYSs9XCJ8XCIraitcIlxcXFxiXCI7cGE9bmV3IFJlZ0V4cChwYStcIilcIixcImdpXCIpLGcuY29sb3JTdHJpbmdGaWx0ZXI9ZnVuY3Rpb24oYSl7dmFyIGIsYz1hWzBdK2FbMV07cGEudGVzdChjKSYmKGI9LTEhPT1jLmluZGV4T2YoXCJoc2woXCIpfHwtMSE9PWMuaW5kZXhPZihcImhzbGEoXCIpLGFbMF09b2EoYVswXSxiKSxhWzFdPW9hKGFbMV0sYikpLHBhLmxhc3RJbmRleD0wfSxiLmRlZmF1bHRTdHJpbmdGaWx0ZXJ8fChiLmRlZmF1bHRTdHJpbmdGaWx0ZXI9Zy5jb2xvclN0cmluZ0ZpbHRlcik7dmFyIHFhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGw9PWEpcmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhfTt2YXIgZSxmPWI/KGEubWF0Y2gocGEpfHxbXCJcIl0pWzBdOlwiXCIsZz1hLnNwbGl0KGYpLmpvaW4oXCJcIikubWF0Y2godSl8fFtdLGg9YS5zdWJzdHIoMCxhLmluZGV4T2YoZ1swXSkpLGk9XCIpXCI9PT1hLmNoYXJBdChhLmxlbmd0aC0xKT9cIilcIjpcIlwiLGo9LTEhPT1hLmluZGV4T2YoXCIgXCIpP1wiIFwiOlwiLFwiLGs9Zy5sZW5ndGgsbD1rPjA/Z1swXS5yZXBsYWNlKHMsXCJcIik6XCJcIjtyZXR1cm4gaz9lPWI/ZnVuY3Rpb24oYSl7dmFyIGIsbSxuLG87aWYoXCJudW1iZXJcIj09dHlwZW9mIGEpYSs9bDtlbHNlIGlmKGQmJkkudGVzdChhKSl7Zm9yKG89YS5yZXBsYWNlKEksXCJ8XCIpLnNwbGl0KFwifFwiKSxuPTA7bjxvLmxlbmd0aDtuKyspb1tuXT1lKG9bbl0pO3JldHVybiBvLmpvaW4oXCIsXCIpfWlmKGI9KGEubWF0Y2gocGEpfHxbZl0pWzBdLG09YS5zcGxpdChiKS5qb2luKFwiXCIpLm1hdGNoKHUpfHxbXSxuPW0ubGVuZ3RoLGs+bi0tKWZvcig7KytuPGs7KW1bbl09Yz9tWyhuLTEpLzJ8MF06Z1tuXTtyZXR1cm4gaCttLmpvaW4oaikraitiK2krKC0xIT09YS5pbmRleE9mKFwiaW5zZXRcIik/XCIgaW5zZXRcIjpcIlwiKX06ZnVuY3Rpb24oYSl7dmFyIGIsZixtO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhKWErPWw7ZWxzZSBpZihkJiZJLnRlc3QoYSkpe2ZvcihmPWEucmVwbGFjZShJLFwifFwiKS5zcGxpdChcInxcIiksbT0wO208Zi5sZW5ndGg7bSsrKWZbbV09ZShmW21dKTtyZXR1cm4gZi5qb2luKFwiLFwiKX1pZihiPWEubWF0Y2godSl8fFtdLG09Yi5sZW5ndGgsaz5tLS0pZm9yKDsrK208azspYlttXT1jP2JbKG0tMSkvMnwwXTpnW21dO3JldHVybiBoK2Iuam9pbihqKStpfTpmdW5jdGlvbihhKXtyZXR1cm4gYX19LHJhPWZ1bmN0aW9uKGEpe3JldHVybiBhPWEuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKGIsYyxkLGUsZixnLGgpe3ZhciBpLGo9KGMrXCJcIikuc3BsaXQoXCIgXCIpO2ZvcihoPXt9LGk9MDs0Pmk7aSsrKWhbYVtpXV09altpXT1qW2ldfHxqWyhpLTEpLzI+PjBdO3JldHVybiBlLnBhcnNlKGIsaCxmLGcpfX0sc2E9KFMuX3NldFBsdWdpblJhdGlvPWZ1bmN0aW9uKGEpe3RoaXMucGx1Z2luLnNldFJhdGlvKGEpO2Zvcih2YXIgYixjLGQsZSxmLGc9dGhpcy5kYXRhLGg9Zy5wcm94eSxpPWcuZmlyc3RNUFQsaj0xZS02O2k7KWI9aFtpLnZdLGkucj9iPU1hdGgucm91bmQoYik6aj5iJiZiPi1qJiYoYj0wKSxpLnRbaS5wXT1iLGk9aS5fbmV4dDtpZihnLmF1dG9Sb3RhdGUmJihnLmF1dG9Sb3RhdGUucm90YXRpb249Zy5tb2Q/Zy5tb2QoaC5yb3RhdGlvbix0aGlzLnQpOmgucm90YXRpb24pLDE9PT1hfHwwPT09YSlmb3IoaT1nLmZpcnN0TVBULGY9MT09PWE/XCJlXCI6XCJiXCI7aTspe2lmKGM9aS50LGMudHlwZSl7aWYoMT09PWMudHlwZSl7Zm9yKGU9Yy54czArYy5zK2MueHMxLGQ9MTtkPGMubDtkKyspZSs9Y1tcInhuXCIrZF0rY1tcInhzXCIrKGQrMSldO2NbZl09ZX19ZWxzZSBjW2ZdPWMucytjLnhzMDtpPWkuX25leHR9fSxmdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMudD1hLHRoaXMucD1iLHRoaXMudj1jLHRoaXMucj1lLGQmJihkLl9wcmV2PXRoaXMsdGhpcy5fbmV4dD1kKX0pLHRhPShTLl9wYXJzZVRvUHJveHk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGgsaSxqLGssbD1kLG09e30sbj17fSxvPWMuX3RyYW5zZm9ybSxwPU07Zm9yKGMuX3RyYW5zZm9ybT1udWxsLE09YixkPWs9Yy5wYXJzZShhLGIsZCxlKSxNPXAsZiYmKGMuX3RyYW5zZm9ybT1vLGwmJihsLl9wcmV2PW51bGwsbC5fcHJldiYmKGwuX3ByZXYuX25leHQ9bnVsbCkpKTtkJiZkIT09bDspe2lmKGQudHlwZTw9MSYmKGg9ZC5wLG5baF09ZC5zK2QuYyxtW2hdPWQucyxmfHwoaj1uZXcgc2EoZCxcInNcIixoLGosZC5yKSxkLmM9MCksMT09PWQudHlwZSkpZm9yKGc9ZC5sOy0tZz4wOylpPVwieG5cIitnLGg9ZC5wK1wiX1wiK2ksbltoXT1kLmRhdGFbaV0sbVtoXT1kW2ldLGZ8fChqPW5ldyBzYShkLGksaCxqLGQucnhwW2ldKSk7ZD1kLl9uZXh0fXJldHVybntwcm94eTptLGVuZDpuLGZpcnN0TVBUOmoscHQ6a319LFMuQ1NTUHJvcFR3ZWVuPWZ1bmN0aW9uKGEsYixkLGUsZyxoLGksaixrLGwsbSl7dGhpcy50PWEsdGhpcy5wPWIsdGhpcy5zPWQsdGhpcy5jPWUsdGhpcy5uPWl8fGIsYSBpbnN0YW5jZW9mIHRhfHxmLnB1c2godGhpcy5uKSx0aGlzLnI9aix0aGlzLnR5cGU9aHx8MCxrJiYodGhpcy5wcj1rLGM9ITApLHRoaXMuYj12b2lkIDA9PT1sP2Q6bCx0aGlzLmU9dm9pZCAwPT09bT9kK2U6bSxnJiYodGhpcy5fbmV4dD1nLGcuX3ByZXY9dGhpcyl9KSx1YT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9bmV3IHRhKGEsYixjLGQtYyxlLC0xLGYpO3JldHVybiBnLmI9YyxnLmU9Zy54czA9ZCxnfSx2YT1nLnBhcnNlQ29tcGxleD1mdW5jdGlvbihhLGIsYyxkLGUsZixoLGksaixsKXtjPWN8fGZ8fFwiXCIsXCJmdW5jdGlvblwiPT10eXBlb2YgZCYmKGQ9ZChyLHEpKSxoPW5ldyB0YShhLGIsMCwwLGgsbD8yOjEsbnVsbCwhMSxpLGMsZCksZCs9XCJcIixlJiZwYS50ZXN0KGQrYykmJihkPVtjLGRdLGcuY29sb3JTdHJpbmdGaWx0ZXIoZCksYz1kWzBdLGQ9ZFsxXSk7dmFyIG0sbixvLHAsdSx2LHcseCx5LHosQSxCLEMsRD1jLnNwbGl0KFwiLCBcIikuam9pbihcIixcIikuc3BsaXQoXCIgXCIpLEU9ZC5zcGxpdChcIiwgXCIpLmpvaW4oXCIsXCIpLnNwbGl0KFwiIFwiKSxGPUQubGVuZ3RoLEc9ayE9PSExO2ZvcigoLTEhPT1kLmluZGV4T2YoXCIsXCIpfHwtMSE9PWMuaW5kZXhPZihcIixcIikpJiYoRD1ELmpvaW4oXCIgXCIpLnJlcGxhY2UoSSxcIiwgXCIpLnNwbGl0KFwiIFwiKSxFPUUuam9pbihcIiBcIikucmVwbGFjZShJLFwiLCBcIikuc3BsaXQoXCIgXCIpLEY9RC5sZW5ndGgpLEYhPT1FLmxlbmd0aCYmKEQ9KGZ8fFwiXCIpLnNwbGl0KFwiIFwiKSxGPUQubGVuZ3RoKSxoLnBsdWdpbj1qLGguc2V0UmF0aW89bCxwYS5sYXN0SW5kZXg9MCxtPTA7Rj5tO20rKylpZihwPURbbV0sdT1FW21dLHg9cGFyc2VGbG9hdChwKSx4fHwwPT09eCloLmFwcGVuZFh0cmEoXCJcIix4LGlhKHUseCksdS5yZXBsYWNlKHQsXCJcIiksRyYmLTEhPT11LmluZGV4T2YoXCJweFwiKSwhMCk7ZWxzZSBpZihlJiZwYS50ZXN0KHApKUI9dS5pbmRleE9mKFwiKVwiKSsxLEI9XCIpXCIrKEI/dS5zdWJzdHIoQik6XCJcIiksQz0tMSE9PXUuaW5kZXhPZihcImhzbFwiKSYmVSxwPW5hKHAsQyksdT1uYSh1LEMpLHk9cC5sZW5ndGgrdS5sZW5ndGg+Nix5JiYhVSYmMD09PXVbM10/KGhbXCJ4c1wiK2gubF0rPWgubD9cIiB0cmFuc3BhcmVudFwiOlwidHJhbnNwYXJlbnRcIixoLmU9aC5lLnNwbGl0KEVbbV0pLmpvaW4oXCJ0cmFuc3BhcmVudFwiKSk6KFV8fCh5PSExKSxDP2guYXBwZW5kWHRyYSh5P1wiaHNsYShcIjpcImhzbChcIixwWzBdLGlhKHVbMF0scFswXSksXCIsXCIsITEsITApLmFwcGVuZFh0cmEoXCJcIixwWzFdLGlhKHVbMV0scFsxXSksXCIlLFwiLCExKS5hcHBlbmRYdHJhKFwiXCIscFsyXSxpYSh1WzJdLHBbMl0pLHk/XCIlLFwiOlwiJVwiK0IsITEpOmguYXBwZW5kWHRyYSh5P1wicmdiYShcIjpcInJnYihcIixwWzBdLHVbMF0tcFswXSxcIixcIiwhMCwhMCkuYXBwZW5kWHRyYShcIlwiLHBbMV0sdVsxXS1wWzFdLFwiLFwiLCEwKS5hcHBlbmRYdHJhKFwiXCIscFsyXSx1WzJdLXBbMl0seT9cIixcIjpCLCEwKSx5JiYocD1wLmxlbmd0aDw0PzE6cFszXSxoLmFwcGVuZFh0cmEoXCJcIixwLCh1Lmxlbmd0aDw0PzE6dVszXSktcCxCLCExKSkpLHBhLmxhc3RJbmRleD0wO2Vsc2UgaWYodj1wLm1hdGNoKHMpKXtpZih3PXUubWF0Y2godCksIXd8fHcubGVuZ3RoIT09di5sZW5ndGgpcmV0dXJuIGg7Zm9yKG89MCxuPTA7bjx2Lmxlbmd0aDtuKyspQT12W25dLHo9cC5pbmRleE9mKEEsbyksaC5hcHBlbmRYdHJhKHAuc3Vic3RyKG8sei1vKSxOdW1iZXIoQSksaWEod1tuXSxBKSxcIlwiLEcmJlwicHhcIj09PXAuc3Vic3RyKHorQS5sZW5ndGgsMiksMD09PW4pLG89eitBLmxlbmd0aDtoW1wieHNcIitoLmxdKz1wLnN1YnN0cihvKX1lbHNlIGhbXCJ4c1wiK2gubF0rPWgubHx8aFtcInhzXCIraC5sXT9cIiBcIit1OnU7aWYoLTEhPT1kLmluZGV4T2YoXCI9XCIpJiZoLmRhdGEpe2ZvcihCPWgueHMwK2guZGF0YS5zLG09MTttPGgubDttKyspQis9aFtcInhzXCIrbV0raC5kYXRhW1wieG5cIittXTtoLmU9QitoW1wieHNcIittXX1yZXR1cm4gaC5sfHwoaC50eXBlPS0xLGgueHMwPWguZSksaC54Zmlyc3R8fGh9LHdhPTk7Zm9yKGo9dGEucHJvdG90eXBlLGoubD1qLnByPTA7LS13YT4wOylqW1wieG5cIit3YV09MCxqW1wieHNcIit3YV09XCJcIjtqLnhzMD1cIlwiLGouX25leHQ9ai5fcHJldj1qLnhmaXJzdD1qLmRhdGE9ai5wbHVnaW49ai5zZXRSYXRpbz1qLnJ4cD1udWxsLGouYXBwZW5kWHRyYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcyxoPWcubDtyZXR1cm4gZ1tcInhzXCIraF0rPWYmJihofHxnW1wieHNcIitoXSk/XCIgXCIrYTphfHxcIlwiLGN8fDA9PT1ofHxnLnBsdWdpbj8oZy5sKyssZy50eXBlPWcuc2V0UmF0aW8/MjoxLGdbXCJ4c1wiK2cubF09ZHx8XCJcIixoPjA/KGcuZGF0YVtcInhuXCIraF09YitjLGcucnhwW1wieG5cIitoXT1lLGdbXCJ4blwiK2hdPWIsZy5wbHVnaW58fChnLnhmaXJzdD1uZXcgdGEoZyxcInhuXCIraCxiLGMsZy54Zmlyc3R8fGcsMCxnLm4sZSxnLnByKSxnLnhmaXJzdC54czA9MCksZyk6KGcuZGF0YT17czpiK2N9LGcucnhwPXt9LGcucz1iLGcuYz1jLGcucj1lLGcpKTooZ1tcInhzXCIraF0rPWIrKGR8fFwiXCIpLGcpfTt2YXIgeGE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMucD1iLnByZWZpeD9aKGEpfHxhOmEsaVthXT1pW3RoaXMucF09dGhpcyx0aGlzLmZvcm1hdD1iLmZvcm1hdHRlcnx8cWEoYi5kZWZhdWx0VmFsdWUsYi5jb2xvcixiLmNvbGxhcHNpYmxlLGIubXVsdGkpLGIucGFyc2VyJiYodGhpcy5wYXJzZT1iLnBhcnNlciksdGhpcy5jbHJzPWIuY29sb3IsdGhpcy5tdWx0aT1iLm11bHRpLHRoaXMua2V5d29yZD1iLmtleXdvcmQsdGhpcy5kZmx0PWIuZGVmYXVsdFZhbHVlLHRoaXMucHI9Yi5wcmlvcml0eXx8MH0seWE9Uy5fcmVnaXN0ZXJDb21wbGV4U3BlY2lhbFByb3A9ZnVuY3Rpb24oYSxiLGMpe1wib2JqZWN0XCIhPXR5cGVvZiBiJiYoYj17cGFyc2VyOmN9KTt2YXIgZCxlLGY9YS5zcGxpdChcIixcIiksZz1iLmRlZmF1bHRWYWx1ZTtmb3IoYz1jfHxbZ10sZD0wO2Q8Zi5sZW5ndGg7ZCsrKWIucHJlZml4PTA9PT1kJiZiLnByZWZpeCxiLmRlZmF1bHRWYWx1ZT1jW2RdfHxnLGU9bmV3IHhhKGZbZF0sYil9LHphPVMuX3JlZ2lzdGVyUGx1Z2luUHJvcD1mdW5jdGlvbihhKXtpZighaVthXSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKStcIlBsdWdpblwiO3lhKGEse3BhcnNlcjpmdW5jdGlvbihhLGMsZCxlLGYsZyxqKXt2YXIgaz1oLmNvbS5ncmVlbnNvY2sucGx1Z2luc1tiXTtyZXR1cm4gaz8oay5fY3NzUmVnaXN0ZXIoKSxpW2RdLnBhcnNlKGEsYyxkLGUsZixnLGopKTooVyhcIkVycm9yOiBcIitiK1wiIGpzIGZpbGUgbm90IGxvYWRlZC5cIiksZil9fSl9fTtqPXhhLnByb3RvdHlwZSxqLnBhcnNlQ29tcGxleD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGcsaCxpLGosayxsLG09dGhpcy5rZXl3b3JkO2lmKHRoaXMubXVsdGkmJihJLnRlc3QoYyl8fEkudGVzdChiKT8oaD1iLnJlcGxhY2UoSSxcInxcIikuc3BsaXQoXCJ8XCIpLGk9Yy5yZXBsYWNlKEksXCJ8XCIpLnNwbGl0KFwifFwiKSk6bSYmKGg9W2JdLGk9W2NdKSksaSl7Zm9yKGo9aS5sZW5ndGg+aC5sZW5ndGg/aS5sZW5ndGg6aC5sZW5ndGgsZz0wO2o+ZztnKyspYj1oW2ddPWhbZ118fHRoaXMuZGZsdCxjPWlbZ109aVtnXXx8dGhpcy5kZmx0LG0mJihrPWIuaW5kZXhPZihtKSxsPWMuaW5kZXhPZihtKSxrIT09bCYmKC0xPT09bD9oW2ddPWhbZ10uc3BsaXQobSkuam9pbihcIlwiKTotMT09PWsmJihoW2ddKz1cIiBcIittKSkpO2I9aC5qb2luKFwiLCBcIiksYz1pLmpvaW4oXCIsIFwiKX1yZXR1cm4gdmEoYSx0aGlzLnAsYixjLHRoaXMuY2xycyx0aGlzLmRmbHQsZCx0aGlzLnByLGUsZil9LGoucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxmLGcsaCl7cmV0dXJuIHRoaXMucGFyc2VDb21wbGV4KGEuc3R5bGUsdGhpcy5mb3JtYXQoXyhhLHRoaXMucCxlLCExLHRoaXMuZGZsdCkpLHRoaXMuZm9ybWF0KGIpLGYsZyl9LGcucmVnaXN0ZXJTcGVjaWFsUHJvcD1mdW5jdGlvbihhLGIsYyl7eWEoYSx7cGFyc2VyOmZ1bmN0aW9uKGEsZCxlLGYsZyxoLGkpe3ZhciBqPW5ldyB0YShhLGUsMCwwLGcsMixlLCExLGMpO3JldHVybiBqLnBsdWdpbj1oLGouc2V0UmF0aW89YihhLGQsZi5fdHdlZW4sZSksan0scHJpb3JpdHk6Y30pfSxnLnVzZVNWR1RyYW5zZm9ybUF0dHI9ITA7dmFyIEFhLEJhPVwic2NhbGVYLHNjYWxlWSxzY2FsZVoseCx5LHosc2tld1gsc2tld1kscm90YXRpb24scm90YXRpb25YLHJvdGF0aW9uWSxwZXJzcGVjdGl2ZSx4UGVyY2VudCx5UGVyY2VudFwiLnNwbGl0KFwiLFwiKSxDYT1aKFwidHJhbnNmb3JtXCIpLERhPVgrXCJ0cmFuc2Zvcm1cIixFYT1aKFwidHJhbnNmb3JtT3JpZ2luXCIpLEZhPW51bGwhPT1aKFwicGVyc3BlY3RpdmVcIiksR2E9Uy5UcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLnBlcnNwZWN0aXZlPXBhcnNlRmxvYXQoZy5kZWZhdWx0VHJhbnNmb3JtUGVyc3BlY3RpdmUpfHwwLHRoaXMuZm9yY2UzRD1nLmRlZmF1bHRGb3JjZTNEIT09ITEmJkZhP2cuZGVmYXVsdEZvcmNlM0R8fFwiYXV0b1wiOiExfSxIYT1fZ3NTY29wZS5TVkdFbGVtZW50LElhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPU8uY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixhKSxmPS8oW2Etel0pKFtBLVpdKS9nO2ZvcihkIGluIGMpZS5zZXRBdHRyaWJ1dGVOUyhudWxsLGQucmVwbGFjZShmLFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKSxjW2RdKTtyZXR1cm4gYi5hcHBlbmRDaGlsZChlKSxlfSxKYT1PLmRvY3VtZW50RWxlbWVudHx8e30sS2E9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZD1wfHwvQW5kcm9pZC9pLnRlc3QoVCkmJiFfZ3NTY29wZS5jaHJvbWU7cmV0dXJuIE8uY3JlYXRlRWxlbWVudE5TJiYhZCYmKGE9SWEoXCJzdmdcIixKYSksYj1JYShcInJlY3RcIixhLHt3aWR0aDoxMDAsaGVpZ2h0OjUwLHg6MTAwfSksYz1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLGIuc3R5bGVbRWFdPVwiNTAlIDUwJVwiLGIuc3R5bGVbQ2FdPVwic2NhbGVYKDAuNSlcIixkPWM9PT1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoJiYhKG4mJkZhKSxKYS5yZW1vdmVDaGlsZChhKSksZH0oKSxMYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PWEuX2dzVHJhbnNmb3JtLHc9UWEoYSwhMCk7diYmKHQ9di54T3JpZ2luLHU9di55T3JpZ2luKSwoIWR8fChoPWQuc3BsaXQoXCIgXCIpKS5sZW5ndGg8MikmJihuPWEuZ2V0QkJveCgpLDA9PT1uLngmJjA9PT1uLnkmJm4ud2lkdGgrbi5oZWlnaHQ9PT0wJiYobj17eDpwYXJzZUZsb2F0KGEuaGFzQXR0cmlidXRlKFwieFwiKT9hLmdldEF0dHJpYnV0ZShcInhcIik6YS5oYXNBdHRyaWJ1dGUoXCJjeFwiKT9hLmdldEF0dHJpYnV0ZShcImN4XCIpOjApfHwwLHk6cGFyc2VGbG9hdChhLmhhc0F0dHJpYnV0ZShcInlcIik/YS5nZXRBdHRyaWJ1dGUoXCJ5XCIpOmEuaGFzQXR0cmlidXRlKFwiY3lcIik/YS5nZXRBdHRyaWJ1dGUoXCJjeVwiKTowKXx8MCx3aWR0aDowLGhlaWdodDowfSksYj1oYShiKS5zcGxpdChcIiBcIiksaD1bKC0xIT09YlswXS5pbmRleE9mKFwiJVwiKT9wYXJzZUZsb2F0KGJbMF0pLzEwMCpuLndpZHRoOnBhcnNlRmxvYXQoYlswXSkpK24ueCwoLTEhPT1iWzFdLmluZGV4T2YoXCIlXCIpP3BhcnNlRmxvYXQoYlsxXSkvMTAwKm4uaGVpZ2h0OnBhcnNlRmxvYXQoYlsxXSkpK24ueV0pLGMueE9yaWdpbj1rPXBhcnNlRmxvYXQoaFswXSksYy55T3JpZ2luPWw9cGFyc2VGbG9hdChoWzFdKSxkJiZ3IT09UGEmJihtPXdbMF0sbj13WzFdLG89d1syXSxwPXdbM10scT13WzRdLHI9d1s1XSxzPW0qcC1uKm8scyYmKGk9ayoocC9zKStsKigtby9zKSsobypyLXAqcSkvcyxqPWsqKC1uL3MpK2wqKG0vcyktKG0qci1uKnEpL3Msaz1jLnhPcmlnaW49aFswXT1pLGw9Yy55T3JpZ2luPWhbMV09aikpLHYmJihmJiYoYy54T2Zmc2V0PXYueE9mZnNldCxjLnlPZmZzZXQ9di55T2Zmc2V0LHY9YyksZXx8ZSE9PSExJiZnLmRlZmF1bHRTbW9vdGhPcmlnaW4hPT0hMT8oaT1rLXQsaj1sLXUsdi54T2Zmc2V0Kz1pKndbMF0raip3WzJdLWksdi55T2Zmc2V0Kz1pKndbMV0raip3WzNdLWopOnYueE9mZnNldD12LnlPZmZzZXQ9MCksZnx8YS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN2Zy1vcmlnaW5cIixoLmpvaW4oXCIgXCIpKX0sTWE9ZnVuY3Rpb24oYSl7dmFyIGIsYz1QKFwic3ZnXCIsdGhpcy5vd25lclNWR0VsZW1lbnQuZ2V0QXR0cmlidXRlKFwieG1sbnNcIil8fFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiksZD10aGlzLnBhcmVudE5vZGUsZT10aGlzLm5leHRTaWJsaW5nLGY9dGhpcy5zdHlsZS5jc3NUZXh0O2lmKEphLmFwcGVuZENoaWxkKGMpLGMuYXBwZW5kQ2hpbGQodGhpcyksdGhpcy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixhKXRyeXtiPXRoaXMuZ2V0QkJveCgpLHRoaXMuX29yaWdpbmFsR2V0QkJveD10aGlzLmdldEJCb3gsdGhpcy5nZXRCQm94PU1hfWNhdGNoKGcpe31lbHNlIHRoaXMuX29yaWdpbmFsR2V0QkJveCYmKGI9dGhpcy5fb3JpZ2luYWxHZXRCQm94KCkpO3JldHVybiBlP2QuaW5zZXJ0QmVmb3JlKHRoaXMsZSk6ZC5hcHBlbmRDaGlsZCh0aGlzKSxKYS5yZW1vdmVDaGlsZChjKSx0aGlzLnN0eWxlLmNzc1RleHQ9ZixifSxOYT1mdW5jdGlvbihhKXt0cnl7cmV0dXJuIGEuZ2V0QkJveCgpfWNhdGNoKGIpe3JldHVybiBNYS5jYWxsKGEsITApfX0sT2E9ZnVuY3Rpb24oYSl7cmV0dXJuISghKEhhJiZhLmdldENUTSYmTmEoYSkpfHxhLnBhcmVudE5vZGUmJiFhLm93bmVyU1ZHRWxlbWVudCl9LFBhPVsxLDAsMCwxLDAsMF0sUWE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaT1hLl9nc1RyYW5zZm9ybXx8bmV3IEdhLGo9MWU1LGs9YS5zdHlsZTtpZihDYT9kPV8oYSxEYSxudWxsLCEwKTphLmN1cnJlbnRTdHlsZSYmKGQ9YS5jdXJyZW50U3R5bGUuZmlsdGVyLm1hdGNoKEcpLGQ9ZCYmND09PWQubGVuZ3RoP1tkWzBdLnN1YnN0cig0KSxOdW1iZXIoZFsyXS5zdWJzdHIoNCkpLE51bWJlcihkWzFdLnN1YnN0cig0KSksZFszXS5zdWJzdHIoNCksaS54fHwwLGkueXx8MF0uam9pbihcIixcIik6XCJcIiksYz0hZHx8XCJub25lXCI9PT1kfHxcIm1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKVwiPT09ZCxjJiZDYSYmKChoPVwibm9uZVwiPT09JChhKS5kaXNwbGF5KXx8IWEucGFyZW50Tm9kZSkmJihoJiYoZj1rLmRpc3BsYXksay5kaXNwbGF5PVwiYmxvY2tcIiksYS5wYXJlbnROb2RlfHwoZz0xLEphLmFwcGVuZENoaWxkKGEpKSxkPV8oYSxEYSxudWxsLCEwKSxjPSFkfHxcIm5vbmVcIj09PWR8fFwibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApXCI9PT1kLGY/ay5kaXNwbGF5PWY6aCYmVmEoayxcImRpc3BsYXlcIiksZyYmSmEucmVtb3ZlQ2hpbGQoYSkpLChpLnN2Z3x8YS5nZXRDVE0mJk9hKGEpKSYmKGMmJi0xIT09KGtbQ2FdK1wiXCIpLmluZGV4T2YoXCJtYXRyaXhcIikmJihkPWtbQ2FdLGM9MCksZT1hLmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKSxjJiZlJiYoLTEhPT1lLmluZGV4T2YoXCJtYXRyaXhcIik/KGQ9ZSxjPTApOi0xIT09ZS5pbmRleE9mKFwidHJhbnNsYXRlXCIpJiYoZD1cIm1hdHJpeCgxLDAsMCwxLFwiK2UubWF0Y2goLyg/OlxcLXxcXGIpW1xcZFxcLVxcLmVdK1xcYi9naSkuam9pbihcIixcIikrXCIpXCIsYz0wKSkpLGMpcmV0dXJuIFBhO2ZvcihlPShkfHxcIlwiKS5tYXRjaChzKXx8W10sd2E9ZS5sZW5ndGg7LS13YT4tMTspZj1OdW1iZXIoZVt3YV0pLGVbd2FdPShnPWYtKGZ8PTApKT8oZypqKygwPmc/LS41Oi41KXwwKS9qK2Y6ZjtyZXR1cm4gYiYmZS5sZW5ndGg+Nj9bZVswXSxlWzFdLGVbNF0sZVs1XSxlWzEyXSxlWzEzXV06ZX0sUmE9Uy5nZXRUcmFuc2Zvcm09ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5fZ3NUcmFuc2Zvcm0mJmQmJiFlKXJldHVybiBhLl9nc1RyYW5zZm9ybTt2YXIgZixoLGksaixrLGwsbT1kP2EuX2dzVHJhbnNmb3JtfHxuZXcgR2E6bmV3IEdhLG49bS5zY2FsZVg8MCxvPTJlLTUscD0xZTUscT1GYT9wYXJzZUZsb2F0KF8oYSxFYSxjLCExLFwiMCAwIDBcIikuc3BsaXQoXCIgXCIpWzJdKXx8bS56T3JpZ2lufHwwOjAscj1wYXJzZUZsb2F0KGcuZGVmYXVsdFRyYW5zZm9ybVBlcnNwZWN0aXZlKXx8MDtpZihtLnN2Zz0hKCFhLmdldENUTXx8IU9hKGEpKSxtLnN2ZyYmKExhKGEsXyhhLEVhLGMsITEsXCI1MCUgNTAlXCIpK1wiXCIsbSxhLmdldEF0dHJpYnV0ZShcImRhdGEtc3ZnLW9yaWdpblwiKSksQWE9Zy51c2VTVkdUcmFuc2Zvcm1BdHRyfHxLYSksZj1RYShhKSxmIT09UGEpe2lmKDE2PT09Zi5sZW5ndGgpe3ZhciBzLHQsdSx2LHcseD1mWzBdLHk9ZlsxXSx6PWZbMl0sQT1mWzNdLEI9Zls0XSxDPWZbNV0sRD1mWzZdLEU9Zls3XSxGPWZbOF0sRz1mWzldLEg9ZlsxMF0sST1mWzEyXSxKPWZbMTNdLEs9ZlsxNF0sTT1mWzExXSxOPU1hdGguYXRhbjIoRCxIKTttLnpPcmlnaW4mJihLPS1tLnpPcmlnaW4sST1GKkstZlsxMl0sSj1HKkstZlsxM10sSz1IKksrbS56T3JpZ2luLWZbMTRdKSxtLnJvdGF0aW9uWD1OKkwsTiYmKHY9TWF0aC5jb3MoLU4pLHc9TWF0aC5zaW4oLU4pLHM9Qip2K0Yqdyx0PUMqditHKncsdT1EKnYrSCp3LEY9QiotdytGKnYsRz1DKi13K0cqdixIPUQqLXcrSCp2LE09RSotdytNKnYsQj1zLEM9dCxEPXUpLE49TWF0aC5hdGFuMigteixIKSxtLnJvdGF0aW9uWT1OKkwsTiYmKHY9TWF0aC5jb3MoLU4pLHc9TWF0aC5zaW4oLU4pLHM9eCp2LUYqdyx0PXkqdi1HKncsdT16KnYtSCp3LEc9eSp3K0cqdixIPXoqdytIKnYsTT1BKncrTSp2LHg9cyx5PXQsej11KSxOPU1hdGguYXRhbjIoeSx4KSxtLnJvdGF0aW9uPU4qTCxOJiYodj1NYXRoLmNvcygtTiksdz1NYXRoLnNpbigtTikseD14KnYrQip3LHQ9eSp2K0MqdyxDPXkqLXcrQyp2LEQ9eiotdytEKnYseT10KSxtLnJvdGF0aW9uWCYmTWF0aC5hYnMobS5yb3RhdGlvblgpK01hdGguYWJzKG0ucm90YXRpb24pPjM1OS45JiYobS5yb3RhdGlvblg9bS5yb3RhdGlvbj0wLG0ucm90YXRpb25ZPTE4MC1tLnJvdGF0aW9uWSksbS5zY2FsZVg9KE1hdGguc3FydCh4KngreSp5KSpwKy41fDApL3AsbS5zY2FsZVk9KE1hdGguc3FydChDKkMrRypHKSpwKy41fDApL3AsbS5zY2FsZVo9KE1hdGguc3FydChEKkQrSCpIKSpwKy41fDApL3AsbS5yb3RhdGlvblh8fG0ucm90YXRpb25ZP20uc2tld1g9MDoobS5za2V3WD1CfHxDP01hdGguYXRhbjIoQixDKSpMK20ucm90YXRpb246bS5za2V3WHx8MCxNYXRoLmFicyhtLnNrZXdYKT45MCYmTWF0aC5hYnMobS5za2V3WCk8MjcwJiYobj8obS5zY2FsZVgqPS0xLG0uc2tld1grPW0ucm90YXRpb248PTA/MTgwOi0xODAsbS5yb3RhdGlvbis9bS5yb3RhdGlvbjw9MD8xODA6LTE4MCk6KG0uc2NhbGVZKj0tMSxtLnNrZXdYKz1tLnNrZXdYPD0wPzE4MDotMTgwKSkpLG0ucGVyc3BlY3RpdmU9TT8xLygwPk0/LU06TSk6MCxtLng9SSxtLnk9SixtLno9SyxtLnN2ZyYmKG0ueC09bS54T3JpZ2luLShtLnhPcmlnaW4qeC1tLnlPcmlnaW4qQiksbS55LT1tLnlPcmlnaW4tKG0ueU9yaWdpbip5LW0ueE9yaWdpbipDKSl9ZWxzZSBpZighRmF8fGV8fCFmLmxlbmd0aHx8bS54IT09Zls0XXx8bS55IT09Zls1XXx8IW0ucm90YXRpb25YJiYhbS5yb3RhdGlvblkpe3ZhciBPPWYubGVuZ3RoPj02LFA9Tz9mWzBdOjEsUT1mWzFdfHwwLFI9ZlsyXXx8MCxTPU8/ZlszXToxO20ueD1mWzRdfHwwLG0ueT1mWzVdfHwwLGk9TWF0aC5zcXJ0KFAqUCtRKlEpLGo9TWF0aC5zcXJ0KFMqUytSKlIpLGs9UHx8UT9NYXRoLmF0YW4yKFEsUCkqTDptLnJvdGF0aW9ufHwwLGw9Unx8Uz9NYXRoLmF0YW4yKFIsUykqTCtrOm0uc2tld1h8fDAsTWF0aC5hYnMobCk+OTAmJk1hdGguYWJzKGwpPDI3MCYmKG4/KGkqPS0xLGwrPTA+PWs/MTgwOi0xODAsays9MD49az8xODA6LTE4MCk6KGoqPS0xLGwrPTA+PWw/MTgwOi0xODApKSxtLnNjYWxlWD1pLG0uc2NhbGVZPWosbS5yb3RhdGlvbj1rLG0uc2tld1g9bCxGYSYmKG0ucm90YXRpb25YPW0ucm90YXRpb25ZPW0uej0wLG0ucGVyc3BlY3RpdmU9cixtLnNjYWxlWj0xKSxtLnN2ZyYmKG0ueC09bS54T3JpZ2luLShtLnhPcmlnaW4qUCttLnlPcmlnaW4qUiksbS55LT1tLnlPcmlnaW4tKG0ueE9yaWdpbipRK20ueU9yaWdpbipTKSl9bS56T3JpZ2luPXE7Zm9yKGggaW4gbSltW2hdPG8mJm1baF0+LW8mJihtW2hdPTApfXJldHVybiBkJiYoYS5fZ3NUcmFuc2Zvcm09bSxtLnN2ZyYmKEFhJiZhLnN0eWxlW0NhXT9iLmRlbGF5ZWRDYWxsKC4wMDEsZnVuY3Rpb24oKXtWYShhLnN0eWxlLENhKX0pOiFBYSYmYS5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikmJmIuZGVsYXllZENhbGwoLjAwMSxmdW5jdGlvbigpe2EucmVtb3ZlQXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfSkpKSxtfSxTYT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5kYXRhLGU9LWQucm90YXRpb24qSyxmPWUrZC5za2V3WCpLLGc9MWU1LGg9KE1hdGguY29zKGUpKmQuc2NhbGVYKmd8MCkvZyxpPShNYXRoLnNpbihlKSpkLnNjYWxlWCpnfDApL2csaj0oTWF0aC5zaW4oZikqLWQuc2NhbGVZKmd8MCkvZyxrPShNYXRoLmNvcyhmKSpkLnNjYWxlWSpnfDApL2csbD10aGlzLnQuc3R5bGUsbT10aGlzLnQuY3VycmVudFN0eWxlO2lmKG0pe2M9aSxpPS1qLGo9LWMsYj1tLmZpbHRlcixsLmZpbHRlcj1cIlwiO3ZhciBuLG8scT10aGlzLnQub2Zmc2V0V2lkdGgscj10aGlzLnQub2Zmc2V0SGVpZ2h0LHM9XCJhYnNvbHV0ZVwiIT09bS5wb3NpdGlvbix0PVwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9XCIraCtcIiwgTTEyPVwiK2krXCIsIE0yMT1cIitqK1wiLCBNMjI9XCIrayx1PWQueCtxKmQueFBlcmNlbnQvMTAwLHY9ZC55K3IqZC55UGVyY2VudC8xMDA7aWYobnVsbCE9ZC5veCYmKG49KGQub3hwP3EqZC5veCouMDE6ZC5veCktcS8yLG89KGQub3lwP3IqZC5veSouMDE6ZC5veSktci8yLHUrPW4tKG4qaCtvKmkpLHYrPW8tKG4qaitvKmspKSxzPyhuPXEvMixvPXIvMix0Kz1cIiwgRHg9XCIrKG4tKG4qaCtvKmkpK3UpK1wiLCBEeT1cIisoby0obipqK28qaykrdikrXCIpXCIpOnQrPVwiLCBzaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJylcIiwtMSE9PWIuaW5kZXhPZihcIkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChcIik/bC5maWx0ZXI9Yi5yZXBsYWNlKEgsdCk6bC5maWx0ZXI9dCtcIiBcIitiLCgwPT09YXx8MT09PWEpJiYxPT09aCYmMD09PWkmJjA9PT1qJiYxPT09ayYmKHMmJi0xPT09dC5pbmRleE9mKFwiRHg9MCwgRHk9MFwiKXx8eC50ZXN0KGIpJiYxMDAhPT1wYXJzZUZsb2F0KFJlZ0V4cC4kMSl8fC0xPT09Yi5pbmRleE9mKGIuaW5kZXhPZihcIkFscGhhXCIpKSYmbC5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIikpLCFzKXt2YXIgeSx6LEEsQj04PnA/MTotMTtmb3Iobj1kLmllT2Zmc2V0WHx8MCxvPWQuaWVPZmZzZXRZfHwwLGQuaWVPZmZzZXRYPU1hdGgucm91bmQoKHEtKCgwPmg/LWg6aCkqcSsoMD5pPy1pOmkpKnIpKS8yK3UpLGQuaWVPZmZzZXRZPU1hdGgucm91bmQoKHItKCgwPms/LWs6aykqcisoMD5qPy1qOmopKnEpKS8yK3YpLHdhPTA7ND53YTt3YSsrKXo9ZmFbd2FdLHk9bVt6XSxjPS0xIT09eS5pbmRleE9mKFwicHhcIik/cGFyc2VGbG9hdCh5KTphYSh0aGlzLnQseixwYXJzZUZsb2F0KHkpLHkucmVwbGFjZSh3LFwiXCIpKXx8MCxBPWMhPT1kW3pdPzI+d2E/LWQuaWVPZmZzZXRYOi1kLmllT2Zmc2V0WToyPndhP24tZC5pZU9mZnNldFg6by1kLmllT2Zmc2V0WSxsW3pdPShkW3pdPU1hdGgucm91bmQoYy1BKigwPT09d2F8fDI9PT13YT8xOkIpKSkrXCJweFwifX19LFRhPVMuc2V0M0RUcmFuc2Zvcm1SYXRpbz1TLnNldFRyYW5zZm9ybVJhdGlvPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxvLHAscSxyLHMsdCx1LHYsdyx4LHksej10aGlzLmRhdGEsQT10aGlzLnQuc3R5bGUsQj16LnJvdGF0aW9uLEM9ei5yb3RhdGlvblgsRD16LnJvdGF0aW9uWSxFPXouc2NhbGVYLEY9ei5zY2FsZVksRz16LnNjYWxlWixIPXoueCxJPXoueSxKPXoueixMPXouc3ZnLE09ei5wZXJzcGVjdGl2ZSxOPXouZm9yY2UzRCxPPXouc2tld1ksUD16LnNrZXdYO2lmKE8mJihQKz1PLEIrPU8pLCgoMT09PWF8fDA9PT1hKSYmXCJhdXRvXCI9PT1OJiYodGhpcy50d2Vlbi5fdG90YWxUaW1lPT09dGhpcy50d2Vlbi5fdG90YWxEdXJhdGlvbnx8IXRoaXMudHdlZW4uX3RvdGFsVGltZSl8fCFOKSYmIUomJiFNJiYhRCYmIUMmJjE9PT1HfHxBYSYmTHx8IUZhKXJldHVybiB2b2lkKEJ8fFB8fEw/KEIqPUsseD1QKksseT0xZTUsYz1NYXRoLmNvcyhCKSpFLGY9TWF0aC5zaW4oQikqRSxkPU1hdGguc2luKEIteCkqLUYsZz1NYXRoLmNvcyhCLXgpKkYseCYmXCJzaW1wbGVcIj09PXouc2tld1R5cGUmJihiPU1hdGgudGFuKHgtTypLKSxiPU1hdGguc3FydCgxK2IqYiksZCo9YixnKj1iLE8mJihiPU1hdGgudGFuKE8qSyksYj1NYXRoLnNxcnQoMStiKmIpLGMqPWIsZio9YikpLEwmJihIKz16LnhPcmlnaW4tKHoueE9yaWdpbipjK3oueU9yaWdpbipkKSt6LnhPZmZzZXQsSSs9ei55T3JpZ2luLSh6LnhPcmlnaW4qZit6LnlPcmlnaW4qZykrei55T2Zmc2V0LEFhJiYoei54UGVyY2VudHx8ei55UGVyY2VudCkmJihxPXRoaXMudC5nZXRCQm94KCksSCs9LjAxKnoueFBlcmNlbnQqcS53aWR0aCxJKz0uMDEqei55UGVyY2VudCpxLmhlaWdodCkscT0xZS02LHE+SCYmSD4tcSYmKEg9MCkscT5JJiZJPi1xJiYoST0wKSksdT0oYyp5fDApL3krXCIsXCIrKGYqeXwwKS95K1wiLFwiKyhkKnl8MCkveStcIixcIisoZyp5fDApL3krXCIsXCIrSCtcIixcIitJK1wiKVwiLEwmJkFhP3RoaXMudC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcIm1hdHJpeChcIit1KTpBW0NhXT0oei54UGVyY2VudHx8ei55UGVyY2VudD9cInRyYW5zbGF0ZShcIit6LnhQZXJjZW50K1wiJSxcIit6LnlQZXJjZW50K1wiJSkgbWF0cml4KFwiOlwibWF0cml4KFwiKSt1KTpBW0NhXT0oei54UGVyY2VudHx8ei55UGVyY2VudD9cInRyYW5zbGF0ZShcIit6LnhQZXJjZW50K1wiJSxcIit6LnlQZXJjZW50K1wiJSkgbWF0cml4KFwiOlwibWF0cml4KFwiKStFK1wiLDAsMCxcIitGK1wiLFwiK0grXCIsXCIrSStcIilcIik7aWYobiYmKHE9MWUtNCxxPkUmJkU+LXEmJihFPUc9MmUtNSkscT5GJiZGPi1xJiYoRj1HPTJlLTUpLCFNfHx6Lnp8fHoucm90YXRpb25YfHx6LnJvdGF0aW9uWXx8KE09MCkpLEJ8fFApQio9SyxyPWM9TWF0aC5jb3MoQikscz1mPU1hdGguc2luKEIpLFAmJihCLT1QKksscj1NYXRoLmNvcyhCKSxzPU1hdGguc2luKEIpLFwic2ltcGxlXCI9PT16LnNrZXdUeXBlJiYoYj1NYXRoLnRhbigoUC1PKSpLKSxiPU1hdGguc3FydCgxK2IqYikscio9YixzKj1iLHouc2tld1kmJihiPU1hdGgudGFuKE8qSyksYj1NYXRoLnNxcnQoMStiKmIpLGMqPWIsZio9YikpKSxkPS1zLGc9cjtlbHNle2lmKCEoRHx8Q3x8MSE9PUd8fE18fEwpKXJldHVybiB2b2lkKEFbQ2FdPSh6LnhQZXJjZW50fHx6LnlQZXJjZW50P1widHJhbnNsYXRlKFwiK3oueFBlcmNlbnQrXCIlLFwiK3oueVBlcmNlbnQrXCIlKSB0cmFuc2xhdGUzZChcIjpcInRyYW5zbGF0ZTNkKFwiKStIK1wicHgsXCIrSStcInB4LFwiK0orXCJweClcIisoMSE9PUV8fDEhPT1GP1wiIHNjYWxlKFwiK0UrXCIsXCIrRitcIilcIjpcIlwiKSk7Yz1nPTEsZD1mPTB9az0xLGU9aD1pPWo9bD1tPTAsbz1NPy0xL006MCxwPXouek9yaWdpbixxPTFlLTYsdj1cIixcIix3PVwiMFwiLEI9RCpLLEImJihyPU1hdGguY29zKEIpLHM9TWF0aC5zaW4oQiksaT0tcyxsPW8qLXMsZT1jKnMsaD1mKnMsaz1yLG8qPXIsYyo9cixmKj1yKSxCPUMqSyxCJiYocj1NYXRoLmNvcyhCKSxzPU1hdGguc2luKEIpLGI9ZCpyK2Uqcyx0PWcqcitoKnMsaj1rKnMsbT1vKnMsZT1kKi1zK2UqcixoPWcqLXMraCpyLGsqPXIsbyo9cixkPWIsZz10KSwxIT09RyYmKGUqPUcsaCo9RyxrKj1HLG8qPUcpLDEhPT1GJiYoZCo9RixnKj1GLGoqPUYsbSo9RiksMSE9PUUmJihjKj1FLGYqPUUsaSo9RSxsKj1FKSwocHx8TCkmJihwJiYoSCs9ZSotcCxJKz1oKi1wLEorPWsqLXArcCksTCYmKEgrPXoueE9yaWdpbi0oei54T3JpZ2luKmMrei55T3JpZ2luKmQpK3oueE9mZnNldCxJKz16LnlPcmlnaW4tKHoueE9yaWdpbipmK3oueU9yaWdpbipnKSt6LnlPZmZzZXQpLHE+SCYmSD4tcSYmKEg9dykscT5JJiZJPi1xJiYoST13KSxxPkomJko+LXEmJihKPTApKSx1PXoueFBlcmNlbnR8fHoueVBlcmNlbnQ/XCJ0cmFuc2xhdGUoXCIrei54UGVyY2VudCtcIiUsXCIrei55UGVyY2VudCtcIiUpIG1hdHJpeDNkKFwiOlwibWF0cml4M2QoXCIsdSs9KHE+YyYmYz4tcT93OmMpK3YrKHE+ZiYmZj4tcT93OmYpK3YrKHE+aSYmaT4tcT93OmkpLHUrPXYrKHE+bCYmbD4tcT93OmwpK3YrKHE+ZCYmZD4tcT93OmQpK3YrKHE+ZyYmZz4tcT93OmcpLEN8fER8fDEhPT1HPyh1Kz12KyhxPmomJmo+LXE/dzpqKSt2KyhxPm0mJm0+LXE/dzptKSt2KyhxPmUmJmU+LXE/dzplKSx1Kz12KyhxPmgmJmg+LXE/dzpoKSt2KyhxPmsmJms+LXE/dzprKSt2KyhxPm8mJm8+LXE/dzpvKSt2KTp1Kz1cIiwwLDAsMCwwLDEsMCxcIix1Kz1IK3YrSSt2K0ordisoTT8xKy1KL006MSkrXCIpXCIsQVtDYV09dX07aj1HYS5wcm90b3R5cGUsai54PWoueT1qLno9ai5za2V3WD1qLnNrZXdZPWoucm90YXRpb249ai5yb3RhdGlvblg9ai5yb3RhdGlvblk9ai56T3JpZ2luPWoueFBlcmNlbnQ9ai55UGVyY2VudD1qLnhPZmZzZXQ9ai55T2Zmc2V0PTAsai5zY2FsZVg9ai5zY2FsZVk9ai5zY2FsZVo9MSx5YShcInRyYW5zZm9ybSxzY2FsZSxzY2FsZVgsc2NhbGVZLHNjYWxlWix4LHkseixyb3RhdGlvbixyb3RhdGlvblgscm90YXRpb25ZLHJvdGF0aW9uWixza2V3WCxza2V3WSxzaG9ydFJvdGF0aW9uLHNob3J0Um90YXRpb25YLHNob3J0Um90YXRpb25ZLHNob3J0Um90YXRpb25aLHRyYW5zZm9ybU9yaWdpbixzdmdPcmlnaW4sdHJhbnNmb3JtUGVyc3BlY3RpdmUsZGlyZWN0aW9uYWxSb3RhdGlvbixwYXJzZVRyYW5zZm9ybSxmb3JjZTNELHNrZXdUeXBlLHhQZXJjZW50LHlQZXJjZW50LHNtb290aE9yaWdpblwiLHtwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZCxmLGgsaSl7aWYoZC5fbGFzdFBhcnNlZFRyYW5zZm9ybT09PWkpcmV0dXJuIGY7ZC5fbGFzdFBhcnNlZFRyYW5zZm9ybT1pO3ZhciBqLGs9aS5zY2FsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5zY2FsZT9pLnNjYWxlOjA7XCJmdW5jdGlvblwiPT10eXBlb2YgaVtjXSYmKGo9aVtjXSxpW2NdPWIpLGsmJihpLnNjYWxlPWsocixhKSk7dmFyIGwsbSxuLG8scCxzLHQsdSx2LHc9YS5fZ3NUcmFuc2Zvcm0seD1hLnN0eWxlLHk9MWUtNix6PUJhLmxlbmd0aCxBPWksQj17fSxDPVwidHJhbnNmb3JtT3JpZ2luXCIsRD1SYShhLGUsITAsQS5wYXJzZVRyYW5zZm9ybSksRT1BLnRyYW5zZm9ybSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEEudHJhbnNmb3JtP0EudHJhbnNmb3JtKHIscSk6QS50cmFuc2Zvcm0pO2lmKGQuX3RyYW5zZm9ybT1ELEUmJlwic3RyaW5nXCI9PXR5cGVvZiBFJiZDYSltPVEuc3R5bGUsbVtDYV09RSxtLmRpc3BsYXk9XCJibG9ja1wiLG0ucG9zaXRpb249XCJhYnNvbHV0ZVwiLE8uYm9keS5hcHBlbmRDaGlsZChRKSxsPVJhKFEsbnVsbCwhMSksRC5zdmcmJihzPUQueE9yaWdpbix0PUQueU9yaWdpbixsLngtPUQueE9mZnNldCxsLnktPUQueU9mZnNldCwoQS50cmFuc2Zvcm1PcmlnaW58fEEuc3ZnT3JpZ2luKSYmKEU9e30sTGEoYSxoYShBLnRyYW5zZm9ybU9yaWdpbiksRSxBLnN2Z09yaWdpbixBLnNtb290aE9yaWdpbiwhMCkscz1FLnhPcmlnaW4sdD1FLnlPcmlnaW4sbC54LT1FLnhPZmZzZXQtRC54T2Zmc2V0LGwueS09RS55T2Zmc2V0LUQueU9mZnNldCksKHN8fHQpJiYodT1RYShRLCEwKSxsLngtPXMtKHMqdVswXSt0KnVbMl0pLGwueS09dC0ocyp1WzFdK3QqdVszXSkpKSxPLmJvZHkucmVtb3ZlQ2hpbGQoUSksbC5wZXJzcGVjdGl2ZXx8KGwucGVyc3BlY3RpdmU9RC5wZXJzcGVjdGl2ZSksbnVsbCE9QS54UGVyY2VudCYmKGwueFBlcmNlbnQ9amEoQS54UGVyY2VudCxELnhQZXJjZW50KSksbnVsbCE9QS55UGVyY2VudCYmKGwueVBlcmNlbnQ9amEoQS55UGVyY2VudCxELnlQZXJjZW50KSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgQSl7aWYobD17c2NhbGVYOmphKG51bGwhPUEuc2NhbGVYP0Euc2NhbGVYOkEuc2NhbGUsRC5zY2FsZVgpLHNjYWxlWTpqYShudWxsIT1BLnNjYWxlWT9BLnNjYWxlWTpBLnNjYWxlLEQuc2NhbGVZKSxzY2FsZVo6amEoQS5zY2FsZVosRC5zY2FsZVopLHg6amEoQS54LEQueCkseTpqYShBLnksRC55KSx6OmphKEEueixELnopLHhQZXJjZW50OmphKEEueFBlcmNlbnQsRC54UGVyY2VudCksXG55UGVyY2VudDpqYShBLnlQZXJjZW50LEQueVBlcmNlbnQpLHBlcnNwZWN0aXZlOmphKEEudHJhbnNmb3JtUGVyc3BlY3RpdmUsRC5wZXJzcGVjdGl2ZSl9LHA9QS5kaXJlY3Rpb25hbFJvdGF0aW9uLG51bGwhPXApaWYoXCJvYmplY3RcIj09dHlwZW9mIHApZm9yKG0gaW4gcClBW21dPXBbbV07ZWxzZSBBLnJvdGF0aW9uPXA7XCJzdHJpbmdcIj09dHlwZW9mIEEueCYmLTEhPT1BLnguaW5kZXhPZihcIiVcIikmJihsLng9MCxsLnhQZXJjZW50PWphKEEueCxELnhQZXJjZW50KSksXCJzdHJpbmdcIj09dHlwZW9mIEEueSYmLTEhPT1BLnkuaW5kZXhPZihcIiVcIikmJihsLnk9MCxsLnlQZXJjZW50PWphKEEueSxELnlQZXJjZW50KSksbC5yb3RhdGlvbj1rYShcInJvdGF0aW9uXCJpbiBBP0Eucm90YXRpb246XCJzaG9ydFJvdGF0aW9uXCJpbiBBP0Euc2hvcnRSb3RhdGlvbitcIl9zaG9ydFwiOlwicm90YXRpb25aXCJpbiBBP0Eucm90YXRpb25aOkQucm90YXRpb24sRC5yb3RhdGlvbixcInJvdGF0aW9uXCIsQiksRmEmJihsLnJvdGF0aW9uWD1rYShcInJvdGF0aW9uWFwiaW4gQT9BLnJvdGF0aW9uWDpcInNob3J0Um90YXRpb25YXCJpbiBBP0Euc2hvcnRSb3RhdGlvblgrXCJfc2hvcnRcIjpELnJvdGF0aW9uWHx8MCxELnJvdGF0aW9uWCxcInJvdGF0aW9uWFwiLEIpLGwucm90YXRpb25ZPWthKFwicm90YXRpb25ZXCJpbiBBP0Eucm90YXRpb25ZOlwic2hvcnRSb3RhdGlvbllcImluIEE/QS5zaG9ydFJvdGF0aW9uWStcIl9zaG9ydFwiOkQucm90YXRpb25ZfHwwLEQucm90YXRpb25ZLFwicm90YXRpb25ZXCIsQikpLGwuc2tld1g9a2EoQS5za2V3WCxELnNrZXdYKSxsLnNrZXdZPWthKEEuc2tld1ksRC5za2V3WSl9Zm9yKEZhJiZudWxsIT1BLmZvcmNlM0QmJihELmZvcmNlM0Q9QS5mb3JjZTNELG89ITApLEQuc2tld1R5cGU9QS5za2V3VHlwZXx8RC5za2V3VHlwZXx8Zy5kZWZhdWx0U2tld1R5cGUsbj1ELmZvcmNlM0R8fEQuenx8RC5yb3RhdGlvblh8fEQucm90YXRpb25ZfHxsLnp8fGwucm90YXRpb25YfHxsLnJvdGF0aW9uWXx8bC5wZXJzcGVjdGl2ZSxufHxudWxsPT1BLnNjYWxlfHwobC5zY2FsZVo9MSk7LS16Pi0xOyl2PUJhW3pdLEU9bFt2XS1EW3ZdLChFPnl8fC15PkV8fG51bGwhPUFbdl18fG51bGwhPU1bdl0pJiYobz0hMCxmPW5ldyB0YShELHYsRFt2XSxFLGYpLHYgaW4gQiYmKGYuZT1CW3ZdKSxmLnhzMD0wLGYucGx1Z2luPWgsZC5fb3ZlcndyaXRlUHJvcHMucHVzaChmLm4pKTtyZXR1cm4gRT1BLnRyYW5zZm9ybU9yaWdpbixELnN2ZyYmKEV8fEEuc3ZnT3JpZ2luKSYmKHM9RC54T2Zmc2V0LHQ9RC55T2Zmc2V0LExhKGEsaGEoRSksbCxBLnN2Z09yaWdpbixBLnNtb290aE9yaWdpbiksZj11YShELFwieE9yaWdpblwiLCh3P0Q6bCkueE9yaWdpbixsLnhPcmlnaW4sZixDKSxmPXVhKEQsXCJ5T3JpZ2luXCIsKHc/RDpsKS55T3JpZ2luLGwueU9yaWdpbixmLEMpLChzIT09RC54T2Zmc2V0fHx0IT09RC55T2Zmc2V0KSYmKGY9dWEoRCxcInhPZmZzZXRcIix3P3M6RC54T2Zmc2V0LEQueE9mZnNldCxmLEMpLGY9dWEoRCxcInlPZmZzZXRcIix3P3Q6RC55T2Zmc2V0LEQueU9mZnNldCxmLEMpKSxFPVwiMHB4IDBweFwiKSwoRXx8RmEmJm4mJkQuek9yaWdpbikmJihDYT8obz0hMCx2PUVhLEU9KEV8fF8oYSx2LGUsITEsXCI1MCUgNTAlXCIpKStcIlwiLGY9bmV3IHRhKHgsdiwwLDAsZiwtMSxDKSxmLmI9eFt2XSxmLnBsdWdpbj1oLEZhPyhtPUQuek9yaWdpbixFPUUuc3BsaXQoXCIgXCIpLEQuek9yaWdpbj0oRS5sZW5ndGg+MiYmKDA9PT1tfHxcIjBweFwiIT09RVsyXSk/cGFyc2VGbG9hdChFWzJdKTptKXx8MCxmLnhzMD1mLmU9RVswXStcIiBcIisoRVsxXXx8XCI1MCVcIikrXCIgMHB4XCIsZj1uZXcgdGEoRCxcInpPcmlnaW5cIiwwLDAsZiwtMSxmLm4pLGYuYj1tLGYueHMwPWYuZT1ELnpPcmlnaW4pOmYueHMwPWYuZT1FKTpoYShFK1wiXCIsRCkpLG8mJihkLl90cmFuc2Zvcm1UeXBlPUQuc3ZnJiZBYXx8IW4mJjMhPT10aGlzLl90cmFuc2Zvcm1UeXBlPzI6MyksaiYmKGlbY109aiksayYmKGkuc2NhbGU9ayksZn0scHJlZml4OiEwfSkseWEoXCJib3hTaGFkb3dcIix7ZGVmYXVsdFZhbHVlOlwiMHB4IDBweCAwcHggMHB4ICM5OTlcIixwcmVmaXg6ITAsY29sb3I6ITAsbXVsdGk6ITAsa2V5d29yZDpcImluc2V0XCJ9KSx5YShcImJvcmRlclJhZGl1c1wiLHtkZWZhdWx0VmFsdWU6XCIwcHhcIixwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZixnLGgpe2I9dGhpcy5mb3JtYXQoYik7dmFyIGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseT1bXCJib3JkZXJUb3BMZWZ0UmFkaXVzXCIsXCJib3JkZXJUb3BSaWdodFJhZGl1c1wiLFwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNcIixcImJvcmRlckJvdHRvbUxlZnRSYWRpdXNcIl0sej1hLnN0eWxlO2ZvcihxPXBhcnNlRmxvYXQoYS5vZmZzZXRXaWR0aCkscj1wYXJzZUZsb2F0KGEub2Zmc2V0SGVpZ2h0KSxpPWIuc3BsaXQoXCIgXCIpLGo9MDtqPHkubGVuZ3RoO2orKyl0aGlzLnAuaW5kZXhPZihcImJvcmRlclwiKSYmKHlbal09Wih5W2pdKSksbT1sPV8oYSx5W2pdLGUsITEsXCIwcHhcIiksLTEhPT1tLmluZGV4T2YoXCIgXCIpJiYobD1tLnNwbGl0KFwiIFwiKSxtPWxbMF0sbD1sWzFdKSxuPWs9aVtqXSxvPXBhcnNlRmxvYXQobSksdD1tLnN1YnN0cigobytcIlwiKS5sZW5ndGgpLHU9XCI9XCI9PT1uLmNoYXJBdCgxKSx1PyhwPXBhcnNlSW50KG4uY2hhckF0KDApK1wiMVwiLDEwKSxuPW4uc3Vic3RyKDIpLHAqPXBhcnNlRmxvYXQobikscz1uLnN1YnN0cigocCtcIlwiKS5sZW5ndGgtKDA+cD8xOjApKXx8XCJcIik6KHA9cGFyc2VGbG9hdChuKSxzPW4uc3Vic3RyKChwK1wiXCIpLmxlbmd0aCkpLFwiXCI9PT1zJiYocz1kW2NdfHx0KSxzIT09dCYmKHY9YWEoYSxcImJvcmRlckxlZnRcIixvLHQpLHc9YWEoYSxcImJvcmRlclRvcFwiLG8sdCksXCIlXCI9PT1zPyhtPXYvcSoxMDArXCIlXCIsbD13L3IqMTAwK1wiJVwiKTpcImVtXCI9PT1zPyh4PWFhKGEsXCJib3JkZXJMZWZ0XCIsMSxcImVtXCIpLG09di94K1wiZW1cIixsPXcveCtcImVtXCIpOihtPXYrXCJweFwiLGw9dytcInB4XCIpLHUmJihuPXBhcnNlRmxvYXQobSkrcCtzLGs9cGFyc2VGbG9hdChsKStwK3MpKSxnPXZhKHoseVtqXSxtK1wiIFwiK2wsbitcIiBcIitrLCExLFwiMHB4XCIsZyk7cmV0dXJuIGd9LHByZWZpeDohMCxmb3JtYXR0ZXI6cWEoXCIwcHggMHB4IDBweCAwcHhcIiwhMSwhMCl9KSx5YShcImJvcmRlckJvdHRvbUxlZnRSYWRpdXMsYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsYm9yZGVyVG9wTGVmdFJhZGl1cyxib3JkZXJUb3BSaWdodFJhZGl1c1wiLHtkZWZhdWx0VmFsdWU6XCIwcHhcIixwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZCxmLGcpe3JldHVybiB2YShhLnN0eWxlLGMsdGhpcy5mb3JtYXQoXyhhLGMsZSwhMSxcIjBweCAwcHhcIikpLHRoaXMuZm9ybWF0KGIpLCExLFwiMHB4XCIsZil9LHByZWZpeDohMCxmb3JtYXR0ZXI6cWEoXCIwcHggMHB4XCIsITEsITApfSkseWEoXCJiYWNrZ3JvdW5kUG9zaXRpb25cIix7ZGVmYXVsdFZhbHVlOlwiMCAwXCIscGFyc2VyOmZ1bmN0aW9uKGEsYixjLGQsZixnKXt2YXIgaCxpLGosayxsLG0sbj1cImJhY2tncm91bmQtcG9zaXRpb25cIixvPWV8fCQoYSxudWxsKSxxPXRoaXMuZm9ybWF0KChvP3A/by5nZXRQcm9wZXJ0eVZhbHVlKG4rXCIteFwiKStcIiBcIitvLmdldFByb3BlcnR5VmFsdWUobitcIi15XCIpOm8uZ2V0UHJvcGVydHlWYWx1ZShuKTphLmN1cnJlbnRTdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb25YK1wiIFwiK2EuY3VycmVudFN0eWxlLmJhY2tncm91bmRQb3NpdGlvblkpfHxcIjAgMFwiKSxyPXRoaXMuZm9ybWF0KGIpO2lmKC0xIT09cS5pbmRleE9mKFwiJVwiKSE9KC0xIT09ci5pbmRleE9mKFwiJVwiKSkmJnIuc3BsaXQoXCIsXCIpLmxlbmd0aDwyJiYobT1fKGEsXCJiYWNrZ3JvdW5kSW1hZ2VcIikucmVwbGFjZShELFwiXCIpLG0mJlwibm9uZVwiIT09bSkpe2ZvcihoPXEuc3BsaXQoXCIgXCIpLGk9ci5zcGxpdChcIiBcIiksUi5zZXRBdHRyaWJ1dGUoXCJzcmNcIixtKSxqPTI7LS1qPi0xOylxPWhbal0saz0tMSE9PXEuaW5kZXhPZihcIiVcIiksayE9PSgtMSE9PWlbal0uaW5kZXhPZihcIiVcIikpJiYobD0wPT09aj9hLm9mZnNldFdpZHRoLVIud2lkdGg6YS5vZmZzZXRIZWlnaHQtUi5oZWlnaHQsaFtqXT1rP3BhcnNlRmxvYXQocSkvMTAwKmwrXCJweFwiOnBhcnNlRmxvYXQocSkvbCoxMDArXCIlXCIpO3E9aC5qb2luKFwiIFwiKX1yZXR1cm4gdGhpcy5wYXJzZUNvbXBsZXgoYS5zdHlsZSxxLHIsZixnKX0sZm9ybWF0dGVyOmhhfSkseWEoXCJiYWNrZ3JvdW5kU2l6ZVwiLHtkZWZhdWx0VmFsdWU6XCIwIDBcIixmb3JtYXR0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGErPVwiXCIsaGEoLTE9PT1hLmluZGV4T2YoXCIgXCIpP2ErXCIgXCIrYTphKX19KSx5YShcInBlcnNwZWN0aXZlXCIse2RlZmF1bHRWYWx1ZTpcIjBweFwiLHByZWZpeDohMH0pLHlhKFwicGVyc3BlY3RpdmVPcmlnaW5cIix7ZGVmYXVsdFZhbHVlOlwiNTAlIDUwJVwiLHByZWZpeDohMH0pLHlhKFwidHJhbnNmb3JtU3R5bGVcIix7cHJlZml4OiEwfSkseWEoXCJiYWNrZmFjZVZpc2liaWxpdHlcIix7cHJlZml4OiEwfSkseWEoXCJ1c2VyU2VsZWN0XCIse3ByZWZpeDohMH0pLHlhKFwibWFyZ2luXCIse3BhcnNlcjpyYShcIm1hcmdpblRvcCxtYXJnaW5SaWdodCxtYXJnaW5Cb3R0b20sbWFyZ2luTGVmdFwiKX0pLHlhKFwicGFkZGluZ1wiLHtwYXJzZXI6cmEoXCJwYWRkaW5nVG9wLHBhZGRpbmdSaWdodCxwYWRkaW5nQm90dG9tLHBhZGRpbmdMZWZ0XCIpfSkseWEoXCJjbGlwXCIse2RlZmF1bHRWYWx1ZTpcInJlY3QoMHB4LDBweCwwcHgsMHB4KVwiLHBhcnNlcjpmdW5jdGlvbihhLGIsYyxkLGYsZyl7dmFyIGgsaSxqO3JldHVybiA5PnA/KGk9YS5jdXJyZW50U3R5bGUsaj04PnA/XCIgXCI6XCIsXCIsaD1cInJlY3QoXCIraS5jbGlwVG9wK2oraS5jbGlwUmlnaHQraitpLmNsaXBCb3R0b20raitpLmNsaXBMZWZ0K1wiKVwiLGI9dGhpcy5mb3JtYXQoYikuc3BsaXQoXCIsXCIpLmpvaW4oaikpOihoPXRoaXMuZm9ybWF0KF8oYSx0aGlzLnAsZSwhMSx0aGlzLmRmbHQpKSxiPXRoaXMuZm9ybWF0KGIpKSx0aGlzLnBhcnNlQ29tcGxleChhLnN0eWxlLGgsYixmLGcpfX0pLHlhKFwidGV4dFNoYWRvd1wiLHtkZWZhdWx0VmFsdWU6XCIwcHggMHB4IDBweCAjOTk5XCIsY29sb3I6ITAsbXVsdGk6ITB9KSx5YShcImF1dG9Sb3VuZCxzdHJpY3RVbml0c1wiLHtwYXJzZXI6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZX19KSx5YShcImJvcmRlclwiLHtkZWZhdWx0VmFsdWU6XCIwcHggc29saWQgIzAwMFwiLHBhcnNlcjpmdW5jdGlvbihhLGIsYyxkLGYsZyl7dmFyIGg9XyhhLFwiYm9yZGVyVG9wV2lkdGhcIixlLCExLFwiMHB4XCIpLGk9dGhpcy5mb3JtYXQoYikuc3BsaXQoXCIgXCIpLGo9aVswXS5yZXBsYWNlKHcsXCJcIik7cmV0dXJuXCJweFwiIT09aiYmKGg9cGFyc2VGbG9hdChoKS9hYShhLFwiYm9yZGVyVG9wV2lkdGhcIiwxLGopK2opLHRoaXMucGFyc2VDb21wbGV4KGEuc3R5bGUsdGhpcy5mb3JtYXQoaCtcIiBcIitfKGEsXCJib3JkZXJUb3BTdHlsZVwiLGUsITEsXCJzb2xpZFwiKStcIiBcIitfKGEsXCJib3JkZXJUb3BDb2xvclwiLGUsITEsXCIjMDAwXCIpKSxpLmpvaW4oXCIgXCIpLGYsZyl9LGNvbG9yOiEwLGZvcm1hdHRlcjpmdW5jdGlvbihhKXt2YXIgYj1hLnNwbGl0KFwiIFwiKTtyZXR1cm4gYlswXStcIiBcIisoYlsxXXx8XCJzb2xpZFwiKStcIiBcIisoYS5tYXRjaChwYSl8fFtcIiMwMDBcIl0pWzBdfX0pLHlhKFwiYm9yZGVyV2lkdGhcIix7cGFyc2VyOnJhKFwiYm9yZGVyVG9wV2lkdGgsYm9yZGVyUmlnaHRXaWR0aCxib3JkZXJCb3R0b21XaWR0aCxib3JkZXJMZWZ0V2lkdGhcIil9KSx5YShcImZsb2F0LGNzc0Zsb2F0LHN0eWxlRmxvYXRcIix7cGFyc2VyOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLnN0eWxlLGg9XCJjc3NGbG9hdFwiaW4gZz9cImNzc0Zsb2F0XCI6XCJzdHlsZUZsb2F0XCI7cmV0dXJuIG5ldyB0YShnLGgsMCwwLGUsLTEsYywhMSwwLGdbaF0sYil9fSk7dmFyIFVhPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy50LGQ9Yy5maWx0ZXJ8fF8odGhpcy5kYXRhLFwiZmlsdGVyXCIpfHxcIlwiLGU9dGhpcy5zK3RoaXMuYyphfDA7MTAwPT09ZSYmKC0xPT09ZC5pbmRleE9mKFwiYXRyaXgoXCIpJiYtMT09PWQuaW5kZXhPZihcInJhZGllbnQoXCIpJiYtMT09PWQuaW5kZXhPZihcIm9hZGVyKFwiKT8oYy5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIiksYj0hXyh0aGlzLmRhdGEsXCJmaWx0ZXJcIikpOihjLmZpbHRlcj1kLnJlcGxhY2UoeixcIlwiKSxiPSEwKSksYnx8KHRoaXMueG4xJiYoYy5maWx0ZXI9ZD1kfHxcImFscGhhKG9wYWNpdHk9XCIrZStcIilcIiksLTE9PT1kLmluZGV4T2YoXCJwYWNpdHlcIik/MD09PWUmJnRoaXMueG4xfHwoYy5maWx0ZXI9ZCtcIiBhbHBoYShvcGFjaXR5PVwiK2UrXCIpXCIpOmMuZmlsdGVyPWQucmVwbGFjZSh4LFwib3BhY2l0eT1cIitlKSl9O3lhKFwib3BhY2l0eSxhbHBoYSxhdXRvQWxwaGFcIix7ZGVmYXVsdFZhbHVlOlwiMVwiLHBhcnNlcjpmdW5jdGlvbihhLGIsYyxkLGYsZyl7dmFyIGg9cGFyc2VGbG9hdChfKGEsXCJvcGFjaXR5XCIsZSwhMSxcIjFcIikpLGk9YS5zdHlsZSxqPVwiYXV0b0FscGhhXCI9PT1jO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiJiZcIj1cIj09PWIuY2hhckF0KDEpJiYoYj0oXCItXCI9PT1iLmNoYXJBdCgwKT8tMToxKSpwYXJzZUZsb2F0KGIuc3Vic3RyKDIpKStoKSxqJiYxPT09aCYmXCJoaWRkZW5cIj09PV8oYSxcInZpc2liaWxpdHlcIixlKSYmMCE9PWImJihoPTApLFU/Zj1uZXcgdGEoaSxcIm9wYWNpdHlcIixoLGItaCxmKTooZj1uZXcgdGEoaSxcIm9wYWNpdHlcIiwxMDAqaCwxMDAqKGItaCksZiksZi54bjE9aj8xOjAsaS56b29tPTEsZi50eXBlPTIsZi5iPVwiYWxwaGEob3BhY2l0eT1cIitmLnMrXCIpXCIsZi5lPVwiYWxwaGEob3BhY2l0eT1cIisoZi5zK2YuYykrXCIpXCIsZi5kYXRhPWEsZi5wbHVnaW49ZyxmLnNldFJhdGlvPVVhKSxqJiYoZj1uZXcgdGEoaSxcInZpc2liaWxpdHlcIiwwLDAsZiwtMSxudWxsLCExLDAsMCE9PWg/XCJpbmhlcml0XCI6XCJoaWRkZW5cIiwwPT09Yj9cImhpZGRlblwiOlwiaW5oZXJpdFwiKSxmLnhzMD1cImluaGVyaXRcIixkLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGYubiksZC5fb3ZlcndyaXRlUHJvcHMucHVzaChjKSksZn19KTt2YXIgVmE9ZnVuY3Rpb24oYSxiKXtiJiYoYS5yZW1vdmVQcm9wZXJ0eT8oKFwibXNcIj09PWIuc3Vic3RyKDAsMil8fFwid2Via2l0XCI9PT1iLnN1YnN0cigwLDYpKSYmKGI9XCItXCIrYiksYS5yZW1vdmVQcm9wZXJ0eShiLnJlcGxhY2UoQixcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKSk6YS5yZW1vdmVBdHRyaWJ1dGUoYikpfSxXYT1mdW5jdGlvbihhKXtpZih0aGlzLnQuX2dzQ2xhc3NQVD10aGlzLDE9PT1hfHwwPT09YSl7dGhpcy50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsMD09PWE/dGhpcy5iOnRoaXMuZSk7Zm9yKHZhciBiPXRoaXMuZGF0YSxjPXRoaXMudC5zdHlsZTtiOyliLnY/Y1tiLnBdPWIudjpWYShjLGIucCksYj1iLl9uZXh0OzE9PT1hJiZ0aGlzLnQuX2dzQ2xhc3NQVD09PXRoaXMmJih0aGlzLnQuX2dzQ2xhc3NQVD1udWxsKX1lbHNlIHRoaXMudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSE9PXRoaXMuZSYmdGhpcy50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5lKX07eWEoXCJjbGFzc05hbWVcIix7cGFyc2VyOmZ1bmN0aW9uKGEsYixkLGYsZyxoLGkpe3ZhciBqLGssbCxtLG4sbz1hLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiLHA9YS5zdHlsZS5jc3NUZXh0O2lmKGc9Zi5fY2xhc3NOYW1lUFQ9bmV3IHRhKGEsZCwwLDAsZywyKSxnLnNldFJhdGlvPVdhLGcucHI9LTExLGM9ITAsZy5iPW8saz1jYShhLGUpLGw9YS5fZ3NDbGFzc1BUKXtmb3IobT17fSxuPWwuZGF0YTtuOyltW24ucF09MSxuPW4uX25leHQ7bC5zZXRSYXRpbygxKX1yZXR1cm4gYS5fZ3NDbGFzc1BUPWcsZy5lPVwiPVwiIT09Yi5jaGFyQXQoMSk/YjpvLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/OlxcXFxzfF4pXCIrYi5zdWJzdHIoMikrXCIoPyFbXFxcXHctXSlcIiksXCJcIikrKFwiK1wiPT09Yi5jaGFyQXQoMCk/XCIgXCIrYi5zdWJzdHIoMik6XCJcIiksYS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGcuZSksaj1kYShhLGssY2EoYSksaSxtKSxhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsbyksZy5kYXRhPWouZmlyc3RNUFQsYS5zdHlsZS5jc3NUZXh0PXAsZz1nLnhmaXJzdD1mLnBhcnNlKGEsai5kaWZzLGcsaCl9fSk7dmFyIFhhPWZ1bmN0aW9uKGEpe2lmKCgxPT09YXx8MD09PWEpJiZ0aGlzLmRhdGEuX3RvdGFsVGltZT09PXRoaXMuZGF0YS5fdG90YWxEdXJhdGlvbiYmXCJpc0Zyb21TdGFydFwiIT09dGhpcy5kYXRhLmRhdGEpe3ZhciBiLGMsZCxlLGYsZz10aGlzLnQuc3R5bGUsaD1pLnRyYW5zZm9ybS5wYXJzZTtpZihcImFsbFwiPT09dGhpcy5lKWcuY3NzVGV4dD1cIlwiLGU9ITA7ZWxzZSBmb3IoYj10aGlzLmUuc3BsaXQoXCIgXCIpLmpvaW4oXCJcIikuc3BsaXQoXCIsXCIpLGQ9Yi5sZW5ndGg7LS1kPi0xOyljPWJbZF0saVtjXSYmKGlbY10ucGFyc2U9PT1oP2U9ITA6Yz1cInRyYW5zZm9ybU9yaWdpblwiPT09Yz9FYTppW2NdLnApLFZhKGcsYyk7ZSYmKFZhKGcsQ2EpLGY9dGhpcy50Ll9nc1RyYW5zZm9ybSxmJiYoZi5zdmcmJih0aGlzLnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1zdmctb3JpZ2luXCIpLHRoaXMudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpLGRlbGV0ZSB0aGlzLnQuX2dzVHJhbnNmb3JtKSl9fTtmb3IoeWEoXCJjbGVhclByb3BzXCIse3BhcnNlcjpmdW5jdGlvbihhLGIsZCxlLGYpe3JldHVybiBmPW5ldyB0YShhLGQsMCwwLGYsMiksZi5zZXRSYXRpbz1YYSxmLmU9YixmLnByPS0xMCxmLmRhdGE9ZS5fdHdlZW4sYz0hMCxmfX0pLGo9XCJiZXppZXIsdGhyb3dQcm9wcyxwaHlzaWNzUHJvcHMscGh5c2ljczJEXCIuc3BsaXQoXCIsXCIpLHdhPWoubGVuZ3RoO3dhLS07KXphKGpbd2FdKTtqPWcucHJvdG90eXBlLGouX2ZpcnN0UFQ9ai5fbGFzdFBhcnNlZFRyYW5zZm9ybT1qLl90cmFuc2Zvcm09bnVsbCxqLl9vbkluaXRUd2Vlbj1mdW5jdGlvbihhLGIsaCxqKXtpZighYS5ub2RlVHlwZSlyZXR1cm4hMTt0aGlzLl90YXJnZXQ9cT1hLHRoaXMuX3R3ZWVuPWgsdGhpcy5fdmFycz1iLHI9aixrPWIuYXV0b1JvdW5kLGM9ITEsZD1iLnN1ZmZpeE1hcHx8Zy5zdWZmaXhNYXAsZT0kKGEsXCJcIiksZj10aGlzLl9vdmVyd3JpdGVQcm9wczt2YXIgbixwLHMsdCx1LHYsdyx4LHosQT1hLnN0eWxlO2lmKGwmJlwiXCI9PT1BLnpJbmRleCYmKG49XyhhLFwiekluZGV4XCIsZSksKFwiYXV0b1wiPT09bnx8XCJcIj09PW4pJiZ0aGlzLl9hZGRMYXp5U2V0KEEsXCJ6SW5kZXhcIiwwKSksXCJzdHJpbmdcIj09dHlwZW9mIGImJih0PUEuY3NzVGV4dCxuPWNhKGEsZSksQS5jc3NUZXh0PXQrXCI7XCIrYixuPWRhKGEsbixjYShhKSkuZGlmcywhVSYmeS50ZXN0KGIpJiYobi5vcGFjaXR5PXBhcnNlRmxvYXQoUmVnRXhwLiQxKSksYj1uLEEuY3NzVGV4dD10KSxiLmNsYXNzTmFtZT90aGlzLl9maXJzdFBUPXA9aS5jbGFzc05hbWUucGFyc2UoYSxiLmNsYXNzTmFtZSxcImNsYXNzTmFtZVwiLHRoaXMsbnVsbCxudWxsLGIpOnRoaXMuX2ZpcnN0UFQ9cD10aGlzLnBhcnNlKGEsYixudWxsKSx0aGlzLl90cmFuc2Zvcm1UeXBlKXtmb3Ioej0zPT09dGhpcy5fdHJhbnNmb3JtVHlwZSxDYT9tJiYobD0hMCxcIlwiPT09QS56SW5kZXgmJih3PV8oYSxcInpJbmRleFwiLGUpLChcImF1dG9cIj09PXd8fFwiXCI9PT13KSYmdGhpcy5fYWRkTGF6eVNldChBLFwiekluZGV4XCIsMCkpLG8mJnRoaXMuX2FkZExhenlTZXQoQSxcIldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eVwiLHRoaXMuX3ZhcnMuV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5fHwoej9cInZpc2libGVcIjpcImhpZGRlblwiKSkpOkEuem9vbT0xLHM9cDtzJiZzLl9uZXh0OylzPXMuX25leHQ7eD1uZXcgdGEoYSxcInRyYW5zZm9ybVwiLDAsMCxudWxsLDIpLHRoaXMuX2xpbmtDU1NQKHgsbnVsbCxzKSx4LnNldFJhdGlvPUNhP1RhOlNhLHguZGF0YT10aGlzLl90cmFuc2Zvcm18fFJhKGEsZSwhMCkseC50d2Vlbj1oLHgucHI9LTEsZi5wb3AoKX1pZihjKXtmb3IoO3A7KXtmb3Iodj1wLl9uZXh0LHM9dDtzJiZzLnByPnAucHI7KXM9cy5fbmV4dDsocC5fcHJldj1zP3MuX3ByZXY6dSk/cC5fcHJldi5fbmV4dD1wOnQ9cCwocC5fbmV4dD1zKT9zLl9wcmV2PXA6dT1wLHA9dn10aGlzLl9maXJzdFBUPXR9cmV0dXJuITB9LGoucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZil7dmFyIGcsaCxqLGwsbSxuLG8scCxzLHQsdT1hLnN0eWxlO2ZvcihnIGluIGIpbj1iW2ddLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuPW4ocixxKSksaD1pW2ddLGg/Yz1oLnBhcnNlKGEsbixnLHRoaXMsYyxmLGIpOihtPV8oYSxnLGUpK1wiXCIscz1cInN0cmluZ1wiPT10eXBlb2YgbixcImNvbG9yXCI9PT1nfHxcImZpbGxcIj09PWd8fFwic3Ryb2tlXCI9PT1nfHwtMSE9PWcuaW5kZXhPZihcIkNvbG9yXCIpfHxzJiZBLnRlc3Qobik/KHN8fChuPW5hKG4pLG49KG4ubGVuZ3RoPjM/XCJyZ2JhKFwiOlwicmdiKFwiKStuLmpvaW4oXCIsXCIpK1wiKVwiKSxjPXZhKHUsZyxtLG4sITAsXCJ0cmFuc3BhcmVudFwiLGMsMCxmKSk6cyYmSi50ZXN0KG4pP2M9dmEodSxnLG0sbiwhMCxudWxsLGMsMCxmKTooaj1wYXJzZUZsb2F0KG0pLG89anx8MD09PWo/bS5zdWJzdHIoKGorXCJcIikubGVuZ3RoKTpcIlwiLChcIlwiPT09bXx8XCJhdXRvXCI9PT1tKSYmKFwid2lkdGhcIj09PWd8fFwiaGVpZ2h0XCI9PT1nPyhqPWdhKGEsZyxlKSxvPVwicHhcIik6XCJsZWZ0XCI9PT1nfHxcInRvcFwiPT09Zz8oaj1iYShhLGcsZSksbz1cInB4XCIpOihqPVwib3BhY2l0eVwiIT09Zz8wOjEsbz1cIlwiKSksdD1zJiZcIj1cIj09PW4uY2hhckF0KDEpLHQ/KGw9cGFyc2VJbnQobi5jaGFyQXQoMCkrXCIxXCIsMTApLG49bi5zdWJzdHIoMiksbCo9cGFyc2VGbG9hdChuKSxwPW4ucmVwbGFjZSh3LFwiXCIpKToobD1wYXJzZUZsb2F0KG4pLHA9cz9uLnJlcGxhY2UodyxcIlwiKTpcIlwiKSxcIlwiPT09cCYmKHA9ZyBpbiBkP2RbZ106byksbj1sfHwwPT09bD8odD9sK2o6bCkrcDpiW2ddLG8hPT1wJiZcIlwiIT09cCYmKGx8fDA9PT1sKSYmaiYmKGo9YWEoYSxnLGosbyksXCIlXCI9PT1wPyhqLz1hYShhLGcsMTAwLFwiJVwiKS8xMDAsYi5zdHJpY3RVbml0cyE9PSEwJiYobT1qK1wiJVwiKSk6XCJlbVwiPT09cHx8XCJyZW1cIj09PXB8fFwidndcIj09PXB8fFwidmhcIj09PXA/ai89YWEoYSxnLDEscCk6XCJweFwiIT09cCYmKGw9YWEoYSxnLGwscCkscD1cInB4XCIpLHQmJihsfHwwPT09bCkmJihuPWwraitwKSksdCYmKGwrPWopLCFqJiYwIT09anx8IWwmJjAhPT1sP3ZvaWQgMCE9PXVbZ10mJihufHxuK1wiXCIhPVwiTmFOXCImJm51bGwhPW4pPyhjPW5ldyB0YSh1LGcsbHx8anx8MCwwLGMsLTEsZywhMSwwLG0sbiksYy54czA9XCJub25lXCIhPT1ufHxcImRpc3BsYXlcIiE9PWcmJi0xPT09Zy5pbmRleE9mKFwiU3R5bGVcIik/bjptKTpXKFwiaW52YWxpZCBcIitnK1wiIHR3ZWVuIHZhbHVlOiBcIitiW2ddKTooYz1uZXcgdGEodSxnLGosbC1qLGMsMCxnLGshPT0hMSYmKFwicHhcIj09PXB8fFwiekluZGV4XCI9PT1nKSwwLG0sbiksYy54czA9cCkpKSxmJiZjJiYhYy5wbHVnaW4mJihjLnBsdWdpbj1mKTtyZXR1cm4gY30sai5zZXRSYXRpbz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzLl9maXJzdFBULGY9MWUtNjtpZigxIT09YXx8dGhpcy5fdHdlZW4uX3RpbWUhPT10aGlzLl90d2Vlbi5fZHVyYXRpb24mJjAhPT10aGlzLl90d2Vlbi5fdGltZSlpZihhfHx0aGlzLl90d2Vlbi5fdGltZSE9PXRoaXMuX3R3ZWVuLl9kdXJhdGlvbiYmMCE9PXRoaXMuX3R3ZWVuLl90aW1lfHx0aGlzLl90d2Vlbi5fcmF3UHJldlRpbWU9PT0tMWUtNilmb3IoO2U7KXtpZihiPWUuYyphK2UucyxlLnI/Yj1NYXRoLnJvdW5kKGIpOmY+YiYmYj4tZiYmKGI9MCksZS50eXBlKWlmKDE9PT1lLnR5cGUpaWYoZD1lLmwsMj09PWQpZS50W2UucF09ZS54czArYitlLnhzMStlLnhuMStlLnhzMjtlbHNlIGlmKDM9PT1kKWUudFtlLnBdPWUueHMwK2IrZS54czErZS54bjErZS54czIrZS54bjIrZS54czM7ZWxzZSBpZig0PT09ZCllLnRbZS5wXT1lLnhzMCtiK2UueHMxK2UueG4xK2UueHMyK2UueG4yK2UueHMzK2UueG4zK2UueHM0O2Vsc2UgaWYoNT09PWQpZS50W2UucF09ZS54czArYitlLnhzMStlLnhuMStlLnhzMitlLnhuMitlLnhzMytlLnhuMytlLnhzNCtlLnhuNCtlLnhzNTtlbHNle2ZvcihjPWUueHMwK2IrZS54czEsZD0xO2Q8ZS5sO2QrKyljKz1lW1wieG5cIitkXStlW1wieHNcIisoZCsxKV07ZS50W2UucF09Y31lbHNlLTE9PT1lLnR5cGU/ZS50W2UucF09ZS54czA6ZS5zZXRSYXRpbyYmZS5zZXRSYXRpbyhhKTtlbHNlIGUudFtlLnBdPWIrZS54czA7ZT1lLl9uZXh0fWVsc2UgZm9yKDtlOykyIT09ZS50eXBlP2UudFtlLnBdPWUuYjplLnNldFJhdGlvKGEpLGU9ZS5fbmV4dDtlbHNlIGZvcig7ZTspe2lmKDIhPT1lLnR5cGUpaWYoZS5yJiYtMSE9PWUudHlwZSlpZihiPU1hdGgucm91bmQoZS5zK2UuYyksZS50eXBlKXtpZigxPT09ZS50eXBlKXtmb3IoZD1lLmwsYz1lLnhzMCtiK2UueHMxLGQ9MTtkPGUubDtkKyspYys9ZVtcInhuXCIrZF0rZVtcInhzXCIrKGQrMSldO2UudFtlLnBdPWN9fWVsc2UgZS50W2UucF09YitlLnhzMDtlbHNlIGUudFtlLnBdPWUuZTtlbHNlIGUuc2V0UmF0aW8oYSk7ZT1lLl9uZXh0fX0sai5fZW5hYmxlVHJhbnNmb3Jtcz1mdW5jdGlvbihhKXt0aGlzLl90cmFuc2Zvcm09dGhpcy5fdHJhbnNmb3JtfHxSYSh0aGlzLl90YXJnZXQsZSwhMCksdGhpcy5fdHJhbnNmb3JtVHlwZT10aGlzLl90cmFuc2Zvcm0uc3ZnJiZBYXx8IWEmJjMhPT10aGlzLl90cmFuc2Zvcm1UeXBlPzI6M307dmFyIFlhPWZ1bmN0aW9uKGEpe3RoaXMudFt0aGlzLnBdPXRoaXMuZSx0aGlzLmRhdGEuX2xpbmtDU1NQKHRoaXMsdGhpcy5fbmV4dCxudWxsLCEwKX07ai5fYWRkTGF6eVNldD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fZmlyc3RQVD1uZXcgdGEoYSxiLDAsMCx0aGlzLl9maXJzdFBULDIpO2QuZT1jLGQuc2V0UmF0aW89WWEsZC5kYXRhPXRoaXN9LGouX2xpbmtDU1NQPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhJiYoYiYmKGIuX3ByZXY9YSksYS5fbmV4dCYmKGEuX25leHQuX3ByZXY9YS5fcHJldiksYS5fcHJldj9hLl9wcmV2Ll9uZXh0PWEuX25leHQ6dGhpcy5fZmlyc3RQVD09PWEmJih0aGlzLl9maXJzdFBUPWEuX25leHQsZD0hMCksYz9jLl9uZXh0PWE6ZHx8bnVsbCE9PXRoaXMuX2ZpcnN0UFR8fCh0aGlzLl9maXJzdFBUPWEpLGEuX25leHQ9YixhLl9wcmV2PWMpLGF9LGouX21vZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5fZmlyc3RQVDtiOylcImZ1bmN0aW9uXCI9PXR5cGVvZiBhW2IucF0mJmFbYi5wXT09PU1hdGgucm91bmQmJihiLnI9MSksYj1iLl9uZXh0fSxqLl9raWxsPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmPWI7aWYoYi5hdXRvQWxwaGF8fGIuYWxwaGEpe2Y9e307Zm9yKGQgaW4gYilmW2RdPWJbZF07Zi5vcGFjaXR5PTEsZi5hdXRvQWxwaGEmJihmLnZpc2liaWxpdHk9MSl9Zm9yKGIuY2xhc3NOYW1lJiYoYz10aGlzLl9jbGFzc05hbWVQVCkmJihlPWMueGZpcnN0LGUmJmUuX3ByZXY/dGhpcy5fbGlua0NTU1AoZS5fcHJldixjLl9uZXh0LGUuX3ByZXYuX3ByZXYpOmU9PT10aGlzLl9maXJzdFBUJiYodGhpcy5fZmlyc3RQVD1jLl9uZXh0KSxjLl9uZXh0JiZ0aGlzLl9saW5rQ1NTUChjLl9uZXh0LGMuX25leHQuX25leHQsZS5fcHJldiksdGhpcy5fY2xhc3NOYW1lUFQ9bnVsbCksYz10aGlzLl9maXJzdFBUO2M7KWMucGx1Z2luJiZjLnBsdWdpbiE9PWQmJmMucGx1Z2luLl9raWxsJiYoYy5wbHVnaW4uX2tpbGwoYiksZD1jLnBsdWdpbiksYz1jLl9uZXh0O3JldHVybiBhLnByb3RvdHlwZS5fa2lsbC5jYWxsKHRoaXMsZil9O3ZhciBaYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc7aWYoYS5zbGljZSlmb3IoZT1hLmxlbmd0aDstLWU+LTE7KVphKGFbZV0sYixjKTtlbHNlIGZvcihkPWEuY2hpbGROb2RlcyxlPWQubGVuZ3RoOy0tZT4tMTspZj1kW2VdLGc9Zi50eXBlLGYuc3R5bGUmJihiLnB1c2goY2EoZikpLGMmJmMucHVzaChmKSksMSE9PWcmJjkhPT1nJiYxMSE9PWd8fCFmLmNoaWxkTm9kZXMubGVuZ3RofHxaYShmLGIsYyl9O3JldHVybiBnLmNhc2NhZGVUbz1mdW5jdGlvbihhLGMsZCl7dmFyIGUsZixnLGgsaT1iLnRvKGEsYyxkKSxqPVtpXSxrPVtdLGw9W10sbT1bXSxuPWIuX2ludGVybmFscy5yZXNlcnZlZFByb3BzO2ZvcihhPWkuX3RhcmdldHN8fGkudGFyZ2V0LFphKGEsayxtKSxpLnJlbmRlcihjLCEwLCEwKSxaYShhLGwpLGkucmVuZGVyKDAsITAsITApLGkuX2VuYWJsZWQoITApLGU9bS5sZW5ndGg7LS1lPi0xOylpZihmPWRhKG1bZV0sa1tlXSxsW2VdKSxmLmZpcnN0TVBUKXtmPWYuZGlmcztmb3IoZyBpbiBkKW5bZ10mJihmW2ddPWRbZ10pO2g9e307Zm9yKGcgaW4gZiloW2ddPWtbZV1bZ107ai5wdXNoKGIuZnJvbVRvKG1bZV0sYyxoLGYpKX1yZXR1cm4gan0sYS5hY3RpdmF0ZShbZ10pLGd9LCEwKSxmdW5jdGlvbigpe3ZhciBhPV9nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwicm91bmRQcm9wc1wiLHZlcnNpb246XCIxLjYuMFwiLHByaW9yaXR5Oi0xLEFQSToyLGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl90d2Vlbj1jLCEwfX0pLGI9ZnVuY3Rpb24oYSl7Zm9yKDthOylhLmZ8fGEuYmxvYnx8KGEubT1NYXRoLnJvdW5kKSxhPWEuX25leHR9LGM9YS5wcm90b3R5cGU7Yy5fb25Jbml0QWxsUHJvcHM9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYyxkLGU9dGhpcy5fdHdlZW4sZj1lLnZhcnMucm91bmRQcm9wcy5qb2luP2UudmFycy5yb3VuZFByb3BzOmUudmFycy5yb3VuZFByb3BzLnNwbGl0KFwiLFwiKSxnPWYubGVuZ3RoLGg9e30saT1lLl9wcm9wTG9va3VwLnJvdW5kUHJvcHM7LS1nPi0xOyloW2ZbZ11dPU1hdGgucm91bmQ7Zm9yKGc9Zi5sZW5ndGg7LS1nPi0xOylmb3IoYT1mW2ddLGM9ZS5fZmlyc3RQVDtjOylkPWMuX25leHQsYy5wZz9jLnQuX21vZChoKTpjLm49PT1hJiYoMj09PWMuZiYmYy50P2IoYy50Ll9maXJzdFBUKToodGhpcy5fYWRkKGMudCxhLGMucyxjLmMpLGQmJihkLl9wcmV2PWMuX3ByZXYpLGMuX3ByZXY/Yy5fcHJldi5fbmV4dD1kOmUuX2ZpcnN0UFQ9PT1jJiYoZS5fZmlyc3RQVD1kKSxjLl9uZXh0PWMuX3ByZXY9bnVsbCxlLl9wcm9wTG9va3VwW2FdPWkpKSxjPWQ7cmV0dXJuITF9LGMuX2FkZD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLl9hZGRUd2VlbihhLGIsYyxjK2QsYixNYXRoLnJvdW5kKSx0aGlzLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGIpfX0oKSxmdW5jdGlvbigpe19nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwiYXR0clwiLEFQSToyLHZlcnNpb246XCIwLjYuMFwiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnNldEF0dHJpYnV0ZSlyZXR1cm4hMTtmb3IoZSBpbiBiKWY9YltlXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiYoZj1mKGQsYSkpLHRoaXMuX2FkZFR3ZWVuKGEsXCJzZXRBdHRyaWJ1dGVcIixhLmdldEF0dHJpYnV0ZShlKStcIlwiLGYrXCJcIixlLCExLGUpLHRoaXMuX292ZXJ3cml0ZVByb3BzLnB1c2goZSk7cmV0dXJuITB9fSl9KCksX2dzU2NvcGUuX2dzRGVmaW5lLnBsdWdpbih7cHJvcE5hbWU6XCJkaXJlY3Rpb25hbFJvdGF0aW9uXCIsdmVyc2lvbjpcIjAuMy4wXCIsQVBJOjIsaW5pdDpmdW5jdGlvbihhLGIsYyxkKXtcIm9iamVjdFwiIT10eXBlb2YgYiYmKGI9e3JvdGF0aW9uOmJ9KSx0aGlzLmZpbmFscz17fTt2YXIgZSxmLGcsaCxpLGosaz1iLnVzZVJhZGlhbnM9PT0hMD8yKk1hdGguUEk6MzYwLGw9MWUtNjtmb3IoZSBpbiBiKVwidXNlUmFkaWFuc1wiIT09ZSYmKGg9YltlXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYoaD1oKGQsYSkpLGo9KGgrXCJcIikuc3BsaXQoXCJfXCIpLGY9alswXSxnPXBhcnNlRmxvYXQoXCJmdW5jdGlvblwiIT10eXBlb2YgYVtlXT9hW2VdOmFbZS5pbmRleE9mKFwic2V0XCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhW1wiZ2V0XCIrZS5zdWJzdHIoMyldP2U6XCJnZXRcIitlLnN1YnN0cigzKV0oKSksaD10aGlzLmZpbmFsc1tlXT1cInN0cmluZ1wiPT10eXBlb2YgZiYmXCI9XCI9PT1mLmNoYXJBdCgxKT9nK3BhcnNlSW50KGYuY2hhckF0KDApK1wiMVwiLDEwKSpOdW1iZXIoZi5zdWJzdHIoMikpOk51bWJlcihmKXx8MCxpPWgtZyxqLmxlbmd0aCYmKGY9ai5qb2luKFwiX1wiKSwtMSE9PWYuaW5kZXhPZihcInNob3J0XCIpJiYoaSU9ayxpIT09aSUoay8yKSYmKGk9MD5pP2krazppLWspKSwtMSE9PWYuaW5kZXhPZihcIl9jd1wiKSYmMD5pP2k9KGkrOTk5OTk5OTk5OSprKSVrLShpL2t8MCkqazotMSE9PWYuaW5kZXhPZihcImNjd1wiKSYmaT4wJiYoaT0oaS05OTk5OTk5OTk5KmspJWstKGkva3wwKSprKSksKGk+bHx8LWw+aSkmJih0aGlzLl9hZGRUd2VlbihhLGUsZyxnK2ksZSksdGhpcy5fb3ZlcndyaXRlUHJvcHMucHVzaChlKSkpO3JldHVybiEwfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMSE9PWEpdGhpcy5fc3VwZXIuc2V0UmF0aW8uY2FsbCh0aGlzLGEpO2Vsc2UgZm9yKGI9dGhpcy5fZmlyc3RQVDtiOyliLmY/Yi50W2IucF0odGhpcy5maW5hbHNbYi5wXSk6Yi50W2IucF09dGhpcy5maW5hbHNbYi5wXSxiPWIuX25leHR9fSkuX2F1dG9DU1M9ITAsX2dzU2NvcGUuX2dzRGVmaW5lKFwiZWFzaW5nLkJhY2tcIixbXCJlYXNpbmcuRWFzZVwiXSxmdW5jdGlvbihhKXt2YXIgYixjLGQsZT1fZ3NTY29wZS5HcmVlblNvY2tHbG9iYWxzfHxfZ3NTY29wZSxmPWUuY29tLmdyZWVuc29jayxnPTIqTWF0aC5QSSxoPU1hdGguUEkvMixpPWYuX2NsYXNzLGo9ZnVuY3Rpb24oYixjKXt2YXIgZD1pKFwiZWFzaW5nLlwiK2IsZnVuY3Rpb24oKXt9LCEwKSxlPWQucHJvdG90eXBlPW5ldyBhO3JldHVybiBlLmNvbnN0cnVjdG9yPWQsZS5nZXRSYXRpbz1jLGR9LGs9YS5yZWdpc3Rlcnx8ZnVuY3Rpb24oKXt9LGw9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1pKFwiZWFzaW5nLlwiK2Ese2Vhc2VPdXQ6bmV3IGIsZWFzZUluOm5ldyBjLGVhc2VJbk91dDpuZXcgZH0sITApO3JldHVybiBrKGYsYSksZn0sbT1mdW5jdGlvbihhLGIsYyl7dGhpcy50PWEsdGhpcy52PWIsYyYmKHRoaXMubmV4dD1jLGMucHJldj10aGlzLHRoaXMuYz1jLnYtYix0aGlzLmdhcD1jLnQtYSl9LG49ZnVuY3Rpb24oYixjKXt2YXIgZD1pKFwiZWFzaW5nLlwiK2IsZnVuY3Rpb24oYSl7dGhpcy5fcDE9YXx8MD09PWE/YToxLjcwMTU4LHRoaXMuX3AyPTEuNTI1KnRoaXMuX3AxfSwhMCksZT1kLnByb3RvdHlwZT1uZXcgYTtyZXR1cm4gZS5jb25zdHJ1Y3Rvcj1kLGUuZ2V0UmF0aW89YyxlLmNvbmZpZz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGQoYSl9LGR9LG89bChcIkJhY2tcIixuKFwiQmFja091dFwiLGZ1bmN0aW9uKGEpe3JldHVybihhLT0xKSphKigodGhpcy5fcDErMSkqYSt0aGlzLl9wMSkrMX0pLG4oXCJCYWNrSW5cIixmdW5jdGlvbihhKXtyZXR1cm4gYSphKigodGhpcy5fcDErMSkqYS10aGlzLl9wMSl9KSxuKFwiQmFja0luT3V0XCIsZnVuY3Rpb24oYSl7cmV0dXJuKGEqPTIpPDE/LjUqYSphKigodGhpcy5fcDIrMSkqYS10aGlzLl9wMik6LjUqKChhLT0yKSphKigodGhpcy5fcDIrMSkqYSt0aGlzLl9wMikrMil9KSkscD1pKFwiZWFzaW5nLlNsb3dNb1wiLGZ1bmN0aW9uKGEsYixjKXtiPWJ8fDA9PT1iP2I6LjcsbnVsbD09YT9hPS43OmE+MSYmKGE9MSksdGhpcy5fcD0xIT09YT9iOjAsdGhpcy5fcDE9KDEtYSkvMix0aGlzLl9wMj1hLHRoaXMuX3AzPXRoaXMuX3AxK3RoaXMuX3AyLHRoaXMuX2NhbGNFbmQ9Yz09PSEwfSwhMCkscT1wLnByb3RvdHlwZT1uZXcgYTtyZXR1cm4gcS5jb25zdHJ1Y3Rvcj1wLHEuZ2V0UmF0aW89ZnVuY3Rpb24oYSl7dmFyIGI9YSsoLjUtYSkqdGhpcy5fcDtyZXR1cm4gYTx0aGlzLl9wMT90aGlzLl9jYWxjRW5kPzEtKGE9MS1hL3RoaXMuX3AxKSphOmItKGE9MS1hL3RoaXMuX3AxKSphKmEqYSpiOmE+dGhpcy5fcDM/dGhpcy5fY2FsY0VuZD8xLShhPShhLXRoaXMuX3AzKS90aGlzLl9wMSkqYTpiKyhhLWIpKihhPShhLXRoaXMuX3AzKS90aGlzLl9wMSkqYSphKmE6dGhpcy5fY2FsY0VuZD8xOmJ9LHAuZWFzZT1uZXcgcCguNywuNykscS5jb25maWc9cC5jb25maWc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgcChhLGIsYyl9LGI9aShcImVhc2luZy5TdGVwcGVkRWFzZVwiLGZ1bmN0aW9uKGEpe2E9YXx8MSx0aGlzLl9wMT0xL2EsdGhpcy5fcDI9YSsxfSwhMCkscT1iLnByb3RvdHlwZT1uZXcgYSxxLmNvbnN0cnVjdG9yPWIscS5nZXRSYXRpbz1mdW5jdGlvbihhKXtyZXR1cm4gMD5hP2E9MDphPj0xJiYoYT0uOTk5OTk5OTk5KSwodGhpcy5fcDIqYT4+MCkqdGhpcy5fcDF9LHEuY29uZmlnPWIuY29uZmlnPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0sYz1pKFwiZWFzaW5nLlJvdWdoRWFzZVwiLGZ1bmN0aW9uKGIpe2I9Ynx8e307Zm9yKHZhciBjLGQsZSxmLGcsaCxpPWIudGFwZXJ8fFwibm9uZVwiLGo9W10saz0wLGw9MHwoYi5wb2ludHN8fDIwKSxuPWwsbz1iLnJhbmRvbWl6ZSE9PSExLHA9Yi5jbGFtcD09PSEwLHE9Yi50ZW1wbGF0ZSBpbnN0YW5jZW9mIGE/Yi50ZW1wbGF0ZTpudWxsLHI9XCJudW1iZXJcIj09dHlwZW9mIGIuc3RyZW5ndGg/LjQqYi5zdHJlbmd0aDouNDstLW4+LTE7KWM9bz9NYXRoLnJhbmRvbSgpOjEvbCpuLGQ9cT9xLmdldFJhdGlvKGMpOmMsXCJub25lXCI9PT1pP2U9cjpcIm91dFwiPT09aT8oZj0xLWMsZT1mKmYqcik6XCJpblwiPT09aT9lPWMqYypyOi41PmM/KGY9MipjLGU9ZipmKi41KnIpOihmPTIqKDEtYyksZT1mKmYqLjUqciksbz9kKz1NYXRoLnJhbmRvbSgpKmUtLjUqZTpuJTI/ZCs9LjUqZTpkLT0uNSplLHAmJihkPjE/ZD0xOjA+ZCYmKGQ9MCkpLGpbaysrXT17eDpjLHk6ZH07Zm9yKGouc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLngtYi54fSksaD1uZXcgbSgxLDEsbnVsbCksbj1sOy0tbj4tMTspZz1qW25dLGg9bmV3IG0oZy54LGcueSxoKTt0aGlzLl9wcmV2PW5ldyBtKDAsMCwwIT09aC50P2g6aC5uZXh0KX0sITApLHE9Yy5wcm90b3R5cGU9bmV3IGEscS5jb25zdHJ1Y3Rvcj1jLHEuZ2V0UmF0aW89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcHJldjtpZihhPmIudCl7Zm9yKDtiLm5leHQmJmE+PWIudDspYj1iLm5leHQ7Yj1iLnByZXZ9ZWxzZSBmb3IoO2IucHJldiYmYTw9Yi50OyliPWIucHJldjtyZXR1cm4gdGhpcy5fcHJldj1iLGIudisoYS1iLnQpL2IuZ2FwKmIuY30scS5jb25maWc9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBjKGEpfSxjLmVhc2U9bmV3IGMsbChcIkJvdW5jZVwiLGooXCJCb3VuY2VPdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gMS8yLjc1PmE/Ny41NjI1KmEqYToyLzIuNzU+YT83LjU2MjUqKGEtPTEuNS8yLjc1KSphKy43NToyLjUvMi43NT5hPzcuNTYyNSooYS09Mi4yNS8yLjc1KSphKy45Mzc1OjcuNTYyNSooYS09Mi42MjUvMi43NSkqYSsuOTg0Mzc1fSksaihcIkJvdW5jZUluXCIsZnVuY3Rpb24oYSl7cmV0dXJuKGE9MS1hKTwxLzIuNzU/MS03LjU2MjUqYSphOjIvMi43NT5hPzEtKDcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1KToyLjUvMi43NT5hPzEtKDcuNTYyNSooYS09Mi4yNS8yLjc1KSphKy45Mzc1KToxLSg3LjU2MjUqKGEtPTIuNjI1LzIuNzUpKmErLjk4NDM3NSl9KSxqKFwiQm91bmNlSW5PdXRcIixmdW5jdGlvbihhKXt2YXIgYj0uNT5hO3JldHVybiBhPWI/MS0yKmE6MiphLTEsYT0xLzIuNzU+YT83LjU2MjUqYSphOjIvMi43NT5hPzcuNTYyNSooYS09MS41LzIuNzUpKmErLjc1OjIuNS8yLjc1PmE/Ny41NjI1KihhLT0yLjI1LzIuNzUpKmErLjkzNzU6Ny41NjI1KihhLT0yLjYyNS8yLjc1KSphKy45ODQzNzUsYj8uNSooMS1hKTouNSphKy41fSkpLGwoXCJDaXJjXCIsaihcIkNpcmNPdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zcXJ0KDEtKGEtPTEpKmEpfSksaihcIkNpcmNJblwiLGZ1bmN0aW9uKGEpe3JldHVybi0oTWF0aC5zcXJ0KDEtYSphKS0xKX0pLGooXCJDaXJjSW5PdXRcIixmdW5jdGlvbihhKXtyZXR1cm4oYSo9Mik8MT8tLjUqKE1hdGguc3FydCgxLWEqYSktMSk6LjUqKE1hdGguc3FydCgxLShhLT0yKSphKSsxKX0pKSxkPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1pKFwiZWFzaW5nLlwiK2IsZnVuY3Rpb24oYSxiKXt0aGlzLl9wMT1hPj0xP2E6MSx0aGlzLl9wMj0oYnx8ZCkvKDE+YT9hOjEpLHRoaXMuX3AzPXRoaXMuX3AyL2cqKE1hdGguYXNpbigxL3RoaXMuX3AxKXx8MCksdGhpcy5fcDI9Zy90aGlzLl9wMn0sITApLGY9ZS5wcm90b3R5cGU9bmV3IGE7cmV0dXJuIGYuY29uc3RydWN0b3I9ZSxmLmdldFJhdGlvPWMsZi5jb25maWc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGUoYSxiKX0sZX0sbChcIkVsYXN0aWNcIixkKFwiRWxhc3RpY091dFwiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9wMSpNYXRoLnBvdygyLC0xMCphKSpNYXRoLnNpbigoYS10aGlzLl9wMykqdGhpcy5fcDIpKzF9LC4zKSxkKFwiRWxhc3RpY0luXCIsZnVuY3Rpb24oYSl7cmV0dXJuLSh0aGlzLl9wMSpNYXRoLnBvdygyLDEwKihhLT0xKSkqTWF0aC5zaW4oKGEtdGhpcy5fcDMpKnRoaXMuX3AyKSl9LC4zKSxkKFwiRWxhc3RpY0luT3V0XCIsZnVuY3Rpb24oYSl7cmV0dXJuKGEqPTIpPDE/LS41Kih0aGlzLl9wMSpNYXRoLnBvdygyLDEwKihhLT0xKSkqTWF0aC5zaW4oKGEtdGhpcy5fcDMpKnRoaXMuX3AyKSk6dGhpcy5fcDEqTWF0aC5wb3coMiwtMTAqKGEtPTEpKSpNYXRoLnNpbigoYS10aGlzLl9wMykqdGhpcy5fcDIpKi41KzF9LC40NSkpLGwoXCJFeHBvXCIsaihcIkV4cG9PdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gMS1NYXRoLnBvdygyLC0xMCphKX0pLGooXCJFeHBvSW5cIixmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5wb3coMiwxMCooYS0xKSktLjAwMX0pLGooXCJFeHBvSW5PdXRcIixmdW5jdGlvbihhKXtyZXR1cm4oYSo9Mik8MT8uNSpNYXRoLnBvdygyLDEwKihhLTEpKTouNSooMi1NYXRoLnBvdygyLC0xMCooYS0xKSkpfSkpLGwoXCJTaW5lXCIsaihcIlNpbmVPdXRcIixmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zaW4oYSpoKX0pLGooXCJTaW5lSW5cIixmdW5jdGlvbihhKXtyZXR1cm4tTWF0aC5jb3MoYSpoKSsxfSksaihcIlNpbmVJbk91dFwiLGZ1bmN0aW9uKGEpe3JldHVybi0uNSooTWF0aC5jb3MoTWF0aC5QSSphKS0xKX0pKSxpKFwiZWFzaW5nLkVhc2VMb29rdXBcIix7ZmluZDpmdW5jdGlvbihiKXtyZXR1cm4gYS5tYXBbYl19fSwhMCksayhlLlNsb3dNbyxcIlNsb3dNb1wiLFwiZWFzZSxcIiksayhjLFwiUm91Z2hFYXNlXCIsXCJlYXNlLFwiKSxrKGIsXCJTdGVwcGVkRWFzZVwiLFwiZWFzZSxcIiksb30sITApfSksX2dzU2NvcGUuX2dzRGVmaW5lJiZfZ3NTY29wZS5fZ3NRdWV1ZS5wb3AoKSgpLGZ1bmN0aW9uKGEsYil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGM9e30sZD1hLmRvY3VtZW50LGU9YS5HcmVlblNvY2tHbG9iYWxzPWEuR3JlZW5Tb2NrR2xvYmFsc3x8YTtpZighZS5Ud2VlbkxpdGUpe3ZhciBmLGcsaCxpLGosaz1mdW5jdGlvbihhKXt2YXIgYixjPWEuc3BsaXQoXCIuXCIpLGQ9ZTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKWRbY1tiXV09ZD1kW2NbYl1dfHx7fTtyZXR1cm4gZH0sbD1rKFwiY29tLmdyZWVuc29ja1wiKSxtPTFlLTEwLG49ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkPWEubGVuZ3RoO2ZvcihiPTA7YiE9PWQ7Yy5wdXNoKGFbYisrXSkpO3JldHVybiBjfSxvPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxiPWEuY2FsbChbXSk7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBudWxsIT1jJiYoYyBpbnN0YW5jZW9mIEFycmF5fHxcIm9iamVjdFwiPT10eXBlb2YgYyYmISFjLnB1c2gmJmEuY2FsbChjKT09PWIpfX0oKSxxPXt9LHI9ZnVuY3Rpb24oZCxmLGcsaCl7dGhpcy5zYz1xW2RdP3FbZF0uc2M6W10scVtkXT10aGlzLHRoaXMuZ3NDbGFzcz1udWxsLHRoaXMuZnVuYz1nO3ZhciBpPVtdO3RoaXMuY2hlY2s9ZnVuY3Rpb24oail7Zm9yKHZhciBsLG0sbixvLHAscz1mLmxlbmd0aCx0PXM7LS1zPi0xOykobD1xW2Zbc11dfHxuZXcgcihmW3NdLFtdKSkuZ3NDbGFzcz8oaVtzXT1sLmdzQ2xhc3MsdC0tKTpqJiZsLnNjLnB1c2godGhpcyk7aWYoMD09PXQmJmcpe2lmKG09KFwiY29tLmdyZWVuc29jay5cIitkKS5zcGxpdChcIi5cIiksbj1tLnBvcCgpLG89ayhtLmpvaW4oXCIuXCIpKVtuXT10aGlzLmdzQ2xhc3M9Zy5hcHBseShnLGkpLGgpaWYoZVtuXT1jW25dPW8scD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cywhcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZSgoYS5HcmVlblNvY2tBTURQYXRoP2EuR3JlZW5Tb2NrQU1EUGF0aCtcIi9cIjpcIlwiKStkLnNwbGl0KFwiLlwiKS5wb3AoKSxbXSxmdW5jdGlvbigpe3JldHVybiBvfSk7ZWxzZSBpZihwKWlmKGQ9PT1iKXttb2R1bGUuZXhwb3J0cz1jW2JdPW87Zm9yKHMgaW4gYylvW3NdPWNbc119ZWxzZSBjW2JdJiYoY1tiXVtuXT1vKTtmb3Iocz0wO3M8dGhpcy5zYy5sZW5ndGg7cysrKXRoaXMuc2Nbc10uY2hlY2soKX19LHRoaXMuY2hlY2soITApfSxzPWEuX2dzRGVmaW5lPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgcihhLGIsYyxkKX0sdD1sLl9jbGFzcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9Ynx8ZnVuY3Rpb24oKXt9LHMoYSxbXSxmdW5jdGlvbigpe3JldHVybiBifSxjKSxifTtzLmdsb2JhbHM9ZTt2YXIgdT1bMCwwLDEsMV0sdj10KFwiZWFzaW5nLkVhc2VcIixmdW5jdGlvbihhLGIsYyxkKXt0aGlzLl9mdW5jPWEsdGhpcy5fdHlwZT1jfHwwLHRoaXMuX3Bvd2VyPWR8fDAsdGhpcy5fcGFyYW1zPWI/dS5jb25jYXQoYik6dX0sITApLHc9di5tYXA9e30seD12LnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpPWIuc3BsaXQoXCIsXCIpLGo9aS5sZW5ndGgsaz0oY3x8XCJlYXNlSW4sZWFzZU91dCxlYXNlSW5PdXRcIikuc3BsaXQoXCIsXCIpOy0taj4tMTspZm9yKGY9aVtqXSxlPWQ/dChcImVhc2luZy5cIitmLG51bGwsITApOmwuZWFzaW5nW2ZdfHx7fSxnPWsubGVuZ3RoOy0tZz4tMTspaD1rW2ddLHdbZitcIi5cIitoXT13W2grZl09ZVtoXT1hLmdldFJhdGlvP2E6YVtoXXx8bmV3IGF9O2ZvcihoPXYucHJvdG90eXBlLGguX2NhbGNFbmQ9ITEsaC5nZXRSYXRpbz1mdW5jdGlvbihhKXtpZih0aGlzLl9mdW5jKXJldHVybiB0aGlzLl9wYXJhbXNbMF09YSx0aGlzLl9mdW5jLmFwcGx5KG51bGwsdGhpcy5fcGFyYW1zKTt2YXIgYj10aGlzLl90eXBlLGM9dGhpcy5fcG93ZXIsZD0xPT09Yj8xLWE6Mj09PWI/YTouNT5hPzIqYToyKigxLWEpO3JldHVybiAxPT09Yz9kKj1kOjI9PT1jP2QqPWQqZDozPT09Yz9kKj1kKmQqZDo0PT09YyYmKGQqPWQqZCpkKmQpLDE9PT1iPzEtZDoyPT09Yj9kOi41PmE/ZC8yOjEtZC8yfSxmPVtcIkxpbmVhclwiLFwiUXVhZFwiLFwiQ3ViaWNcIixcIlF1YXJ0XCIsXCJRdWludCxTdHJvbmdcIl0sZz1mLmxlbmd0aDstLWc+LTE7KWg9ZltnXStcIixQb3dlclwiK2cseChuZXcgdihudWxsLG51bGwsMSxnKSxoLFwiZWFzZU91dFwiLCEwKSx4KG5ldyB2KG51bGwsbnVsbCwyLGcpLGgsXCJlYXNlSW5cIisoMD09PWc/XCIsZWFzZU5vbmVcIjpcIlwiKSkseChuZXcgdihudWxsLG51bGwsMyxnKSxoLFwiZWFzZUluT3V0XCIpO3cubGluZWFyPWwuZWFzaW5nLkxpbmVhci5lYXNlSW4sdy5zd2luZz1sLmVhc2luZy5RdWFkLmVhc2VJbk91dDt2YXIgeT10KFwiZXZlbnRzLkV2ZW50RGlzcGF0Y2hlclwiLGZ1bmN0aW9uKGEpe3RoaXMuX2xpc3RlbmVycz17fSx0aGlzLl9ldmVudFRhcmdldD1hfHx0aGlzfSk7aD15LnByb3RvdHlwZSxoLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtlPWV8fDA7dmFyIGYsZyxoPXRoaXMuX2xpc3RlbmVyc1thXSxrPTA7Zm9yKHRoaXMhPT1pfHxqfHxpLndha2UoKSxudWxsPT1oJiYodGhpcy5fbGlzdGVuZXJzW2FdPWg9W10pLGc9aC5sZW5ndGg7LS1nPi0xOylmPWhbZ10sZi5jPT09YiYmZi5zPT09Yz9oLnNwbGljZShnLDEpOjA9PT1rJiZmLnByPGUmJihrPWcrMSk7aC5zcGxpY2UoaywwLHtjOmIsczpjLHVwOmQscHI6ZX0pfSxoLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMuX2xpc3RlbmVyc1thXTtpZihkKWZvcihjPWQubGVuZ3RoOy0tYz4tMTspaWYoZFtjXS5jPT09YilyZXR1cm4gdm9pZCBkLnNwbGljZShjLDEpfSxoLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpcy5fbGlzdGVuZXJzW2FdO2lmKGUpZm9yKGI9ZS5sZW5ndGgsYj4xJiYoZT1lLnNsaWNlKDApKSxjPXRoaXMuX2V2ZW50VGFyZ2V0Oy0tYj4tMTspZD1lW2JdLGQmJihkLnVwP2QuYy5jYWxsKGQuc3x8Yyx7dHlwZTphLHRhcmdldDpjfSk6ZC5jLmNhbGwoZC5zfHxjKSl9O3ZhciB6PWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lLEE9YS5jYW5jZWxBbmltYXRpb25GcmFtZSxCPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxDPUIoKTtmb3IoZj1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl0sZz1mLmxlbmd0aDstLWc+LTEmJiF6Oyl6PWFbZltnXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxBPWFbZltnXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHxhW2ZbZ10rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07dChcIlRpY2tlclwiLGZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxrPXRoaXMsbD1CKCksbj1iIT09ITEmJno/XCJhdXRvXCI6ITEscD01MDAscT0zMyxyPVwidGlja1wiLHM9ZnVuY3Rpb24oYSl7dmFyIGIsZCxpPUIoKS1DO2k+cCYmKGwrPWktcSksQys9aSxrLnRpbWU9KEMtbCkvMWUzLGI9ay50aW1lLWgsKCFjfHxiPjB8fGE9PT0hMCkmJihrLmZyYW1lKyssaCs9YisoYj49Zz8uMDA0OmctYiksZD0hMCksYSE9PSEwJiYoZj1lKHMpKSxkJiZrLmRpc3BhdGNoRXZlbnQocil9O3kuY2FsbChrKSxrLnRpbWU9ay5mcmFtZT0wLGsudGljaz1mdW5jdGlvbigpe3MoITApfSxrLmxhZ1Ntb290aGluZz1mdW5jdGlvbihhLGIpe3A9YXx8MS9tLHE9TWF0aC5taW4oYixwLDApfSxrLnNsZWVwPWZ1bmN0aW9uKCl7bnVsbCE9ZiYmKG4mJkE/QShmKTpjbGVhclRpbWVvdXQoZiksZT1vLGY9bnVsbCxrPT09aSYmKGo9ITEpKX0say53YWtlPWZ1bmN0aW9uKGEpe251bGwhPT1mP2suc2xlZXAoKTphP2wrPS1DKyhDPUIoKSk6ay5mcmFtZT4xMCYmKEM9QigpLXArNSksZT0wPT09Yz9vOm4mJno/ejpmdW5jdGlvbihhKXtyZXR1cm4gc2V0VGltZW91dChhLDFlMyooaC1rLnRpbWUpKzF8MCl9LGs9PT1pJiYoaj0hMCkscygyKX0say5mcHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxnPTEvKGN8fDYwKSxoPXRoaXMudGltZStnLHZvaWQgay53YWtlKCkpOmN9LGsudXNlUkFGPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrLnNsZWVwKCksbj1hLHZvaWQgay5mcHMoYykpOm59LGsuZnBzKGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImF1dG9cIj09PW4mJmsuZnJhbWU8NSYmXCJoaWRkZW5cIiE9PWQudmlzaWJpbGl0eVN0YXRlJiZrLnVzZVJBRighMSl9LDE1MDApfSksaD1sLlRpY2tlci5wcm90b3R5cGU9bmV3IGwuZXZlbnRzLkV2ZW50RGlzcGF0Y2hlcixoLmNvbnN0cnVjdG9yPWwuVGlja2VyO3ZhciBEPXQoXCJjb3JlLkFuaW1hdGlvblwiLGZ1bmN0aW9uKGEsYil7aWYodGhpcy52YXJzPWI9Ynx8e30sdGhpcy5fZHVyYXRpb249dGhpcy5fdG90YWxEdXJhdGlvbj1hfHwwLHRoaXMuX2RlbGF5PU51bWJlcihiLmRlbGF5KXx8MCx0aGlzLl90aW1lU2NhbGU9MSx0aGlzLl9hY3RpdmU9Yi5pbW1lZGlhdGVSZW5kZXI9PT0hMCx0aGlzLmRhdGE9Yi5kYXRhLHRoaXMuX3JldmVyc2VkPWIucmV2ZXJzZWQ9PT0hMCxXKXtqfHxpLndha2UoKTt2YXIgYz10aGlzLnZhcnMudXNlRnJhbWVzP1Y6VztjLmFkZCh0aGlzLGMuX3RpbWUpLHRoaXMudmFycy5wYXVzZWQmJnRoaXMucGF1c2VkKCEwKX19KTtpPUQudGlja2VyPW5ldyBsLlRpY2tlcixoPUQucHJvdG90eXBlLGguX2RpcnR5PWguX2djPWguX2luaXR0ZWQ9aC5fcGF1c2VkPSExLGguX3RvdGFsVGltZT1oLl90aW1lPTAsaC5fcmF3UHJldlRpbWU9LTEsaC5fbmV4dD1oLl9sYXN0PWguX29uVXBkYXRlPWguX3RpbWVsaW5lPWgudGltZWxpbmU9bnVsbCxoLl9wYXVzZWQ9ITE7dmFyIEU9ZnVuY3Rpb24oKXtqJiZCKCktQz4yZTMmJmkud2FrZSgpLHNldFRpbWVvdXQoRSwyZTMpfTtFKCksaC5wbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJnRoaXMuc2VlayhhLGIpLHRoaXMucmV2ZXJzZWQoITEpLnBhdXNlZCghMSl9LGgucGF1c2U9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YSYmdGhpcy5zZWVrKGEsYiksdGhpcy5wYXVzZWQoITApfSxoLnJlc3VtZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hJiZ0aGlzLnNlZWsoYSxiKSx0aGlzLnBhdXNlZCghMSl9LGguc2Vlaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRvdGFsVGltZShOdW1iZXIoYSksYiE9PSExKX0saC5yZXN0YXJ0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucmV2ZXJzZWQoITEpLnBhdXNlZCghMSkudG90YWxUaW1lKGE/LXRoaXMuX2RlbGF5OjAsYiE9PSExLCEwKX0saC5yZXZlcnNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJnRoaXMuc2VlayhhfHx0aGlzLnRvdGFsRHVyYXRpb24oKSxiKSx0aGlzLnJldmVyc2VkKCEwKS5wYXVzZWQoITEpfSxoLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7fSxoLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZT10aGlzLl90b3RhbFRpbWU9MCx0aGlzLl9pbml0dGVkPXRoaXMuX2djPSExLHRoaXMuX3Jhd1ByZXZUaW1lPS0xLCh0aGlzLl9nY3x8IXRoaXMudGltZWxpbmUpJiZ0aGlzLl9lbmFibGVkKCEwKSx0aGlzfSxoLmlzQWN0aXZlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLl90aW1lbGluZSxjPXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4hYnx8IXRoaXMuX2djJiYhdGhpcy5fcGF1c2VkJiZiLmlzQWN0aXZlKCkmJihhPWIucmF3VGltZSghMCkpPj1jJiZhPGMrdGhpcy50b3RhbER1cmF0aW9uKCkvdGhpcy5fdGltZVNjYWxlfSxoLl9lbmFibGVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGp8fGkud2FrZSgpLHRoaXMuX2djPSFhLHRoaXMuX2FjdGl2ZT10aGlzLmlzQWN0aXZlKCksYiE9PSEwJiYoYSYmIXRoaXMudGltZWxpbmU/dGhpcy5fdGltZWxpbmUuYWRkKHRoaXMsdGhpcy5fc3RhcnRUaW1lLXRoaXMuX2RlbGF5KTohYSYmdGhpcy50aW1lbGluZSYmdGhpcy5fdGltZWxpbmUuX3JlbW92ZSh0aGlzLCEwKSksITF9LGguX2tpbGw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZW5hYmxlZCghMSwhMSl9LGgua2lsbD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9raWxsKGEsYiksdGhpc30saC5fdW5jYWNoZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9YT90aGlzOnRoaXMudGltZWxpbmU7YjspYi5fZGlydHk9ITAsYj1iLnRpbWVsaW5lO3JldHVybiB0aGlzfSxoLl9zd2FwU2VsZkluUGFyYW1zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPWEuY29uY2F0KCk7LS1iPi0xOylcIntzZWxmfVwiPT09YVtiXSYmKGNbYl09dGhpcyk7cmV0dXJuIGN9LGguX2NhbGxiYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmFycyxjPWJbYV0sZD1iW2ErXCJQYXJhbXNcIl0sZT1iW2ErXCJTY29wZVwiXXx8Yi5jYWxsYmFja1Njb3BlfHx0aGlzLGY9ZD9kLmxlbmd0aDowO3N3aXRjaChmKXtjYXNlIDA6Yy5jYWxsKGUpO2JyZWFrO2Nhc2UgMTpjLmNhbGwoZSxkWzBdKTticmVhaztjYXNlIDI6Yy5jYWxsKGUsZFswXSxkWzFdKTticmVhaztkZWZhdWx0OmMuYXBwbHkoZSxkKX19LGguZXZlbnRDYWxsYmFjaz1mdW5jdGlvbihhLGIsYyxkKXtpZihcIm9uXCI9PT0oYXx8XCJcIikuc3Vic3RyKDAsMikpe3ZhciBlPXRoaXMudmFycztpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZVthXTtudWxsPT1iP2RlbGV0ZSBlW2FdOihlW2FdPWIsZVthK1wiUGFyYW1zXCJdPXAoYykmJi0xIT09Yy5qb2luKFwiXCIpLmluZGV4T2YoXCJ7c2VsZn1cIik/dGhpcy5fc3dhcFNlbGZJblBhcmFtcyhjKTpjLGVbYStcIlNjb3BlXCJdPWQpLFwib25VcGRhdGVcIj09PWEmJih0aGlzLl9vblVwZGF0ZT1iKX1yZXR1cm4gdGhpc30saC5kZWxheT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuc3RhcnRUaW1lKHRoaXMuX3N0YXJ0VGltZSthLXRoaXMuX2RlbGF5KSx0aGlzLl9kZWxheT1hLHRoaXMpOnRoaXMuX2RlbGF5fSxoLmR1cmF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kdXJhdGlvbj10aGlzLl90b3RhbER1cmF0aW9uPWEsdGhpcy5fdW5jYWNoZSghMCksdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuX3RpbWU+MCYmdGhpcy5fdGltZTx0aGlzLl9kdXJhdGlvbiYmMCE9PWEmJnRoaXMudG90YWxUaW1lKHRoaXMuX3RvdGFsVGltZSooYS90aGlzLl9kdXJhdGlvbiksITApLHRoaXMpOih0aGlzLl9kaXJ0eT0hMSx0aGlzLl9kdXJhdGlvbil9LGgudG90YWxEdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZGlydHk9ITEsYXJndW1lbnRzLmxlbmd0aD90aGlzLmR1cmF0aW9uKGEpOnRoaXMuX3RvdGFsRHVyYXRpb259LGgudGltZT1mdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kaXJ0eSYmdGhpcy50b3RhbER1cmF0aW9uKCksdGhpcy50b3RhbFRpbWUoYT50aGlzLl9kdXJhdGlvbj90aGlzLl9kdXJhdGlvbjphLGIpKTp0aGlzLl90aW1lfSxoLnRvdGFsVGltZT1mdW5jdGlvbihhLGIsYyl7aWYoanx8aS53YWtlKCksIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3RvdGFsVGltZTtpZih0aGlzLl90aW1lbGluZSl7aWYoMD5hJiYhYyYmKGErPXRoaXMudG90YWxEdXJhdGlvbigpKSx0aGlzLl90aW1lbGluZS5zbW9vdGhDaGlsZFRpbWluZyl7dGhpcy5fZGlydHkmJnRoaXMudG90YWxEdXJhdGlvbigpO3ZhciBkPXRoaXMuX3RvdGFsRHVyYXRpb24sZT10aGlzLl90aW1lbGluZTtpZihhPmQmJiFjJiYoYT1kKSx0aGlzLl9zdGFydFRpbWU9KHRoaXMuX3BhdXNlZD90aGlzLl9wYXVzZVRpbWU6ZS5fdGltZSktKHRoaXMuX3JldmVyc2VkP2QtYTphKS90aGlzLl90aW1lU2NhbGUsZS5fZGlydHl8fHRoaXMuX3VuY2FjaGUoITEpLGUuX3RpbWVsaW5lKWZvcig7ZS5fdGltZWxpbmU7KWUuX3RpbWVsaW5lLl90aW1lIT09KGUuX3N0YXJ0VGltZStlLl90b3RhbFRpbWUpL2UuX3RpbWVTY2FsZSYmZS50b3RhbFRpbWUoZS5fdG90YWxUaW1lLCEwKSxlPWUuX3RpbWVsaW5lfXRoaXMuX2djJiZ0aGlzLl9lbmFibGVkKCEwLCExKSwodGhpcy5fdG90YWxUaW1lIT09YXx8MD09PXRoaXMuX2R1cmF0aW9uKSYmKEoubGVuZ3RoJiZZKCksdGhpcy5yZW5kZXIoYSxiLCExKSxKLmxlbmd0aCYmWSgpKX1yZXR1cm4gdGhpc30saC5wcm9ncmVzcz1oLnRvdGFsUHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmR1cmF0aW9uKCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUoYyphLGIpOmM/dGhpcy5fdGltZS9jOnRoaXMucmF0aW99LGguc3RhcnRUaW1lPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhIT09dGhpcy5fc3RhcnRUaW1lJiYodGhpcy5fc3RhcnRUaW1lPWEsdGhpcy50aW1lbGluZSYmdGhpcy50aW1lbGluZS5fc29ydENoaWxkcmVuJiZ0aGlzLnRpbWVsaW5lLmFkZCh0aGlzLGEtdGhpcy5fZGVsYXkpKSx0aGlzKTp0aGlzLl9zdGFydFRpbWV9LGguZW5kVGltZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lKygwIT1hP3RoaXMudG90YWxEdXJhdGlvbigpOnRoaXMuZHVyYXRpb24oKSkvdGhpcy5fdGltZVNjYWxlfSxoLnRpbWVTY2FsZT1mdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdGltZVNjYWxlO2lmKGE9YXx8bSx0aGlzLl90aW1lbGluZSYmdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcpe3ZhciBiPXRoaXMuX3BhdXNlVGltZSxjPWJ8fDA9PT1iP2I6dGhpcy5fdGltZWxpbmUudG90YWxUaW1lKCk7dGhpcy5fc3RhcnRUaW1lPWMtKGMtdGhpcy5fc3RhcnRUaW1lKSp0aGlzLl90aW1lU2NhbGUvYX1yZXR1cm4gdGhpcy5fdGltZVNjYWxlPWEsdGhpcy5fdW5jYWNoZSghMSl9LGgucmV2ZXJzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGEhPXRoaXMuX3JldmVyc2VkJiYodGhpcy5fcmV2ZXJzZWQ9YSx0aGlzLnRvdGFsVGltZSh0aGlzLl90aW1lbGluZSYmIXRoaXMuX3RpbWVsaW5lLnNtb290aENoaWxkVGltaW5nP3RoaXMudG90YWxEdXJhdGlvbigpLXRoaXMuX3RvdGFsVGltZTp0aGlzLl90b3RhbFRpbWUsITApKSx0aGlzKTp0aGlzLl9yZXZlcnNlZH0saC5wYXVzZWQ9ZnVuY3Rpb24oYSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3BhdXNlZDt2YXIgYixjLGQ9dGhpcy5fdGltZWxpbmU7cmV0dXJuIGEhPXRoaXMuX3BhdXNlZCYmZCYmKGp8fGF8fGkud2FrZSgpLGI9ZC5yYXdUaW1lKCksYz1iLXRoaXMuX3BhdXNlVGltZSwhYSYmZC5zbW9vdGhDaGlsZFRpbWluZyYmKHRoaXMuX3N0YXJ0VGltZSs9Yyx0aGlzLl91bmNhY2hlKCExKSksdGhpcy5fcGF1c2VUaW1lPWE/YjpudWxsLHRoaXMuX3BhdXNlZD1hLHRoaXMuX2FjdGl2ZT10aGlzLmlzQWN0aXZlKCksIWEmJjAhPT1jJiZ0aGlzLl9pbml0dGVkJiZ0aGlzLmR1cmF0aW9uKCkmJihiPWQuc21vb3RoQ2hpbGRUaW1pbmc/dGhpcy5fdG90YWxUaW1lOihiLXRoaXMuX3N0YXJ0VGltZSkvdGhpcy5fdGltZVNjYWxlLHRoaXMucmVuZGVyKGIsYj09PXRoaXMuX3RvdGFsVGltZSwhMCkpKSx0aGlzLl9nYyYmIWEmJnRoaXMuX2VuYWJsZWQoITAsITEpLHRoaXN9O3ZhciBGPXQoXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsZnVuY3Rpb24oYSl7RC5jYWxsKHRoaXMsMCxhKSx0aGlzLmF1dG9SZW1vdmVDaGlsZHJlbj10aGlzLnNtb290aENoaWxkVGltaW5nPSEwfSk7aD1GLnByb3RvdHlwZT1uZXcgRCxoLmNvbnN0cnVjdG9yPUYsaC5raWxsKCkuX2djPSExLGguX2ZpcnN0PWguX2xhc3Q9aC5fcmVjZW50PW51bGwsaC5fc29ydENoaWxkcmVuPSExLGguYWRkPWguaW5zZXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY7aWYoYS5fc3RhcnRUaW1lPU51bWJlcihifHwwKSthLl9kZWxheSxhLl9wYXVzZWQmJnRoaXMhPT1hLl90aW1lbGluZSYmKGEuX3BhdXNlVGltZT1hLl9zdGFydFRpbWUrKHRoaXMucmF3VGltZSgpLWEuX3N0YXJ0VGltZSkvYS5fdGltZVNjYWxlKSxhLnRpbWVsaW5lJiZhLnRpbWVsaW5lLl9yZW1vdmUoYSwhMCksYS50aW1lbGluZT1hLl90aW1lbGluZT10aGlzLGEuX2djJiZhLl9lbmFibGVkKCEwLCEwKSxlPXRoaXMuX2xhc3QsdGhpcy5fc29ydENoaWxkcmVuKWZvcihmPWEuX3N0YXJ0VGltZTtlJiZlLl9zdGFydFRpbWU+ZjspZT1lLl9wcmV2O3JldHVybiBlPyhhLl9uZXh0PWUuX25leHQsZS5fbmV4dD1hKTooYS5fbmV4dD10aGlzLl9maXJzdCx0aGlzLl9maXJzdD1hKSxhLl9uZXh0P2EuX25leHQuX3ByZXY9YTp0aGlzLl9sYXN0PWEsYS5fcHJldj1lLHRoaXMuX3JlY2VudD1hLHRoaXMuX3RpbWVsaW5lJiZ0aGlzLl91bmNhY2hlKCEwKSx0aGlzfSxoLl9yZW1vdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50aW1lbGluZT09PXRoaXMmJihifHxhLl9lbmFibGVkKCExLCEwKSxhLl9wcmV2P2EuX3ByZXYuX25leHQ9YS5fbmV4dDp0aGlzLl9maXJzdD09PWEmJih0aGlzLl9maXJzdD1hLl9uZXh0KSxhLl9uZXh0P2EuX25leHQuX3ByZXY9YS5fcHJldjp0aGlzLl9sYXN0PT09YSYmKHRoaXMuX2xhc3Q9YS5fcHJldiksYS5fbmV4dD1hLl9wcmV2PWEudGltZWxpbmU9bnVsbCxhPT09dGhpcy5fcmVjZW50JiYodGhpcy5fcmVjZW50PXRoaXMuX2xhc3QpLHRoaXMuX3RpbWVsaW5lJiZ0aGlzLl91bmNhY2hlKCEwKSksdGhpc30saC5yZW5kZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5fZmlyc3Q7Zm9yKHRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPXRoaXMuX3Jhd1ByZXZUaW1lPWE7ZTspZD1lLl9uZXh0LChlLl9hY3RpdmV8fGE+PWUuX3N0YXJ0VGltZSYmIWUuX3BhdXNlZCkmJihlLl9yZXZlcnNlZD9lLnJlbmRlcigoZS5fZGlydHk/ZS50b3RhbER1cmF0aW9uKCk6ZS5fdG90YWxEdXJhdGlvbiktKGEtZS5fc3RhcnRUaW1lKSplLl90aW1lU2NhbGUsYixjKTplLnJlbmRlcigoYS1lLl9zdGFydFRpbWUpKmUuX3RpbWVTY2FsZSxiLGMpKSxlPWR9LGgucmF3VGltZT1mdW5jdGlvbigpe3JldHVybiBqfHxpLndha2UoKSx0aGlzLl90b3RhbFRpbWV9O3ZhciBHPXQoXCJUd2VlbkxpdGVcIixmdW5jdGlvbihiLGMsZCl7XG5pZihELmNhbGwodGhpcyxjLGQpLHRoaXMucmVuZGVyPUcucHJvdG90eXBlLnJlbmRlcixudWxsPT1iKXRocm93XCJDYW5ub3QgdHdlZW4gYSBudWxsIHRhcmdldC5cIjt0aGlzLnRhcmdldD1iPVwic3RyaW5nXCIhPXR5cGVvZiBiP2I6Ry5zZWxlY3RvcihiKXx8Yjt2YXIgZSxmLGcsaD1iLmpxdWVyeXx8Yi5sZW5ndGgmJmIhPT1hJiZiWzBdJiYoYlswXT09PWF8fGJbMF0ubm9kZVR5cGUmJmJbMF0uc3R5bGUmJiFiLm5vZGVUeXBlKSxpPXRoaXMudmFycy5vdmVyd3JpdGU7aWYodGhpcy5fb3ZlcndyaXRlPWk9bnVsbD09aT9VW0cuZGVmYXVsdE92ZXJ3cml0ZV06XCJudW1iZXJcIj09dHlwZW9mIGk/aT4+MDpVW2ldLChofHxiIGluc3RhbmNlb2YgQXJyYXl8fGIucHVzaCYmcChiKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBiWzBdKWZvcih0aGlzLl90YXJnZXRzPWc9bihiKSx0aGlzLl9wcm9wTG9va3VwPVtdLHRoaXMuX3NpYmxpbmdzPVtdLGU9MDtlPGcubGVuZ3RoO2UrKylmPWdbZV0sZj9cInN0cmluZ1wiIT10eXBlb2YgZj9mLmxlbmd0aCYmZiE9PWEmJmZbMF0mJihmWzBdPT09YXx8ZlswXS5ub2RlVHlwZSYmZlswXS5zdHlsZSYmIWYubm9kZVR5cGUpPyhnLnNwbGljZShlLS0sMSksdGhpcy5fdGFyZ2V0cz1nPWcuY29uY2F0KG4oZikpKToodGhpcy5fc2libGluZ3NbZV09WihmLHRoaXMsITEpLDE9PT1pJiZ0aGlzLl9zaWJsaW5nc1tlXS5sZW5ndGg+MSYmXyhmLHRoaXMsbnVsbCwxLHRoaXMuX3NpYmxpbmdzW2VdKSk6KGY9Z1tlLS1dPUcuc2VsZWN0b3IoZiksXCJzdHJpbmdcIj09dHlwZW9mIGYmJmcuc3BsaWNlKGUrMSwxKSk6Zy5zcGxpY2UoZS0tLDEpO2Vsc2UgdGhpcy5fcHJvcExvb2t1cD17fSx0aGlzLl9zaWJsaW5ncz1aKGIsdGhpcywhMSksMT09PWkmJnRoaXMuX3NpYmxpbmdzLmxlbmd0aD4xJiZfKGIsdGhpcyxudWxsLDEsdGhpcy5fc2libGluZ3MpOyh0aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyfHwwPT09YyYmMD09PXRoaXMuX2RlbGF5JiZ0aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyIT09ITEpJiYodGhpcy5fdGltZT0tbSx0aGlzLnJlbmRlcihNYXRoLm1pbigwLC10aGlzLl9kZWxheSkpKX0sITApLEg9ZnVuY3Rpb24oYil7cmV0dXJuIGImJmIubGVuZ3RoJiZiIT09YSYmYlswXSYmKGJbMF09PT1hfHxiWzBdLm5vZGVUeXBlJiZiWzBdLnN0eWxlJiYhYi5ub2RlVHlwZSl9LEk9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXt9O2ZvcihjIGluIGEpVFtjXXx8YyBpbiBiJiZcInRyYW5zZm9ybVwiIT09YyYmXCJ4XCIhPT1jJiZcInlcIiE9PWMmJlwid2lkdGhcIiE9PWMmJlwiaGVpZ2h0XCIhPT1jJiZcImNsYXNzTmFtZVwiIT09YyYmXCJib3JkZXJcIiE9PWN8fCEoIVFbY118fFFbY10mJlFbY10uX2F1dG9DU1MpfHwoZFtjXT1hW2NdLGRlbGV0ZSBhW2NdKTthLmNzcz1kfTtoPUcucHJvdG90eXBlPW5ldyBELGguY29uc3RydWN0b3I9RyxoLmtpbGwoKS5fZ2M9ITEsaC5yYXRpbz0wLGguX2ZpcnN0UFQ9aC5fdGFyZ2V0cz1oLl9vdmVyd3JpdHRlblByb3BzPWguX3N0YXJ0QXQ9bnVsbCxoLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkPWguX2xhenk9ITEsRy52ZXJzaW9uPVwiMS4xOS4xXCIsRy5kZWZhdWx0RWFzZT1oLl9lYXNlPW5ldyB2KG51bGwsbnVsbCwxLDEpLEcuZGVmYXVsdE92ZXJ3cml0ZT1cImF1dG9cIixHLnRpY2tlcj1pLEcuYXV0b1NsZWVwPTEyMCxHLmxhZ1Ntb290aGluZz1mdW5jdGlvbihhLGIpe2kubGFnU21vb3RoaW5nKGEsYil9LEcuc2VsZWN0b3I9YS4kfHxhLmpRdWVyeXx8ZnVuY3Rpb24oYil7dmFyIGM9YS4kfHxhLmpRdWVyeTtyZXR1cm4gYz8oRy5zZWxlY3Rvcj1jLGMoYikpOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBkP2I6ZC5xdWVyeVNlbGVjdG9yQWxsP2QucXVlcnlTZWxlY3RvckFsbChiKTpkLmdldEVsZW1lbnRCeUlkKFwiI1wiPT09Yi5jaGFyQXQoMCk/Yi5zdWJzdHIoMSk6Yil9O3ZhciBKPVtdLEs9e30sTD0vKD86KC18LT18XFwrPSk/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT8pWzAtOV0vZ2ksTT1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLl9maXJzdFBULGQ9MWUtNjtjOyliPWMuYmxvYj8xPT09YT90aGlzLmVuZDphP3RoaXMuam9pbihcIlwiKTp0aGlzLnN0YXJ0OmMuYyphK2MucyxjLm0/Yj1jLm0oYix0aGlzLl90YXJnZXR8fGMudCk6ZD5iJiZiPi1kJiYhYy5ibG9iJiYoYj0wKSxjLmY/Yy5mcD9jLnRbYy5wXShjLmZwLGIpOmMudFtjLnBdKGIpOmMudFtjLnBdPWIsYz1jLl9uZXh0fSxOPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaixrLGw9W10sbT0wLG49XCJcIixvPTA7Zm9yKGwuc3RhcnQ9YSxsLmVuZD1iLGE9bFswXT1hK1wiXCIsYj1sWzFdPWIrXCJcIixjJiYoYyhsKSxhPWxbMF0sYj1sWzFdKSxsLmxlbmd0aD0wLGU9YS5tYXRjaChMKXx8W10sZj1iLm1hdGNoKEwpfHxbXSxkJiYoZC5fbmV4dD1udWxsLGQuYmxvYj0xLGwuX2ZpcnN0UFQ9bC5fYXBwbHlQVD1kKSxpPWYubGVuZ3RoLGg9MDtpPmg7aCsrKWs9ZltoXSxqPWIuc3Vic3RyKG0sYi5pbmRleE9mKGssbSktbSksbis9anx8IWg/ajpcIixcIixtKz1qLmxlbmd0aCxvP289KG8rMSklNTpcInJnYmEoXCI9PT1qLnN1YnN0cigtNSkmJihvPTEpLGs9PT1lW2hdfHxlLmxlbmd0aDw9aD9uKz1rOihuJiYobC5wdXNoKG4pLG49XCJcIiksZz1wYXJzZUZsb2F0KGVbaF0pLGwucHVzaChnKSxsLl9maXJzdFBUPXtfbmV4dDpsLl9maXJzdFBULHQ6bCxwOmwubGVuZ3RoLTEsczpnLGM6KFwiPVwiPT09ay5jaGFyQXQoMSk/cGFyc2VJbnQoay5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoay5zdWJzdHIoMikpOnBhcnNlRmxvYXQoayktZyl8fDAsZjowLG06byYmND5vP01hdGgucm91bmQ6MH0pLG0rPWsubGVuZ3RoO3JldHVybiBuKz1iLnN1YnN0cihtKSxuJiZsLnB1c2gobiksbC5zZXRSYXRpbz1NLGx9LE89ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGQmJihkPWQoaXx8MCxhKSk7dmFyIGosaz10eXBlb2YgYVtiXSxsPVwiZnVuY3Rpb25cIiE9PWs/XCJcIjpiLmluZGV4T2YoXCJzZXRcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFbXCJnZXRcIitiLnN1YnN0cigzKV0/YjpcImdldFwiK2Iuc3Vic3RyKDMpLG09XCJnZXRcIiE9PWM/YzpsP2c/YVtsXShnKTphW2xdKCk6YVtiXSxuPVwic3RyaW5nXCI9PXR5cGVvZiBkJiZcIj1cIj09PWQuY2hhckF0KDEpLG89e3Q6YSxwOmIsczptLGY6XCJmdW5jdGlvblwiPT09ayxwZzowLG46ZXx8YixtOmY/XCJmdW5jdGlvblwiPT10eXBlb2YgZj9mOk1hdGgucm91bmQ6MCxwcjowLGM6bj9wYXJzZUludChkLmNoYXJBdCgwKStcIjFcIiwxMCkqcGFyc2VGbG9hdChkLnN1YnN0cigyKSk6cGFyc2VGbG9hdChkKS1tfHwwfTtyZXR1cm4oXCJudW1iZXJcIiE9dHlwZW9mIG18fFwibnVtYmVyXCIhPXR5cGVvZiBkJiYhbikmJihnfHxpc05hTihtKXx8IW4mJmlzTmFOKGQpfHxcImJvb2xlYW5cIj09dHlwZW9mIG18fFwiYm9vbGVhblwiPT10eXBlb2YgZD8oby5mcD1nLGo9TihtLG4/by5zK28uYzpkLGh8fEcuZGVmYXVsdFN0cmluZ0ZpbHRlcixvKSxvPXt0OmoscDpcInNldFJhdGlvXCIsczowLGM6MSxmOjIscGc6MCxuOmV8fGIscHI6MCxtOjB9KTooby5zPXBhcnNlRmxvYXQobSksbnx8KG8uYz1wYXJzZUZsb2F0KGQpLW8uc3x8MCkpKSxvLmM/KChvLl9uZXh0PXRoaXMuX2ZpcnN0UFQpJiYoby5fbmV4dC5fcHJldj1vKSx0aGlzLl9maXJzdFBUPW8sbyk6dm9pZCAwfSxQPUcuX2ludGVybmFscz17aXNBcnJheTpwLGlzU2VsZWN0b3I6SCxsYXp5VHdlZW5zOkosYmxvYkRpZjpOfSxRPUcuX3BsdWdpbnM9e30sUj1QLnR3ZWVuTG9va3VwPXt9LFM9MCxUPVAucmVzZXJ2ZWRQcm9wcz17ZWFzZToxLGRlbGF5OjEsb3ZlcndyaXRlOjEsb25Db21wbGV0ZToxLG9uQ29tcGxldGVQYXJhbXM6MSxvbkNvbXBsZXRlU2NvcGU6MSx1c2VGcmFtZXM6MSxydW5CYWNrd2FyZHM6MSxzdGFydEF0OjEsb25VcGRhdGU6MSxvblVwZGF0ZVBhcmFtczoxLG9uVXBkYXRlU2NvcGU6MSxvblN0YXJ0OjEsb25TdGFydFBhcmFtczoxLG9uU3RhcnRTY29wZToxLG9uUmV2ZXJzZUNvbXBsZXRlOjEsb25SZXZlcnNlQ29tcGxldGVQYXJhbXM6MSxvblJldmVyc2VDb21wbGV0ZVNjb3BlOjEsb25SZXBlYXQ6MSxvblJlcGVhdFBhcmFtczoxLG9uUmVwZWF0U2NvcGU6MSxlYXNlUGFyYW1zOjEseW95bzoxLGltbWVkaWF0ZVJlbmRlcjoxLHJlcGVhdDoxLHJlcGVhdERlbGF5OjEsZGF0YToxLHBhdXNlZDoxLHJldmVyc2VkOjEsYXV0b0NTUzoxLGxhenk6MSxvbk92ZXJ3cml0ZToxLGNhbGxiYWNrU2NvcGU6MSxzdHJpbmdGaWx0ZXI6MSxpZDoxfSxVPXtub25lOjAsYWxsOjEsYXV0bzoyLGNvbmN1cnJlbnQ6MyxhbGxPblN0YXJ0OjQscHJlZXhpc3Rpbmc6NSxcInRydWVcIjoxLFwiZmFsc2VcIjowfSxWPUQuX3Jvb3RGcmFtZXNUaW1lbGluZT1uZXcgRixXPUQuX3Jvb3RUaW1lbGluZT1uZXcgRixYPTMwLFk9UC5sYXp5UmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGEsYj1KLmxlbmd0aDtmb3IoSz17fTstLWI+LTE7KWE9SltiXSxhJiZhLl9sYXp5IT09ITEmJihhLnJlbmRlcihhLl9sYXp5WzBdLGEuX2xhenlbMV0sITApLGEuX2xhenk9ITEpO0oubGVuZ3RoPTB9O1cuX3N0YXJ0VGltZT1pLnRpbWUsVi5fc3RhcnRUaW1lPWkuZnJhbWUsVy5fYWN0aXZlPVYuX2FjdGl2ZT0hMCxzZXRUaW1lb3V0KFksMSksRC5fdXBkYXRlUm9vdD1HLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBhLGIsYztpZihKLmxlbmd0aCYmWSgpLFcucmVuZGVyKChpLnRpbWUtVy5fc3RhcnRUaW1lKSpXLl90aW1lU2NhbGUsITEsITEpLFYucmVuZGVyKChpLmZyYW1lLVYuX3N0YXJ0VGltZSkqVi5fdGltZVNjYWxlLCExLCExKSxKLmxlbmd0aCYmWSgpLGkuZnJhbWU+PVgpe1g9aS5mcmFtZSsocGFyc2VJbnQoRy5hdXRvU2xlZXAsMTApfHwxMjApO2ZvcihjIGluIFIpe2ZvcihiPVJbY10udHdlZW5zLGE9Yi5sZW5ndGg7LS1hPi0xOyliW2FdLl9nYyYmYi5zcGxpY2UoYSwxKTswPT09Yi5sZW5ndGgmJmRlbGV0ZSBSW2NdfWlmKGM9Vy5fZmlyc3QsKCFjfHxjLl9wYXVzZWQpJiZHLmF1dG9TbGVlcCYmIVYuX2ZpcnN0JiYxPT09aS5fbGlzdGVuZXJzLnRpY2subGVuZ3RoKXtmb3IoO2MmJmMuX3BhdXNlZDspYz1jLl9uZXh0O2N8fGkuc2xlZXAoKX19fSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsRC5fdXBkYXRlUm9vdCk7dmFyIFo9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLl9nc1R3ZWVuSUQ7aWYoUltmfHwoYS5fZ3NUd2VlbklEPWY9XCJ0XCIrUysrKV18fChSW2ZdPXt0YXJnZXQ6YSx0d2VlbnM6W119KSxiJiYoZD1SW2ZdLnR3ZWVucyxkW2U9ZC5sZW5ndGhdPWIsYykpZm9yKDstLWU+LTE7KWRbZV09PT1iJiZkLnNwbGljZShlLDEpO3JldHVybiBSW2ZdLnR3ZWVuc30sJD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9YS52YXJzLm9uT3ZlcndyaXRlO3JldHVybiBnJiYoZT1nKGEsYixjLGQpKSxnPUcub25PdmVyd3JpdGUsZyYmKGY9ZyhhLGIsYyxkKSksZSE9PSExJiZmIT09ITF9LF89ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaTtpZigxPT09ZHx8ZD49NCl7Zm9yKGk9ZS5sZW5ndGgsZj0wO2k+ZjtmKyspaWYoKGg9ZVtmXSkhPT1iKWguX2djfHxoLl9raWxsKG51bGwsYSxiKSYmKGc9ITApO2Vsc2UgaWYoNT09PWQpYnJlYWs7cmV0dXJuIGd9dmFyIGosaz1iLl9zdGFydFRpbWUrbSxsPVtdLG49MCxvPTA9PT1iLl9kdXJhdGlvbjtmb3IoZj1lLmxlbmd0aDstLWY+LTE7KShoPWVbZl0pPT09Ynx8aC5fZ2N8fGguX3BhdXNlZHx8KGguX3RpbWVsaW5lIT09Yi5fdGltZWxpbmU/KGo9anx8YWEoYiwwLG8pLDA9PT1hYShoLGosbykmJihsW24rK109aCkpOmguX3N0YXJ0VGltZTw9ayYmaC5fc3RhcnRUaW1lK2gudG90YWxEdXJhdGlvbigpL2guX3RpbWVTY2FsZT5rJiYoKG98fCFoLl9pbml0dGVkKSYmay1oLl9zdGFydFRpbWU8PTJlLTEwfHwobFtuKytdPWgpKSk7Zm9yKGY9bjstLWY+LTE7KWlmKGg9bFtmXSwyPT09ZCYmaC5fa2lsbChjLGEsYikmJihnPSEwKSwyIT09ZHx8IWguX2ZpcnN0UFQmJmguX2luaXR0ZWQpe2lmKDIhPT1kJiYhJChoLGIpKWNvbnRpbnVlO2guX2VuYWJsZWQoITEsITEpJiYoZz0hMCl9cmV0dXJuIGd9LGFhPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5fdGltZWxpbmUsZT1kLl90aW1lU2NhbGUsZj1hLl9zdGFydFRpbWU7ZC5fdGltZWxpbmU7KXtpZihmKz1kLl9zdGFydFRpbWUsZSo9ZC5fdGltZVNjYWxlLGQuX3BhdXNlZClyZXR1cm4tMTAwO2Q9ZC5fdGltZWxpbmV9cmV0dXJuIGYvPWUsZj5iP2YtYjpjJiZmPT09Ynx8IWEuX2luaXR0ZWQmJjIqbT5mLWI/bTooZis9YS50b3RhbER1cmF0aW9uKCkvYS5fdGltZVNjYWxlL2UpPmIrbT8wOmYtYi1tfTtoLl9pbml0PWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9dGhpcy52YXJzLGg9dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wcyxpPXRoaXMuX2R1cmF0aW9uLGo9ISFnLmltbWVkaWF0ZVJlbmRlcixrPWcuZWFzZTtpZihnLnN0YXJ0QXQpe3RoaXMuX3N0YXJ0QXQmJih0aGlzLl9zdGFydEF0LnJlbmRlcigtMSwhMCksdGhpcy5fc3RhcnRBdC5raWxsKCkpLGU9e307Zm9yKGQgaW4gZy5zdGFydEF0KWVbZF09Zy5zdGFydEF0W2RdO2lmKGUub3ZlcndyaXRlPSExLGUuaW1tZWRpYXRlUmVuZGVyPSEwLGUubGF6eT1qJiZnLmxhenkhPT0hMSxlLnN0YXJ0QXQ9ZS5kZWxheT1udWxsLHRoaXMuX3N0YXJ0QXQ9Ry50byh0aGlzLnRhcmdldCwwLGUpLGopaWYodGhpcy5fdGltZT4wKXRoaXMuX3N0YXJ0QXQ9bnVsbDtlbHNlIGlmKDAhPT1pKXJldHVybn1lbHNlIGlmKGcucnVuQmFja3dhcmRzJiYwIT09aSlpZih0aGlzLl9zdGFydEF0KXRoaXMuX3N0YXJ0QXQucmVuZGVyKC0xLCEwKSx0aGlzLl9zdGFydEF0LmtpbGwoKSx0aGlzLl9zdGFydEF0PW51bGw7ZWxzZXswIT09dGhpcy5fdGltZSYmKGo9ITEpLGM9e307Zm9yKGQgaW4gZylUW2RdJiZcImF1dG9DU1NcIiE9PWR8fChjW2RdPWdbZF0pO2lmKGMub3ZlcndyaXRlPTAsYy5kYXRhPVwiaXNGcm9tU3RhcnRcIixjLmxhenk9aiYmZy5sYXp5IT09ITEsYy5pbW1lZGlhdGVSZW5kZXI9aix0aGlzLl9zdGFydEF0PUcudG8odGhpcy50YXJnZXQsMCxjKSxqKXtpZigwPT09dGhpcy5fdGltZSlyZXR1cm59ZWxzZSB0aGlzLl9zdGFydEF0Ll9pbml0KCksdGhpcy5fc3RhcnRBdC5fZW5hYmxlZCghMSksdGhpcy52YXJzLmltbWVkaWF0ZVJlbmRlciYmKHRoaXMuX3N0YXJ0QXQ9bnVsbCl9aWYodGhpcy5fZWFzZT1rPWs/ayBpbnN0YW5jZW9mIHY/azpcImZ1bmN0aW9uXCI9PXR5cGVvZiBrP25ldyB2KGssZy5lYXNlUGFyYW1zKTp3W2tdfHxHLmRlZmF1bHRFYXNlOkcuZGVmYXVsdEVhc2UsZy5lYXNlUGFyYW1zIGluc3RhbmNlb2YgQXJyYXkmJmsuY29uZmlnJiYodGhpcy5fZWFzZT1rLmNvbmZpZy5hcHBseShrLGcuZWFzZVBhcmFtcykpLHRoaXMuX2Vhc2VUeXBlPXRoaXMuX2Vhc2UuX3R5cGUsdGhpcy5fZWFzZVBvd2VyPXRoaXMuX2Vhc2UuX3Bvd2VyLHRoaXMuX2ZpcnN0UFQ9bnVsbCx0aGlzLl90YXJnZXRzKWZvcihmPXRoaXMuX3RhcmdldHMubGVuZ3RoLGE9MDtmPmE7YSsrKXRoaXMuX2luaXRQcm9wcyh0aGlzLl90YXJnZXRzW2FdLHRoaXMuX3Byb3BMb29rdXBbYV09e30sdGhpcy5fc2libGluZ3NbYV0saD9oW2FdOm51bGwsYSkmJihiPSEwKTtlbHNlIGI9dGhpcy5faW5pdFByb3BzKHRoaXMudGFyZ2V0LHRoaXMuX3Byb3BMb29rdXAsdGhpcy5fc2libGluZ3MsaCwwKTtpZihiJiZHLl9vblBsdWdpbkV2ZW50KFwiX29uSW5pdEFsbFByb3BzXCIsdGhpcyksaCYmKHRoaXMuX2ZpcnN0UFR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMudGFyZ2V0JiZ0aGlzLl9lbmFibGVkKCExLCExKSksZy5ydW5CYWNrd2FyZHMpZm9yKGM9dGhpcy5fZmlyc3RQVDtjOyljLnMrPWMuYyxjLmM9LWMuYyxjPWMuX25leHQ7dGhpcy5fb25VcGRhdGU9Zy5vblVwZGF0ZSx0aGlzLl9pbml0dGVkPSEwfSxoLl9pbml0UHJvcHM9ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZyxoLGksaixrLGw7aWYobnVsbD09YilyZXR1cm4hMTtLW2IuX2dzVHdlZW5JRF0mJlkoKSx0aGlzLnZhcnMuY3NzfHxiLnN0eWxlJiZiIT09YSYmYi5ub2RlVHlwZSYmUS5jc3MmJnRoaXMudmFycy5hdXRvQ1NTIT09ITEmJkkodGhpcy52YXJzLGIpO2ZvcihnIGluIHRoaXMudmFycylpZihsPXRoaXMudmFyc1tnXSxUW2ddKWwmJihsIGluc3RhbmNlb2YgQXJyYXl8fGwucHVzaCYmcChsKSkmJi0xIT09bC5qb2luKFwiXCIpLmluZGV4T2YoXCJ7c2VsZn1cIikmJih0aGlzLnZhcnNbZ109bD10aGlzLl9zd2FwU2VsZkluUGFyYW1zKGwsdGhpcykpO2Vsc2UgaWYoUVtnXSYmKGo9bmV3IFFbZ10pLl9vbkluaXRUd2VlbihiLHRoaXMudmFyc1tnXSx0aGlzLGYpKXtmb3IodGhpcy5fZmlyc3RQVD1rPXtfbmV4dDp0aGlzLl9maXJzdFBULHQ6aixwOlwic2V0UmF0aW9cIixzOjAsYzoxLGY6MSxuOmcscGc6MSxwcjpqLl9wcmlvcml0eSxtOjB9LGg9ai5fb3ZlcndyaXRlUHJvcHMubGVuZ3RoOy0taD4tMTspY1tqLl9vdmVyd3JpdGVQcm9wc1toXV09dGhpcy5fZmlyc3RQVDsoai5fcHJpb3JpdHl8fGouX29uSW5pdEFsbFByb3BzKSYmKGk9ITApLChqLl9vbkRpc2FibGV8fGouX29uRW5hYmxlKSYmKHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQ9ITApLGsuX25leHQmJihrLl9uZXh0Ll9wcmV2PWspfWVsc2UgY1tnXT1PLmNhbGwodGhpcyxiLGcsXCJnZXRcIixsLGcsMCxudWxsLHRoaXMudmFycy5zdHJpbmdGaWx0ZXIsZik7cmV0dXJuIGUmJnRoaXMuX2tpbGwoZSxiKT90aGlzLl9pbml0UHJvcHMoYixjLGQsZSxmKTp0aGlzLl9vdmVyd3JpdGU+MSYmdGhpcy5fZmlyc3RQVCYmZC5sZW5ndGg+MSYmXyhiLHRoaXMsYyx0aGlzLl9vdmVyd3JpdGUsZCk/KHRoaXMuX2tpbGwoYyxiKSx0aGlzLl9pbml0UHJvcHMoYixjLGQsZSxmKSk6KHRoaXMuX2ZpcnN0UFQmJih0aGlzLnZhcnMubGF6eSE9PSExJiZ0aGlzLl9kdXJhdGlvbnx8dGhpcy52YXJzLmxhenkmJiF0aGlzLl9kdXJhdGlvbikmJihLW2IuX2dzVHdlZW5JRF09ITApLGkpfSxoLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD10aGlzLl90aW1lLGk9dGhpcy5fZHVyYXRpb24saj10aGlzLl9yYXdQcmV2VGltZTtpZihhPj1pLTFlLTcmJmE+PTApdGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9aSx0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuX2NhbGNFbmQ/dGhpcy5fZWFzZS5nZXRSYXRpbygxKToxLHRoaXMuX3JldmVyc2VkfHwoZD0hMCxlPVwib25Db21wbGV0ZVwiLGM9Y3x8dGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuKSwwPT09aSYmKHRoaXMuX2luaXR0ZWR8fCF0aGlzLnZhcnMubGF6eXx8YykmJih0aGlzLl9zdGFydFRpbWU9PT10aGlzLl90aW1lbGluZS5fZHVyYXRpb24mJihhPTApLCgwPmp8fDA+PWEmJmE+PS0xZS03fHxqPT09bSYmXCJpc1BhdXNlXCIhPT10aGlzLmRhdGEpJiZqIT09YSYmKGM9ITAsaj5tJiYoZT1cIm9uUmV2ZXJzZUNvbXBsZXRlXCIpKSx0aGlzLl9yYXdQcmV2VGltZT1nPSFifHxhfHxqPT09YT9hOm0pO2Vsc2UgaWYoMWUtNz5hKXRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPTAsdGhpcy5yYXRpbz10aGlzLl9lYXNlLl9jYWxjRW5kP3RoaXMuX2Vhc2UuZ2V0UmF0aW8oMCk6MCwoMCE9PWh8fDA9PT1pJiZqPjApJiYoZT1cIm9uUmV2ZXJzZUNvbXBsZXRlXCIsZD10aGlzLl9yZXZlcnNlZCksMD5hJiYodGhpcy5fYWN0aXZlPSExLDA9PT1pJiYodGhpcy5faW5pdHRlZHx8IXRoaXMudmFycy5sYXp5fHxjKSYmKGo+PTAmJihqIT09bXx8XCJpc1BhdXNlXCIhPT10aGlzLmRhdGEpJiYoYz0hMCksdGhpcy5fcmF3UHJldlRpbWU9Zz0hYnx8YXx8aj09PWE/YTptKSksdGhpcy5faW5pdHRlZHx8KGM9ITApO2Vsc2UgaWYodGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9YSx0aGlzLl9lYXNlVHlwZSl7dmFyIGs9YS9pLGw9dGhpcy5fZWFzZVR5cGUsbj10aGlzLl9lYXNlUG93ZXI7KDE9PT1sfHwzPT09bCYmaz49LjUpJiYoaz0xLWspLDM9PT1sJiYoayo9MiksMT09PW4/ayo9azoyPT09bj9rKj1rKms6Mz09PW4/ayo9ayprKms6ND09PW4mJihrKj1rKmsqayprKSwxPT09bD90aGlzLnJhdGlvPTEtazoyPT09bD90aGlzLnJhdGlvPWs6LjU+YS9pP3RoaXMucmF0aW89ay8yOnRoaXMucmF0aW89MS1rLzJ9ZWxzZSB0aGlzLnJhdGlvPXRoaXMuX2Vhc2UuZ2V0UmF0aW8oYS9pKTtpZih0aGlzLl90aW1lIT09aHx8Yyl7aWYoIXRoaXMuX2luaXR0ZWQpe2lmKHRoaXMuX2luaXQoKSwhdGhpcy5faW5pdHRlZHx8dGhpcy5fZ2MpcmV0dXJuO2lmKCFjJiZ0aGlzLl9maXJzdFBUJiYodGhpcy52YXJzLmxhenkhPT0hMSYmdGhpcy5fZHVyYXRpb258fHRoaXMudmFycy5sYXp5JiYhdGhpcy5fZHVyYXRpb24pKXJldHVybiB0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZT1oLHRoaXMuX3Jhd1ByZXZUaW1lPWosSi5wdXNoKHRoaXMpLHZvaWQodGhpcy5fbGF6eT1bYSxiXSk7dGhpcy5fdGltZSYmIWQ/dGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHRoaXMuX3RpbWUvaSk6ZCYmdGhpcy5fZWFzZS5fY2FsY0VuZCYmKHRoaXMucmF0aW89dGhpcy5fZWFzZS5nZXRSYXRpbygwPT09dGhpcy5fdGltZT8wOjEpKX1mb3IodGhpcy5fbGF6eSE9PSExJiYodGhpcy5fbGF6eT0hMSksdGhpcy5fYWN0aXZlfHwhdGhpcy5fcGF1c2VkJiZ0aGlzLl90aW1lIT09aCYmYT49MCYmKHRoaXMuX2FjdGl2ZT0hMCksMD09PWgmJih0aGlzLl9zdGFydEF0JiYoYT49MD90aGlzLl9zdGFydEF0LnJlbmRlcihhLGIsYyk6ZXx8KGU9XCJfZHVtbXlHU1wiKSksdGhpcy52YXJzLm9uU3RhcnQmJigwIT09dGhpcy5fdGltZXx8MD09PWkpJiYoYnx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSksZj10aGlzLl9maXJzdFBUO2Y7KWYuZj9mLnRbZi5wXShmLmMqdGhpcy5yYXRpbytmLnMpOmYudFtmLnBdPWYuYyp0aGlzLnJhdGlvK2YucyxmPWYuX25leHQ7dGhpcy5fb25VcGRhdGUmJigwPmEmJnRoaXMuX3N0YXJ0QXQmJmEhPT0tMWUtNCYmdGhpcy5fc3RhcnRBdC5yZW5kZXIoYSxiLGMpLGJ8fCh0aGlzLl90aW1lIT09aHx8ZHx8YykmJnRoaXMuX2NhbGxiYWNrKFwib25VcGRhdGVcIikpLGUmJighdGhpcy5fZ2N8fGMpJiYoMD5hJiZ0aGlzLl9zdGFydEF0JiYhdGhpcy5fb25VcGRhdGUmJmEhPT0tMWUtNCYmdGhpcy5fc3RhcnRBdC5yZW5kZXIoYSxiLGMpLGQmJih0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWImJnRoaXMudmFyc1tlXSYmdGhpcy5fY2FsbGJhY2soZSksMD09PWkmJnRoaXMuX3Jhd1ByZXZUaW1lPT09bSYmZyE9PW0mJih0aGlzLl9yYXdQcmV2VGltZT0wKSl9fSxoLl9raWxsPWZ1bmN0aW9uKGEsYixjKXtpZihcImFsbFwiPT09YSYmKGE9bnVsbCksbnVsbD09YSYmKG51bGw9PWJ8fGI9PT10aGlzLnRhcmdldCkpcmV0dXJuIHRoaXMuX2xhenk9ITEsdGhpcy5fZW5hYmxlZCghMSwhMSk7Yj1cInN0cmluZ1wiIT10eXBlb2YgYj9ifHx0aGlzLl90YXJnZXRzfHx0aGlzLnRhcmdldDpHLnNlbGVjdG9yKGIpfHxiO3ZhciBkLGUsZixnLGgsaSxqLGssbCxtPWMmJnRoaXMuX3RpbWUmJmMuX3N0YXJ0VGltZT09PXRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fdGltZWxpbmU9PT1jLl90aW1lbGluZTtpZigocChiKXx8SChiKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBiWzBdKWZvcihkPWIubGVuZ3RoOy0tZD4tMTspdGhpcy5fa2lsbChhLGJbZF0sYykmJihpPSEwKTtlbHNle2lmKHRoaXMuX3RhcmdldHMpe2ZvcihkPXRoaXMuX3RhcmdldHMubGVuZ3RoOy0tZD4tMTspaWYoYj09PXRoaXMuX3RhcmdldHNbZF0pe2g9dGhpcy5fcHJvcExvb2t1cFtkXXx8e30sdGhpcy5fb3ZlcndyaXR0ZW5Qcm9wcz10aGlzLl9vdmVyd3JpdHRlblByb3BzfHxbXSxlPXRoaXMuX292ZXJ3cml0dGVuUHJvcHNbZF09YT90aGlzLl9vdmVyd3JpdHRlblByb3BzW2RdfHx7fTpcImFsbFwiO2JyZWFrfX1lbHNle2lmKGIhPT10aGlzLnRhcmdldClyZXR1cm4hMTtoPXRoaXMuX3Byb3BMb29rdXAsZT10aGlzLl9vdmVyd3JpdHRlblByb3BzPWE/dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wc3x8e306XCJhbGxcIn1pZihoKXtpZihqPWF8fGgsaz1hIT09ZSYmXCJhbGxcIiE9PWUmJmEhPT1oJiYoXCJvYmplY3RcIiE9dHlwZW9mIGF8fCFhLl90ZW1wS2lsbCksYyYmKEcub25PdmVyd3JpdGV8fHRoaXMudmFycy5vbk92ZXJ3cml0ZSkpe2ZvcihmIGluIGopaFtmXSYmKGx8fChsPVtdKSxsLnB1c2goZikpO2lmKChsfHwhYSkmJiEkKHRoaXMsYyxiLGwpKXJldHVybiExfWZvcihmIGluIGopKGc9aFtmXSkmJihtJiYoZy5mP2cudFtnLnBdKGcucyk6Zy50W2cucF09Zy5zLGk9ITApLGcucGcmJmcudC5fa2lsbChqKSYmKGk9ITApLGcucGcmJjAhPT1nLnQuX292ZXJ3cml0ZVByb3BzLmxlbmd0aHx8KGcuX3ByZXY/Zy5fcHJldi5fbmV4dD1nLl9uZXh0Omc9PT10aGlzLl9maXJzdFBUJiYodGhpcy5fZmlyc3RQVD1nLl9uZXh0KSxnLl9uZXh0JiYoZy5fbmV4dC5fcHJldj1nLl9wcmV2KSxnLl9uZXh0PWcuX3ByZXY9bnVsbCksZGVsZXRlIGhbZl0pLGsmJihlW2ZdPTEpOyF0aGlzLl9maXJzdFBUJiZ0aGlzLl9pbml0dGVkJiZ0aGlzLl9lbmFibGVkKCExLCExKX19cmV0dXJuIGl9LGguaW52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkJiZHLl9vblBsdWdpbkV2ZW50KFwiX29uRGlzYWJsZVwiLHRoaXMpLHRoaXMuX2ZpcnN0UFQ9dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wcz10aGlzLl9zdGFydEF0PXRoaXMuX29uVXBkYXRlPW51bGwsdGhpcy5fbm90aWZ5UGx1Z2luc09mRW5hYmxlZD10aGlzLl9hY3RpdmU9dGhpcy5fbGF6eT0hMSx0aGlzLl9wcm9wTG9va3VwPXRoaXMuX3RhcmdldHM/e306W10sRC5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMpLHRoaXMudmFycy5pbW1lZGlhdGVSZW5kZXImJih0aGlzLl90aW1lPS1tLHRoaXMucmVuZGVyKE1hdGgubWluKDAsLXRoaXMuX2RlbGF5KSkpLHRoaXN9LGguX2VuYWJsZWQ9ZnVuY3Rpb24oYSxiKXtpZihqfHxpLndha2UoKSxhJiZ0aGlzLl9nYyl7dmFyIGMsZD10aGlzLl90YXJnZXRzO2lmKGQpZm9yKGM9ZC5sZW5ndGg7LS1jPi0xOyl0aGlzLl9zaWJsaW5nc1tjXT1aKGRbY10sdGhpcywhMCk7ZWxzZSB0aGlzLl9zaWJsaW5ncz1aKHRoaXMudGFyZ2V0LHRoaXMsITApfXJldHVybiBELnByb3RvdHlwZS5fZW5hYmxlZC5jYWxsKHRoaXMsYSxiKSx0aGlzLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkJiZ0aGlzLl9maXJzdFBUP0cuX29uUGx1Z2luRXZlbnQoYT9cIl9vbkVuYWJsZVwiOlwiX29uRGlzYWJsZVwiLHRoaXMpOiExfSxHLnRvPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IEcoYSxiLGMpfSxHLmZyb209ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjLnJ1bkJhY2t3YXJkcz0hMCxjLmltbWVkaWF0ZVJlbmRlcj0wIT1jLmltbWVkaWF0ZVJlbmRlcixuZXcgRyhhLGIsYyl9LEcuZnJvbVRvPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBkLnN0YXJ0QXQ9YyxkLmltbWVkaWF0ZVJlbmRlcj0wIT1kLmltbWVkaWF0ZVJlbmRlciYmMCE9Yy5pbW1lZGlhdGVSZW5kZXIsbmV3IEcoYSxiLGQpfSxHLmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBHKGIsMCx7ZGVsYXk6YSxvbkNvbXBsZXRlOmIsb25Db21wbGV0ZVBhcmFtczpjLGNhbGxiYWNrU2NvcGU6ZCxvblJldmVyc2VDb21wbGV0ZTpiLG9uUmV2ZXJzZUNvbXBsZXRlUGFyYW1zOmMsaW1tZWRpYXRlUmVuZGVyOiExLGxhenk6ITEsdXNlRnJhbWVzOmUsb3ZlcndyaXRlOjB9KX0sRy5zZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEcoYSwwLGIpfSxHLmdldFR3ZWVuc09mPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSlyZXR1cm5bXTthPVwic3RyaW5nXCIhPXR5cGVvZiBhP2E6Ry5zZWxlY3RvcihhKXx8YTt2YXIgYyxkLGUsZjtpZigocChhKXx8SChhKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBhWzBdKXtmb3IoYz1hLmxlbmd0aCxkPVtdOy0tYz4tMTspZD1kLmNvbmNhdChHLmdldFR3ZWVuc09mKGFbY10sYikpO2ZvcihjPWQubGVuZ3RoOy0tYz4tMTspZm9yKGY9ZFtjXSxlPWM7LS1lPi0xOylmPT09ZFtlXSYmZC5zcGxpY2UoYywxKX1lbHNlIGZvcihkPVooYSkuY29uY2F0KCksYz1kLmxlbmd0aDstLWM+LTE7KShkW2NdLl9nY3x8YiYmIWRbY10uaXNBY3RpdmUoKSkmJmQuc3BsaWNlKGMsMSk7cmV0dXJuIGR9LEcua2lsbFR3ZWVuc09mPUcua2lsbERlbGF5ZWRDYWxsc1RvPWZ1bmN0aW9uKGEsYixjKXtcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9YixiPSExKTtmb3IodmFyIGQ9Ry5nZXRUd2VlbnNPZihhLGIpLGU9ZC5sZW5ndGg7LS1lPi0xOylkW2VdLl9raWxsKGMsYSl9O3ZhciBiYT10KFwicGx1Z2lucy5Ud2VlblBsdWdpblwiLGZ1bmN0aW9uKGEsYil7dGhpcy5fb3ZlcndyaXRlUHJvcHM9KGF8fFwiXCIpLnNwbGl0KFwiLFwiKSx0aGlzLl9wcm9wTmFtZT10aGlzLl9vdmVyd3JpdGVQcm9wc1swXSx0aGlzLl9wcmlvcml0eT1ifHwwLHRoaXMuX3N1cGVyPWJhLnByb3RvdHlwZX0sITApO2lmKGg9YmEucHJvdG90eXBlLGJhLnZlcnNpb249XCIxLjE5LjBcIixiYS5BUEk9MixoLl9maXJzdFBUPW51bGwsaC5fYWRkVHdlZW49TyxoLnNldFJhdGlvPU0saC5fa2lsbD1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMuX292ZXJ3cml0ZVByb3BzLGQ9dGhpcy5fZmlyc3RQVDtpZihudWxsIT1hW3RoaXMuX3Byb3BOYW1lXSl0aGlzLl9vdmVyd3JpdGVQcm9wcz1bXTtlbHNlIGZvcihiPWMubGVuZ3RoOy0tYj4tMTspbnVsbCE9YVtjW2JdXSYmYy5zcGxpY2UoYiwxKTtmb3IoO2Q7KW51bGwhPWFbZC5uXSYmKGQuX25leHQmJihkLl9uZXh0Ll9wcmV2PWQuX3ByZXYpLGQuX3ByZXY/KGQuX3ByZXYuX25leHQ9ZC5fbmV4dCxkLl9wcmV2PW51bGwpOnRoaXMuX2ZpcnN0UFQ9PT1kJiYodGhpcy5fZmlyc3RQVD1kLl9uZXh0KSksZD1kLl9uZXh0O3JldHVybiExfSxoLl9tb2Q9aC5fcm91bmRQcm9wcz1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLl9maXJzdFBUO2M7KWI9YVt0aGlzLl9wcm9wTmFtZV18fG51bGwhPWMubiYmYVtjLm4uc3BsaXQodGhpcy5fcHJvcE5hbWUrXCJfXCIpLmpvaW4oXCJcIildLGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGImJigyPT09Yy5mP2MudC5fYXBwbHlQVC5tPWI6Yy5tPWIpLGM9Yy5fbmV4dH0sRy5fb25QbHVnaW5FdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaD1iLl9maXJzdFBUO2lmKFwiX29uSW5pdEFsbFByb3BzXCI9PT1hKXtmb3IoO2g7KXtmb3IoZz1oLl9uZXh0LGQ9ZTtkJiZkLnByPmgucHI7KWQ9ZC5fbmV4dDsoaC5fcHJldj1kP2QuX3ByZXY6Zik/aC5fcHJldi5fbmV4dD1oOmU9aCwoaC5fbmV4dD1kKT9kLl9wcmV2PWg6Zj1oLGg9Z31oPWIuX2ZpcnN0UFQ9ZX1mb3IoO2g7KWgucGcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGgudFthXSYmaC50W2FdKCkmJihjPSEwKSxoPWguX25leHQ7cmV0dXJuIGN9LGJhLmFjdGl2YXRlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aDstLWI+LTE7KWFbYl0uQVBJPT09YmEuQVBJJiYoUVsobmV3IGFbYl0pLl9wcm9wTmFtZV09YVtiXSk7cmV0dXJuITB9LHMucGx1Z2luPWZ1bmN0aW9uKGEpe2lmKCEoYSYmYS5wcm9wTmFtZSYmYS5pbml0JiZhLkFQSSkpdGhyb3dcImlsbGVnYWwgcGx1Z2luIGRlZmluaXRpb24uXCI7dmFyIGIsYz1hLnByb3BOYW1lLGQ9YS5wcmlvcml0eXx8MCxlPWEub3ZlcndyaXRlUHJvcHMsZj17aW5pdDpcIl9vbkluaXRUd2VlblwiLHNldDpcInNldFJhdGlvXCIsa2lsbDpcIl9raWxsXCIscm91bmQ6XCJfbW9kXCIsbW9kOlwiX21vZFwiLGluaXRBbGw6XCJfb25Jbml0QWxsUHJvcHNcIn0sZz10KFwicGx1Z2lucy5cIitjLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyKDEpK1wiUGx1Z2luXCIsZnVuY3Rpb24oKXtiYS5jYWxsKHRoaXMsYyxkKSx0aGlzLl9vdmVyd3JpdGVQcm9wcz1lfHxbXX0sYS5nbG9iYWw9PT0hMCksaD1nLnByb3RvdHlwZT1uZXcgYmEoYyk7aC5jb25zdHJ1Y3Rvcj1nLGcuQVBJPWEuQVBJO2ZvcihiIGluIGYpXCJmdW5jdGlvblwiPT10eXBlb2YgYVtiXSYmKGhbZltiXV09YVtiXSk7cmV0dXJuIGcudmVyc2lvbj1hLnZlcnNpb24sYmEuYWN0aXZhdGUoW2ddKSxnfSxmPWEuX2dzUXVldWUpe2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspZltnXSgpO2ZvcihoIGluIHEpcVtoXS5mdW5jfHxhLmNvbnNvbGUubG9nKFwiR1NBUCBlbmNvdW50ZXJlZCBtaXNzaW5nIGRlcGVuZGVuY3k6IFwiK2gpfWo9ITF9fShcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpc3x8d2luZG93LFwiVHdlZW5NYXhcIik7XG59KS5jYWxsKHRoaXMscmVxdWlyZShcImUvVSs5N1wiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2RlcGVuZGVuY2llc1xcXFxUd2Vlbk1heC5taW4uanNcIixcIi9kZXBlbmRlbmNpZXNcIikiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG4vKiFcbiAqIHBpeGkuanMgLSB2NC40LjJcbiAqIENvbXBpbGVkIFdlZCwgMTUgTWFyIDIwMTcgMjE6MTc6MDQgVVRDXG4gKlxuICogcGl4aS5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbiFmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5QSVhJPXQoKX19KGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uIHQoZSxyLG4pe2Z1bmN0aW9uIGkocyxhKXtpZighcltzXSl7aWYoIWVbc10pe3ZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJnUpcmV0dXJuIHUocywhMCk7aWYobylyZXR1cm4gbyhzLCEwKTt2YXIgbD1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3MrXCInXCIpO3Rocm93IGwuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixsfXZhciBoPXJbc109e2V4cG9ydHM6e319O2Vbc11bMF0uY2FsbChoLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtzXVsxXVt0XTtyZXR1cm4gaShyP3I6dCl9LGgsaC5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKWkobltzXSk7cmV0dXJuIGl9KHsxOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7XCJ1c2UgcmVzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciBlPTMyO3JldHVybiB0Jj0tdCx0JiZlLS0sNjU1MzUmdCYmKGUtPTE2KSwxNjcxMTkzNSZ0JiYoZS09OCksMjUyNjQ1MTM1JnQmJihlLT00KSw4NTg5OTM0NTkmdCYmKGUtPTIpLDE0MzE2NTU3NjUmdCYmKGUtPTEpLGV9dmFyIGk9MzI7ci5JTlRfQklUUz1pLHIuSU5UX01BWD0yMTQ3NDgzNjQ3LHIuSU5UX01JTj0tMTw8aS0xLHIuc2lnbj1mdW5jdGlvbih0KXtyZXR1cm4odD4wKS0odDwwKX0sci5hYnM9ZnVuY3Rpb24odCl7dmFyIGU9dD4+aS0xO3JldHVybih0XmUpLWV9LHIubWluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVeKHReZSkmLSh0PGUpfSxyLm1heD1mdW5jdGlvbih0LGUpe3JldHVybiB0Xih0XmUpJi0odDxlKX0sci5pc1BvdzI9ZnVuY3Rpb24odCl7cmV0dXJuISh0JnQtMXx8IXQpfSxyLmxvZzI9ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4gZT0odD42NTUzNSk8PDQsdD4+Pj1lLHI9KHQ+MjU1KTw8Myx0Pj4+PXIsZXw9cixyPSh0PjE1KTw8Mix0Pj4+PXIsZXw9cixyPSh0PjMpPDwxLHQ+Pj49cixlfD1yLGV8dD4+MX0sci5sb2cxMD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MWU5Pzk6dD49MWU4Pzg6dD49MWU3Pzc6dD49MWU2PzY6dD49MWU1PzU6dD49MWU0PzQ6dD49MWUzPzM6dD49MTAwPzI6dD49MTA/MTowfSxyLnBvcENvdW50PWZ1bmN0aW9uKHQpe3JldHVybiB0LT10Pj4+MSYxNDMxNjU1NzY1LHQ9KDg1ODk5MzQ1OSZ0KSsodD4+PjImODU4OTkzNDU5KSwxNjg0MzAwOSoodCsodD4+PjQpJjI1MjY0NTEzNSk+Pj4yNH0sci5jb3VudFRyYWlsaW5nWmVyb3M9bixyLm5leHRQb3cyPWZ1bmN0aW9uKHQpe3JldHVybiB0Kz0wPT09dCwtLXQsdHw9dD4+PjEsdHw9dD4+PjIsdHw9dD4+PjQsdHw9dD4+PjgsdHw9dD4+PjE2LHQrMX0sci5wcmV2UG93Mj1mdW5jdGlvbih0KXtyZXR1cm4gdHw9dD4+PjEsdHw9dD4+PjIsdHw9dD4+PjQsdHw9dD4+PjgsdHw9dD4+PjE2LHQtKHQ+Pj4xKX0sci5wYXJpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRePXQ+Pj4xNix0Xj10Pj4+OCx0Xj10Pj4+NCx0Jj0xNSwyNzAzMD4+PnQmMX07dmFyIG89bmV3IEFycmF5KDI1Nik7IWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8MjU2OysrZSl7dmFyIHI9ZSxuPWUsaT03O2ZvcihyPj4+PTE7cjtyPj4+PTEpbjw8PTEsbnw9MSZyLC0taTt0W2VdPW48PGkmMjU1fX0obyksci5yZXZlcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBvWzI1NSZ0XTw8MjR8b1t0Pj4+OCYyNTVdPDwxNnxvW3Q+Pj4xNiYyNTVdPDw4fG9bdD4+PjI0JjI1NV19LHIuaW50ZXJsZWF2ZTI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCY9NjU1MzUsdD0xNjcxMTkzNSYodHx0PDw4KSx0PTI1MjY0NTEzNSYodHx0PDw0KSx0PTg1ODk5MzQ1OSYodHx0PDwyKSx0PTE0MzE2NTU3NjUmKHR8dDw8MSksZSY9NjU1MzUsZT0xNjcxMTkzNSYoZXxlPDw4KSxlPTI1MjY0NTEzNSYoZXxlPDw0KSxlPTg1ODk5MzQ1OSYoZXxlPDwyKSxlPTE0MzE2NTU3NjUmKGV8ZTw8MSksdHxlPDwxfSxyLmRlaW50ZXJsZWF2ZTI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10Pj4+ZSYxNDMxNjU1NzY1LHQ9ODU4OTkzNDU5Jih0fHQ+Pj4xKSx0PTI1MjY0NTEzNSYodHx0Pj4+MiksdD0xNjcxMTkzNSYodHx0Pj4+NCksdD02NTUzNSYodHx0Pj4+MTYpLHQ8PDE2Pj4xNn0sci5pbnRlcmxlYXZlMz1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmPTEwMjMsdD00Mjc4MTkwMzM1Jih0fHQ8PDE2KSx0PTI1MTcxOTY5NSYodHx0PDw4KSx0PTMyNzIzNTYwMzUmKHR8dDw8NCksdD0xMjI3MTMzNTEzJih0fHQ8PDIpLGUmPTEwMjMsZT00Mjc4MTkwMzM1JihlfGU8PDE2KSxlPTI1MTcxOTY5NSYoZXxlPDw4KSxlPTMyNzIzNTYwMzUmKGV8ZTw8NCksZT0xMjI3MTMzNTEzJihlfGU8PDIpLHR8PWU8PDEsciY9MTAyMyxyPTQyNzgxOTAzMzUmKHJ8cjw8MTYpLHI9MjUxNzE5Njk1JihyfHI8PDgpLHI9MzI3MjM1NjAzNSYocnxyPDw0KSxyPTEyMjcxMzM1MTMmKHJ8cjw8MiksdHxyPDwyfSxyLmRlaW50ZXJsZWF2ZTM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10Pj4+ZSYxMjI3MTMzNTEzLHQ9MzI3MjM1NjAzNSYodHx0Pj4+MiksdD0yNTE3MTk2OTUmKHR8dD4+PjQpLHQ9NDI3ODE5MDMzNSYodHx0Pj4+OCksdD0xMDIzJih0fHQ+Pj4xNiksdDw8MjI+PjIyfSxyLm5leHRDb21iaW5hdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10fHQtMTtyZXR1cm4gZSsxfCh+ZSYtfmUpLTE+Pj5uKHQpKzF9fSx7fV0sMjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlLHIpe3I9cnx8Mjt2YXIgbj1lJiZlLmxlbmd0aCxvPW4/ZVswXSpyOnQubGVuZ3RoLGE9aSh0LDAsbyxyLCEwKSx1PVtdO2lmKCFhKXJldHVybiB1O3ZhciBsLGgsZixkLHAsdix5O2lmKG4mJihhPWModCxlLGEscikpLHQubGVuZ3RoPjgwKnIpe2w9Zj10WzBdLGg9ZD10WzFdO2Zvcih2YXIgZz1yO2c8bztnKz1yKXA9dFtnXSx2PXRbZysxXSxwPGwmJihsPXApLHY8aCYmKGg9dikscD5mJiYoZj1wKSx2PmQmJihkPXYpO3k9TWF0aC5tYXgoZi1sLGQtaCl9cmV0dXJuIHMoYSx1LHIsbCxoLHkpLHV9ZnVuY3Rpb24gaSh0LGUscixuLGkpe3ZhciBvLHM7aWYoaT09PUEodCxlLHIsbik+MClmb3Iobz1lO288cjtvKz1uKXM9TShvLHRbb10sdFtvKzFdLHMpO2Vsc2UgZm9yKG89ci1uO28+PWU7by09bilzPU0obyx0W29dLHRbbysxXSxzKTtyZXR1cm4gcyYmVChzLHMubmV4dCkmJihDKHMpLHM9cy5uZXh0KSxzfWZ1bmN0aW9uIG8odCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgcixuPXQ7ZG8gaWYocj0hMSxuLnN0ZWluZXJ8fCFUKG4sbi5uZXh0KSYmMCE9PXgobi5wcmV2LG4sbi5uZXh0KSluPW4ubmV4dDtlbHNle2lmKEMobiksbj1lPW4ucHJldixuPT09bi5uZXh0KXJldHVybiBudWxsO3I9ITB9d2hpbGUocnx8biE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIHModCxlLHIsbixpLGMsZil7aWYodCl7IWYmJmMmJnYodCxuLGksYyk7Zm9yKHZhciBkLHAseT10O3QucHJldiE9PXQubmV4dDspaWYoZD10LnByZXYscD10Lm5leHQsYz91KHQsbixpLGMpOmEodCkpZS5wdXNoKGQuaS9yKSxlLnB1c2godC5pL3IpLGUucHVzaChwLmkvciksQyh0KSx0PXAubmV4dCx5PXAubmV4dDtlbHNlIGlmKHQ9cCx0PT09eSl7Zj8xPT09Zj8odD1sKHQsZSxyKSxzKHQsZSxyLG4saSxjLDIpKToyPT09ZiYmaCh0LGUscixuLGksYyk6cyhvKHQpLGUscixuLGksYywxKTticmVha319fWZ1bmN0aW9uIGEodCl7dmFyIGU9dC5wcmV2LHI9dCxuPXQubmV4dDtpZih4KGUscixuKT49MClyZXR1cm4hMTtmb3IodmFyIGk9dC5uZXh0Lm5leHQ7aSE9PXQucHJldjspe2lmKF8oZS54LGUueSxyLngsci55LG4ueCxuLnksaS54LGkueSkmJngoaS5wcmV2LGksaS5uZXh0KT49MClyZXR1cm4hMTtpPWkubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiB1KHQsZSxyLG4pe3ZhciBpPXQucHJldixvPXQscz10Lm5leHQ7aWYoeChpLG8scyk+PTApcmV0dXJuITE7Zm9yKHZhciBhPWkueDxvLng/aS54PHMueD9pLng6cy54Om8ueDxzLng/by54OnMueCx1PWkueTxvLnk/aS55PHMueT9pLnk6cy55Om8ueTxzLnk/by55OnMueSxsPWkueD5vLng/aS54PnMueD9pLng6cy54Om8ueD5zLng/by54OnMueCxoPWkueT5vLnk/aS55PnMueT9pLnk6cy55Om8ueT5zLnk/by55OnMueSxjPWcoYSx1LGUscixuKSxmPWcobCxoLGUscixuKSxkPXQubmV4dFo7ZCYmZC56PD1mOyl7aWYoZCE9PXQucHJldiYmZCE9PXQubmV4dCYmXyhpLngsaS55LG8ueCxvLnkscy54LHMueSxkLngsZC55KSYmeChkLnByZXYsZCxkLm5leHQpPj0wKXJldHVybiExO2Q9ZC5uZXh0Wn1mb3IoZD10LnByZXZaO2QmJmQuej49Yzspe2lmKGQhPT10LnByZXYmJmQhPT10Lm5leHQmJl8oaS54LGkueSxvLngsby55LHMueCxzLnksZC54LGQueSkmJngoZC5wcmV2LGQsZC5uZXh0KT49MClyZXR1cm4hMTtkPWQucHJldlp9cmV0dXJuITB9ZnVuY3Rpb24gbCh0LGUscil7dmFyIG49dDtkb3t2YXIgaT1uLnByZXYsbz1uLm5leHQubmV4dDshVChpLG8pJiZ3KGksbixuLm5leHQsbykmJlMoaSxvKSYmUyhvLGkpJiYoZS5wdXNoKGkuaS9yKSxlLnB1c2gobi5pL3IpLGUucHVzaChvLmkvciksQyhuKSxDKG4ubmV4dCksbj10PW8pLG49bi5uZXh0fXdoaWxlKG4hPT10KTtyZXR1cm4gbn1mdW5jdGlvbiBoKHQsZSxyLG4saSxhKXt2YXIgdT10O2Rve2Zvcih2YXIgbD11Lm5leHQubmV4dDtsIT09dS5wcmV2Oyl7aWYodS5pIT09bC5pJiZiKHUsbCkpe3ZhciBoPVAodSxsKTtyZXR1cm4gdT1vKHUsdS5uZXh0KSxoPW8oaCxoLm5leHQpLHModSxlLHIsbixpLGEpLHZvaWQgcyhoLGUscixuLGksYSl9bD1sLm5leHR9dT11Lm5leHR9d2hpbGUodSE9PXQpfWZ1bmN0aW9uIGModCxlLHIsbil7dmFyIHMsYSx1LGwsaCxjPVtdO2ZvcihzPTAsYT1lLmxlbmd0aDtzPGE7cysrKXU9ZVtzXSpuLGw9czxhLTE/ZVtzKzFdKm46dC5sZW5ndGgsaD1pKHQsdSxsLG4sITEpLGg9PT1oLm5leHQmJihoLnN0ZWluZXI9ITApLGMucHVzaChtKGgpKTtmb3IoYy5zb3J0KGYpLHM9MDtzPGMubGVuZ3RoO3MrKylkKGNbc10scikscj1vKHIsci5uZXh0KTtyZXR1cm4gcn1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIHQueC1lLnh9ZnVuY3Rpb24gZCh0LGUpe2lmKGU9cCh0LGUpKXt2YXIgcj1QKGUsdCk7byhyLHIubmV4dCl9fWZ1bmN0aW9uIHAodCxlKXt2YXIgcixuPWUsaT10Lngsbz10Lnkscz0tKDEvMCk7ZG97aWYobzw9bi55JiZvPj1uLm5leHQueSl7dmFyIGE9bi54KyhvLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aWYoYTw9aSYmYT5zKXtpZihzPWEsYT09PWkpe2lmKG89PT1uLnkpcmV0dXJuIG47aWYobz09PW4ubmV4dC55KXJldHVybiBuLm5leHR9cj1uLng8bi5uZXh0Lng/bjpuLm5leHR9fW49bi5uZXh0fXdoaWxlKG4hPT1lKTtpZighcilyZXR1cm4gbnVsbDtpZihpPT09cylyZXR1cm4gci5wcmV2O3ZhciB1LGw9cixoPXIueCxjPXIueSxmPTEvMDtmb3Iobj1yLm5leHQ7biE9PWw7KWk+PW4ueCYmbi54Pj1oJiZfKG88Yz9pOnMsbyxoLGMsbzxjP3M6aSxvLG4ueCxuLnkpJiYodT1NYXRoLmFicyhvLW4ueSkvKGktbi54KSwodTxmfHx1PT09ZiYmbi54PnIueCkmJlMobix0KSYmKHI9bixmPXUpKSxuPW4ubmV4dDtyZXR1cm4gcn1mdW5jdGlvbiB2KHQsZSxyLG4pe3ZhciBpPXQ7ZG8gbnVsbD09PWkueiYmKGkuej1nKGkueCxpLnksZSxyLG4pKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dDt3aGlsZShpIT09dCk7aS5wcmV2Wi5uZXh0Wj1udWxsLGkucHJldlo9bnVsbCx5KGkpfWZ1bmN0aW9uIHkodCl7dmFyIGUscixuLGksbyxzLGEsdSxsPTE7ZG97Zm9yKHI9dCx0PW51bGwsbz1udWxsLHM9MDtyOyl7Zm9yKHMrKyxuPXIsYT0wLGU9MDtlPGwmJihhKyssbj1uLm5leHRaLG4pO2UrKyk7Zm9yKHU9bDthPjB8fHU+MCYmbjspMD09PWE/KGk9bixuPW4ubmV4dFosdS0tKTowIT09dSYmbj9yLno8PW4uej8oaT1yLHI9ci5uZXh0WixhLS0pOihpPW4sbj1uLm5leHRaLHUtLSk6KGk9cixyPXIubmV4dFosYS0tKSxvP28ubmV4dFo9aTp0PWksaS5wcmV2Wj1vLG89aTtyPW59by5uZXh0Wj1udWxsLGwqPTJ9d2hpbGUocz4xKTtyZXR1cm4gdH1mdW5jdGlvbiBnKHQsZSxyLG4saSl7cmV0dXJuIHQ9MzI3NjcqKHQtcikvaSxlPTMyNzY3KihlLW4pL2ksdD0xNjcxMTkzNSYodHx0PDw4KSx0PTI1MjY0NTEzNSYodHx0PDw0KSx0PTg1ODk5MzQ1OSYodHx0PDwyKSx0PTE0MzE2NTU3NjUmKHR8dDw8MSksZT0xNjcxMTkzNSYoZXxlPDw4KSxlPTI1MjY0NTEzNSYoZXxlPDw0KSxlPTg1ODk5MzQ1OSYoZXxlPDwyKSxlPTE0MzE2NTU3NjUmKGV8ZTw8MSksdHxlPDwxfWZ1bmN0aW9uIG0odCl7dmFyIGU9dCxyPXQ7ZG8gZS54PHIueCYmKHI9ZSksZT1lLm5leHQ7d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIF8odCxlLHIsbixpLG8scyxhKXtyZXR1cm4oaS1zKSooZS1hKS0odC1zKSooby1hKT49MCYmKHQtcykqKG4tYSktKHItcykqKGUtYSk+PTAmJihyLXMpKihvLWEpLShpLXMpKihuLWEpPj0wfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhRSh0LGUpJiZTKHQsZSkmJlMoZSx0KSYmTyh0LGUpfWZ1bmN0aW9uIHgodCxlLHIpe3JldHVybihlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBUKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fWZ1bmN0aW9uIHcodCxlLHIsbil7cmV0dXJuISEoVCh0LGUpJiZUKHIsbil8fFQodCxuKSYmVChyLGUpKXx8eCh0LGUscik+MCE9eCh0LGUsbik+MCYmeChyLG4sdCk+MCE9eChyLG4sZSk+MH1mdW5jdGlvbiBFKHQsZSl7dmFyIHI9dDtkb3tpZihyLmkhPT10LmkmJnIubmV4dC5pIT09dC5pJiZyLmkhPT1lLmkmJnIubmV4dC5pIT09ZS5pJiZ3KHIsci5uZXh0LHQsZSkpcmV0dXJuITA7cj1yLm5leHR9d2hpbGUociE9PXQpO3JldHVybiExfWZ1bmN0aW9uIFModCxlKXtyZXR1cm4geCh0LnByZXYsdCx0Lm5leHQpPDA/eCh0LGUsdC5uZXh0KT49MCYmeCh0LHQucHJldixlKT49MDp4KHQsZSx0LnByZXYpPDB8fHgodCx0Lm5leHQsZSk8MH1mdW5jdGlvbiBPKHQsZSl7dmFyIHI9dCxuPSExLGk9KHQueCtlLngpLzIsbz0odC55K2UueSkvMjtkbyByLnk+byE9ci5uZXh0Lnk+byYmaTwoci5uZXh0Lngtci54KSooby1yLnkpLyhyLm5leHQueS1yLnkpK3IueCYmKG49IW4pLHI9ci5uZXh0O3doaWxlKHIhPT10KTtyZXR1cm4gbn1mdW5jdGlvbiBQKHQsZSl7dmFyIHI9bmV3IFIodC5pLHQueCx0LnkpLG49bmV3IFIoZS5pLGUueCxlLnkpLGk9dC5uZXh0LG89ZS5wcmV2O3JldHVybiB0Lm5leHQ9ZSxlLnByZXY9dCxyLm5leHQ9aSxpLnByZXY9cixuLm5leHQ9cixyLnByZXY9bixvLm5leHQ9bixuLnByZXY9byxufWZ1bmN0aW9uIE0odCxlLHIsbil7dmFyIGk9bmV3IFIodCxlLHIpO3JldHVybiBuPyhpLm5leHQ9bi5uZXh0LGkucHJldj1uLG4ubmV4dC5wcmV2PWksbi5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiBDKHQpe3QubmV4dC5wcmV2PXQucHJldix0LnByZXYubmV4dD10Lm5leHQsdC5wcmV2WiYmKHQucHJldloubmV4dFo9dC5uZXh0WiksdC5uZXh0WiYmKHQubmV4dFoucHJldlo9dC5wcmV2Wil9ZnVuY3Rpb24gUih0LGUscil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PXIsdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gQSh0LGUscixuKXtmb3IodmFyIGk9MCxvPWUscz1yLW47bzxyO28rPW4paSs9KHRbc10tdFtvXSkqKHRbbysxXSt0W3MrMV0pLHM9bztyZXR1cm4gaX1lLmV4cG9ydHM9bixuLmRldmlhdGlvbj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lJiZlLmxlbmd0aCxvPWk/ZVswXSpyOnQubGVuZ3RoLHM9TWF0aC5hYnMoQSh0LDAsbyxyKSk7aWYoaSlmb3IodmFyIGE9MCx1PWUubGVuZ3RoO2E8dTthKyspe3ZhciBsPWVbYV0qcixoPWE8dS0xP2VbYSsxXSpyOnQubGVuZ3RoO3MtPU1hdGguYWJzKEEodCxsLGgscikpfXZhciBjPTA7Zm9yKGE9MDthPG4ubGVuZ3RoO2ErPTMpe3ZhciBmPW5bYV0qcixkPW5bYSsxXSpyLHA9blthKzJdKnI7Yys9TWF0aC5hYnMoKHRbZl0tdFtwXSkqKHRbZCsxXS10W2YrMV0pLSh0W2ZdLXRbZF0pKih0W3ArMV0tdFtmKzFdKSl9cmV0dXJuIDA9PT1zJiYwPT09Yz8wOk1hdGguYWJzKChjLXMpL3MpfSxuLmZsYXR0ZW49ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF1bMF0ubGVuZ3RoLHI9e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6ZX0sbj0wLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspZm9yKHZhciBzPTA7czxlO3MrKylyLnZlcnRpY2VzLnB1c2godFtpXVtvXVtzXSk7aT4wJiYobis9dFtpLTFdLmxlbmd0aCxyLmhvbGVzLnB1c2gobikpfXJldHVybiByfX0se31dLDM6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIGkodCxlLHIpe3RoaXMuZm49dCx0aGlzLmNvbnRleHQ9ZSx0aGlzLm9uY2U9cnx8ITF9ZnVuY3Rpb24gbygpe3RoaXMuX2V2ZW50cz1uZXcgbix0aGlzLl9ldmVudHNDb3VudD0wfXZhciBzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYT1cIn5cIjtPYmplY3QuY3JlYXRlJiYobi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShudWxsKSwobmV3IG4pLl9fcHJvdG9fX3x8KGE9ITEpKSxvLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyPVtdO2lmKDA9PT10aGlzLl9ldmVudHNDb3VudClyZXR1cm4gcjtmb3IoZSBpbiB0PXRoaXMuX2V2ZW50cylzLmNhbGwodCxlKSYmci5wdXNoKGE/ZS5zbGljZSgxKTplKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9yLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKTpyfSxvLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCxlKXt2YXIgcj1hP2ErdDp0LG49dGhpcy5fZXZlbnRzW3JdO2lmKGUpcmV0dXJuISFuO2lmKCFuKXJldHVybltdO2lmKG4uZm4pcmV0dXJuW24uZm5dO2Zvcih2YXIgaT0wLG89bi5sZW5ndGgscz1uZXcgQXJyYXkobyk7aTxvO2krKylzW2ldPW5baV0uZm47cmV0dXJuIHN9LG8ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxlLHIsbixpLG8pe3ZhciBzPWE/YSt0OnQ7aWYoIXRoaXMuX2V2ZW50c1tzXSlyZXR1cm4hMTt2YXIgdSxsLGg9dGhpcy5fZXZlbnRzW3NdLGM9YXJndW1lbnRzLmxlbmd0aDtpZihoLmZuKXtzd2l0Y2goaC5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKHQsaC5mbix2b2lkIDAsITApLGMpe2Nhc2UgMTpyZXR1cm4gaC5mbi5jYWxsKGguY29udGV4dCksITA7Y2FzZSAyOnJldHVybiBoLmZuLmNhbGwoaC5jb250ZXh0LGUpLCEwO2Nhc2UgMzpyZXR1cm4gaC5mbi5jYWxsKGguY29udGV4dCxlLHIpLCEwO2Nhc2UgNDpyZXR1cm4gaC5mbi5jYWxsKGguY29udGV4dCxlLHIsbiksITA7Y2FzZSA1OnJldHVybiBoLmZuLmNhbGwoaC5jb250ZXh0LGUscixuLGkpLCEwO2Nhc2UgNjpyZXR1cm4gaC5mbi5jYWxsKGguY29udGV4dCxlLHIsbixpLG8pLCEwfWZvcihsPTEsdT1uZXcgQXJyYXkoYy0xKTtsPGM7bCsrKXVbbC0xXT1hcmd1bWVudHNbbF07aC5mbi5hcHBseShoLmNvbnRleHQsdSl9ZWxzZXt2YXIgZixkPWgubGVuZ3RoO2ZvcihsPTA7bDxkO2wrKylzd2l0Y2goaFtsXS5vbmNlJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKHQsaFtsXS5mbix2b2lkIDAsITApLGMpe2Nhc2UgMTpoW2xdLmZuLmNhbGwoaFtsXS5jb250ZXh0KTticmVhaztjYXNlIDI6aFtsXS5mbi5jYWxsKGhbbF0uY29udGV4dCxlKTticmVhaztjYXNlIDM6aFtsXS5mbi5jYWxsKGhbbF0uY29udGV4dCxlLHIpO2JyZWFrO2Nhc2UgNDpoW2xdLmZuLmNhbGwoaFtsXS5jb250ZXh0LGUscixuKTticmVhaztkZWZhdWx0OmlmKCF1KWZvcihmPTEsdT1uZXcgQXJyYXkoYy0xKTtmPGM7ZisrKXVbZi0xXT1hcmd1bWVudHNbZl07aFtsXS5mbi5hcHBseShoW2xdLmNvbnRleHQsdSl9fXJldHVybiEwfSxvLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUscil7dmFyIG49bmV3IGkoZSxyfHx0aGlzKSxvPWE/YSt0OnQ7cmV0dXJuIHRoaXMuX2V2ZW50c1tvXT90aGlzLl9ldmVudHNbb10uZm4/dGhpcy5fZXZlbnRzW29dPVt0aGlzLl9ldmVudHNbb10sbl06dGhpcy5fZXZlbnRzW29dLnB1c2gobik6KHRoaXMuX2V2ZW50c1tvXT1uLHRoaXMuX2V2ZW50c0NvdW50KyspLHRoaXN9LG8ucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPW5ldyBpKGUscnx8dGhpcywoITApKSxvPWE/YSt0OnQ7cmV0dXJuIHRoaXMuX2V2ZW50c1tvXT90aGlzLl9ldmVudHNbb10uZm4/dGhpcy5fZXZlbnRzW29dPVt0aGlzLl9ldmVudHNbb10sbl06dGhpcy5fZXZlbnRzW29dLnB1c2gobik6KHRoaXMuX2V2ZW50c1tvXT1uLHRoaXMuX2V2ZW50c0NvdW50KyspLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSxyLGkpe3ZhciBvPWE/YSt0OnQ7aWYoIXRoaXMuX2V2ZW50c1tvXSlyZXR1cm4gdGhpcztpZighZSlyZXR1cm4gMD09PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPW5ldyBuOmRlbGV0ZSB0aGlzLl9ldmVudHNbb10sdGhpczt2YXIgcz10aGlzLl9ldmVudHNbb107aWYocy5mbilzLmZuIT09ZXx8aSYmIXMub25jZXx8ciYmcy5jb250ZXh0IT09cnx8KDA9PT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1uZXcgbjpkZWxldGUgdGhpcy5fZXZlbnRzW29dKTtlbHNle2Zvcih2YXIgdT0wLGw9W10saD1zLmxlbmd0aDt1PGg7dSsrKShzW3VdLmZuIT09ZXx8aSYmIXNbdV0ub25jZXx8ciYmc1t1XS5jb250ZXh0IT09cikmJmwucHVzaChzW3VdKTtsLmxlbmd0aD90aGlzLl9ldmVudHNbb109MT09PWwubGVuZ3RoP2xbMF06bDowPT09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9bmV3IG46ZGVsZXRlIHRoaXMuX2V2ZW50c1tvXX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0PyhlPWE/YSt0OnQsdGhpcy5fZXZlbnRzW2VdJiYoMD09PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPW5ldyBuOmRlbGV0ZSB0aGlzLl9ldmVudHNbZV0pKToodGhpcy5fZXZlbnRzPW5ldyBuLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXN9LG8ucHJvdG90eXBlLm9mZj1vLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixvLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1vLnByb3RvdHlwZS5vbixvLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sby5wcmVmaXhlZD1hLG8uRXZlbnRFbWl0dGVyPW8sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJihlLmV4cG9ydHM9byl9LHt9XSw0OltmdW5jdGlvbihlLHIsbil7IWZ1bmN0aW9uKGUpe3ZhciBuPS9pUGhvbmUvaSxpPS9pUG9kL2ksbz0vaVBhZC9pLHM9Lyg/PS4qXFxiQW5kcm9pZFxcYikoPz0uKlxcYk1vYmlsZVxcYikvaSxhPS9BbmRyb2lkL2ksdT0vKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksbD0vKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxoPS9JRU1vYmlsZS9pLGM9Lyg/PS4qXFxiV2luZG93c1xcYikoPz0uKlxcYkFSTVxcYikvaSxmPS9CbGFja0JlcnJ5L2ksZD0vQkIxMC9pLHA9L09wZXJhIE1pbmkvaSx2PS8oQ3JpT1N8Q2hyb21lKSg/PS4qXFxiTW9iaWxlXFxiKS9pLHk9Lyg/PS4qXFxiRmlyZWZveFxcYikoPz0uKlxcYk1vYmlsZVxcYikvaSxnPW5ldyBSZWdFeHAoXCIoPzpOZXh1cyA3fEJOVFYyNTB8S2luZGxlIEZpcmV8U2lsa3xHVC1QMTAwMClcIixcImlcIiksbT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnRlc3QoZSl9LF89ZnVuY3Rpb24odCl7dmFyIGU9dHx8bmF2aWdhdG9yLnVzZXJBZ2VudCxyPWUuc3BsaXQoXCJbRkJBTlwiKTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgclsxXSYmKGU9clswXSkscj1lLnNwbGl0KFwiVHdpdHRlclwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgclsxXSYmKGU9clswXSksdGhpcy5hcHBsZT17cGhvbmU6bShuLGUpLGlwb2Q6bShpLGUpLHRhYmxldDohbShuLGUpJiZtKG8sZSksZGV2aWNlOm0obixlKXx8bShpLGUpfHxtKG8sZSl9LHRoaXMuYW1hem9uPXtwaG9uZTptKHUsZSksdGFibGV0OiFtKHUsZSkmJm0obCxlKSxkZXZpY2U6bSh1LGUpfHxtKGwsZSl9LHRoaXMuYW5kcm9pZD17cGhvbmU6bSh1LGUpfHxtKHMsZSksdGFibGV0OiFtKHUsZSkmJiFtKHMsZSkmJihtKGwsZSl8fG0oYSxlKSksZGV2aWNlOm0odSxlKXx8bShsLGUpfHxtKHMsZSl8fG0oYSxlKX0sdGhpcy53aW5kb3dzPXtwaG9uZTptKGgsZSksdGFibGV0Om0oYyxlKSxkZXZpY2U6bShoLGUpfHxtKGMsZSl9LHRoaXMub3RoZXI9e2JsYWNrYmVycnk6bShmLGUpLGJsYWNrYmVycnkxMDptKGQsZSksb3BlcmE6bShwLGUpLGZpcmVmb3g6bSh5LGUpLGNocm9tZTptKHYsZSksZGV2aWNlOm0oZixlKXx8bShkLGUpfHxtKHAsZSl8fG0oeSxlKXx8bSh2LGUpfSx0aGlzLnNldmVuX2luY2g9bShnLGUpLHRoaXMuYW55PXRoaXMuYXBwbGUuZGV2aWNlfHx0aGlzLmFuZHJvaWQuZGV2aWNlfHx0aGlzLndpbmRvd3MuZGV2aWNlfHx0aGlzLm90aGVyLmRldmljZXx8dGhpcy5zZXZlbl9pbmNoLHRoaXMucGhvbmU9dGhpcy5hcHBsZS5waG9uZXx8dGhpcy5hbmRyb2lkLnBob25lfHx0aGlzLndpbmRvd3MucGhvbmUsdGhpcy50YWJsZXQ9dGhpcy5hcHBsZS50YWJsZXR8fHRoaXMuYW5kcm9pZC50YWJsZXR8fHRoaXMud2luZG93cy50YWJsZXQsXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdylyZXR1cm4gdGhpc30sYj1mdW5jdGlvbigpe3ZhciB0PW5ldyBfO3JldHVybiB0LkNsYXNzPV8sdH07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJnIuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9yLmV4cG9ydHM9XzpcInVuZGVmaW5lZFwiIT10eXBlb2YgciYmci5leHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3IuZXhwb3J0cz1iKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5hbWQ/dChcImlzTW9iaWxlXCIsW10sZS5pc01vYmlsZT1iKCkpOmUuaXNNb2JpbGU9YigpfSh0aGlzKX0se31dLDU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKG51bGw9PT10fHx2b2lkIDA9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0KHQpfWZ1bmN0aW9uIGkoKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIHQ9bmV3IFN0cmluZyhcImFiY1wiKTtpZih0WzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpWzBdKXJldHVybiExO2Zvcih2YXIgZT17fSxyPTA7cjwxMDtyKyspZVtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKHIpXT1yO3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pO2lmKFwiMDEyMzQ1Njc4OVwiIT09bi5qb2luKFwiXCIpKXJldHVybiExO3ZhciBpPXt9O3JldHVyblwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIi5zcGxpdChcIlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lbdF09dH0pLFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIj09PU9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30saSkpLmpvaW4oXCJcIil9Y2F0Y2godCl7cmV0dXJuITF9fXZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGE9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtlLmV4cG9ydHM9aSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsaSx1PW4odCksbD0xO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspe3I9T2JqZWN0KGFyZ3VtZW50c1tsXSk7Zm9yKHZhciBoIGluIHIpcy5jYWxsKHIsaCkmJih1W2hdPXJbaF0pO2lmKG8pe2k9byhyKTtmb3IodmFyIGM9MDtjPGkubGVuZ3RoO2MrKylhLmNhbGwocixpW2NdKSYmKHVbaVtjXV09cltpW2NdXSl9fXJldHVybiB1fX0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1uZXcgQXJyYXlCdWZmZXIoMCksaT1mdW5jdGlvbih0LGUscixpKXt0aGlzLmdsPXQsdGhpcy5idWZmZXI9dC5jcmVhdGVCdWZmZXIoKSx0aGlzLnR5cGU9ZXx8dC5BUlJBWV9CVUZGRVIsdGhpcy5kcmF3VHlwZT1pfHx0LlNUQVRJQ19EUkFXLHRoaXMuZGF0YT1uLHImJnRoaXMudXBsb2FkKHIpfTtpLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCxlLHIpe3J8fHRoaXMuYmluZCgpO3ZhciBuPXRoaXMuZ2w7dD10fHx0aGlzLmRhdGEsZT1lfHwwLHRoaXMuZGF0YS5ieXRlTGVuZ3RoPj10LmJ5dGVMZW5ndGg/bi5idWZmZXJTdWJEYXRhKHRoaXMudHlwZSxlLHQpOm4uYnVmZmVyRGF0YSh0aGlzLnR5cGUsdCx0aGlzLmRyYXdUeXBlKSx0aGlzLmRhdGE9dH0saS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHRoaXMudHlwZSx0aGlzLmJ1ZmZlcil9LGkuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbmV3IGkodCx0LkFSUkFZX0JVRkZFUixlLHIpfSxpLmNyZWF0ZUluZGV4QnVmZmVyPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbmV3IGkodCx0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUscil9LGkuY3JlYXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuZXcgaSh0LGUscixuKX0saS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKX0sZS5leHBvcnRzPWl9LHt9XSw3OltmdW5jdGlvbih0LGUscil7dmFyIG49dChcIi4vR0xUZXh0dXJlXCIpLGk9ZnVuY3Rpb24odCxlLHIpe3RoaXMuZ2w9dCx0aGlzLmZyYW1lYnVmZmVyPXQuY3JlYXRlRnJhbWVidWZmZXIoKSx0aGlzLnN0ZW5jaWw9bnVsbCx0aGlzLnRleHR1cmU9bnVsbCx0aGlzLndpZHRoPWV8fDEwMCx0aGlzLmhlaWdodD1yfHwxMDB9O2kucHJvdG90eXBlLmVuYWJsZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nbDt0aGlzLnRleHR1cmU9dHx8bmV3IG4oZSksdGhpcy50ZXh0dXJlLmJpbmQoKSx0aGlzLmJpbmQoKSxlLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGUuRlJBTUVCVUZGRVIsZS5DT0xPUl9BVFRBQ0hNRU5UMCxlLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlLnRleHR1cmUsMCl9LGkucHJvdG90eXBlLmVuYWJsZVN0ZW5jaWw9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGVuY2lsKXt2YXIgdD10aGlzLmdsO3RoaXMuc3RlbmNpbD10LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHQuYmluZFJlbmRlcmJ1ZmZlcih0LlJFTkRFUkJVRkZFUix0aGlzLnN0ZW5jaWwpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0LkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCx0LlJFTkRFUkJVRkZFUix0aGlzLnN0ZW5jaWwpLHQucmVuZGVyYnVmZmVyU3RvcmFnZSh0LlJFTkRFUkJVRkZFUix0LkRFUFRIX1NURU5DSUwsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0LGUscixuKXt0aGlzLmJpbmQoKTt2YXIgaT10aGlzLmdsO2kuY2xlYXJDb2xvcih0LGUscixuKSxpLmNsZWFyKGkuQ09MT1JfQlVGRkVSX0JJVCl9LGkucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsdGhpcy5mcmFtZWJ1ZmZlcil9LGkucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKX0saS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5nbDt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS51cGxvYWREYXRhKG51bGwsdCxlKSx0aGlzLnN0ZW5jaWwmJihyLmJpbmRSZW5kZXJidWZmZXIoci5SRU5ERVJCVUZGRVIsdGhpcy5zdGVuY2lsKSxyLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uoci5SRU5ERVJCVUZGRVIsci5ERVBUSF9TVEVOQ0lMLHQsZSkpfSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDt0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS5kZXN0cm95KCksdC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKSx0aGlzLmdsPW51bGwsdGhpcy5zdGVuY2lsPW51bGwsdGhpcy50ZXh0dXJlPW51bGx9LGkuY3JlYXRlUkdCQT1mdW5jdGlvbih0LGUscixvKXt2YXIgcz1uLmZyb21EYXRhKHQsbnVsbCxlLHIpO3MuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKSxzLmVuYWJsZVdyYXBDbGFtcCgpO3ZhciBhPW5ldyBpKHQsZSxyKTtyZXR1cm4gYS5lbmFibGVUZXh0dXJlKHMpLGEudW5iaW5kKCksYX0saS5jcmVhdGVGbG9hdDMyPWZ1bmN0aW9uKHQsZSxyLG8pe3ZhciBzPW5ldyBuLmZyb21EYXRhKHQsbyxlLHIpO3MuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKSxzLmVuYWJsZVdyYXBDbGFtcCgpO3ZhciBhPW5ldyBpKHQsZSxyKTtyZXR1cm4gYS5lbmFibGVUZXh0dXJlKHMpLGEudW5iaW5kKCksYX0sZS5leHBvcnRzPWl9LHtcIi4vR0xUZXh0dXJlXCI6OX1dLDg6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj10KFwiLi9zaGFkZXIvY29tcGlsZVByb2dyYW1cIiksaT10KFwiLi9zaGFkZXIvZXh0cmFjdEF0dHJpYnV0ZXNcIiksbz10KFwiLi9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zXCIpLHM9dChcIi4vc2hhZGVyL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdFwiKSxhPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmdsPXQsdGhpcy5wcm9ncmFtPW4odCxlLHIpLHRoaXMuYXR0cmlidXRlcz1pKHQsdGhpcy5wcm9ncmFtKTt2YXIgYT1vKHQsdGhpcy5wcm9ncmFtKTt0aGlzLnVuaWZvcm1zPXModCxhKX07YS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3RoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pfSxhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSxlLmV4cG9ydHM9YX0se1wiLi9zaGFkZXIvY29tcGlsZVByb2dyYW1cIjoxNCxcIi4vc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzXCI6MTYsXCIuL3NoYWRlci9leHRyYWN0VW5pZm9ybXNcIjoxNyxcIi4vc2hhZGVyL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdFwiOjE4fV0sOTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy5nbD10LHRoaXMudGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSx0aGlzLm1pcG1hcD0hMSx0aGlzLnByZW11bHRpcGx5QWxwaGE9ITEsdGhpcy53aWR0aD1lfHwtMSx0aGlzLmhlaWdodD1yfHwtMSx0aGlzLmZvcm1hdD1ufHx0LlJHQkEsdGhpcy50eXBlPWl8fHQuVU5TSUdORURfQllURX07bi5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMuYmluZCgpO3ZhciBlPXRoaXMuZ2w7ZS5waXhlbFN0b3JlaShlLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCx0aGlzLnByZW11bHRpcGx5QWxwaGEpO3ZhciByPXQudmlkZW9XaWR0aHx8dC53aWR0aCxuPXQudmlkZW9IZWlnaHR8fHQuaGVpZ2h0O24hPT10aGlzLmhlaWdodHx8ciE9PXRoaXMud2lkdGg/ZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LHRoaXMuZm9ybWF0LHRoaXMudHlwZSx0KTplLnRleFN1YkltYWdlMkQoZS5URVhUVVJFXzJELDAsMCwwLHRoaXMuZm9ybWF0LHRoaXMudHlwZSx0KSx0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9bn07dmFyIGk9ITE7bi5wcm90b3R5cGUudXBsb2FkRGF0YT1mdW5jdGlvbih0LGUscil7dGhpcy5iaW5kKCk7dmFyIG49dGhpcy5nbDtpZih0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtpZighaSl7dmFyIG89bi5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdFwiKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJmbG9hdGluZyBwb2ludCB0ZXh0dXJlcyBub3QgYXZhaWxhYmxlXCIpO2k9ITB9dGhpcy50eXBlPW4uRkxPQVR9ZWxzZSB0aGlzLnR5cGU9bi5VTlNJR05FRF9CWVRFO24ucGl4ZWxTdG9yZWkobi5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsdGhpcy5wcmVtdWx0aXBseUFscGhhKSxlIT09dGhpcy53aWR0aHx8ciE9PXRoaXMuaGVpZ2h0P24udGV4SW1hZ2UyRChuLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxlLHIsMCx0aGlzLmZvcm1hdCx0aGlzLnR5cGUsdHx8bnVsbCk6bi50ZXhTdWJJbWFnZTJEKG4uVEVYVFVSRV8yRCwwLDAsMCxlLHIsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHR8fG51bGwpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1yfSxuLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2w7dm9pZCAwIT09dCYmZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTArdCksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKX0sbi5wcm90b3R5cGUudW5iaW5kPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxudWxsKX0sbi5wcm90b3R5cGUubWluRmlsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2w7dGhpcy5iaW5kKCksdGhpcy5taXBtYXA/ZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfTUlOX0ZJTFRFUix0P2UuTElORUFSX01JUE1BUF9MSU5FQVI6ZS5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTplLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NSU5fRklMVEVSLHQ/ZS5MSU5FQVI6ZS5ORUFSRVNUKX0sbi5wcm90b3R5cGUubWFnRmlsdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2w7dGhpcy5iaW5kKCksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfTUFHX0ZJTFRFUix0P2UuTElORUFSOmUuTkVBUkVTVCl9LG4ucHJvdG90eXBlLmVuYWJsZU1pcG1hcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dGhpcy5iaW5kKCksdGhpcy5taXBtYXA9ITAsdC5nZW5lcmF0ZU1pcG1hcCh0LlRFWFRVUkVfMkQpfSxuLnByb3RvdHlwZS5lbmFibGVMaW5lYXJTY2FsaW5nPWZ1bmN0aW9uKCl7dGhpcy5taW5GaWx0ZXIoITApLHRoaXMubWFnRmlsdGVyKCEwKX0sbi5wcm90b3R5cGUuZW5hYmxlTmVhcmVzdFNjYWxpbmc9ZnVuY3Rpb24oKXt0aGlzLm1pbkZpbHRlcighMSksdGhpcy5tYWdGaWx0ZXIoITEpfSxuLnByb3RvdHlwZS5lbmFibGVXcmFwQ2xhbXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3RoaXMuYmluZCgpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LkNMQU1QX1RPX0VER0UpfSxuLnByb3RvdHlwZS5lbmFibGVXcmFwUmVwZWF0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDt0aGlzLmJpbmQoKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5SRVBFQVQpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LlJFUEVBVCl9LG4ucHJvdG90eXBlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3RoaXMuYmluZCgpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0Lk1JUlJPUkVEX1JFUEVBVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuTUlSUk9SRURfUkVQRUFUKX0sbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSl9LG4uZnJvbVNvdXJjZT1mdW5jdGlvbih0LGUscil7dmFyIGk9bmV3IG4odCk7cmV0dXJuIGkucHJlbXVsdGlwbHlBbHBoYT1yfHwhMSxpLnVwbG9hZChlKSxpfSxuLmZyb21EYXRhPWZ1bmN0aW9uKHQsZSxyLGkpe3ZhciBvPW5ldyBuKHQpO3JldHVybiBvLnVwbG9hZERhdGEoZSxyLGkpLG99LGUuZXhwb3J0cz1ufSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQsZSl7aWYodGhpcy5uYXRpdmVWYW9FeHRlbnNpb249bnVsbCxuLkZPUkNFX05BVElWRXx8KHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uPXQuZ2V0RXh0ZW5zaW9uKFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIil8fHQuZ2V0RXh0ZW5zaW9uKFwiTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpfHx0LmdldEV4dGVuc2lvbihcIldFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSksdGhpcy5uYXRpdmVTdGF0ZT1lLHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKXt0aGlzLm5hdGl2ZVZhbz10aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO3ZhciByPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX1ZFUlRFWF9BVFRSSUJTKTt0aGlzLm5hdGl2ZVN0YXRlPXt0ZW1wQXR0cmliU3RhdGU6bmV3IEFycmF5KHIpLGF0dHJpYlN0YXRlOm5ldyBBcnJheShyKX19dGhpcy5nbD10LHRoaXMuYXR0cmlidXRlcz1bXSx0aGlzLmluZGV4QnVmZmVyPW51bGwsdGhpcy5kaXJ0eT0hMX12YXIgaT10KFwiLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXNcIik7bi5wcm90b3R5cGUuY29uc3RydWN0b3I9bixlLmV4cG9ydHM9bixuLkZPUkNFX05BVElWRT0hMSxuLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmF0aXZlVmFvPyh0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pLHRoaXMuZGlydHkmJih0aGlzLmRpcnR5PSExLHRoaXMuYWN0aXZhdGUoKSkpOnRoaXMuYWN0aXZhdGUoKSx0aGlzfSxuLnByb3RvdHlwZS51bmJpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYXRpdmVWYW8mJnRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKSx0aGlzfSxuLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdsLGU9bnVsbCxyPTA7cjx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO3IrKyl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzW3JdO2UhPT1uLmJ1ZmZlciYmKG4uYnVmZmVyLmJpbmQoKSxlPW4uYnVmZmVyKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIobi5hdHRyaWJ1dGUubG9jYXRpb24sbi5hdHRyaWJ1dGUuc2l6ZSxuLnR5cGV8fHQuRkxPQVQsbi5ub3JtYWxpemVkfHwhMSxuLnN0cmlkZXx8MCxuLnN0YXJ0fHwwKX1yZXR1cm4gaSh0LHRoaXMuYXR0cmlidXRlcyx0aGlzLm5hdGl2ZVN0YXRlKSx0aGlzLmluZGV4QnVmZmVyLmJpbmQoKSx0aGlzfSxuLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlLHIsbixpLG8pe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMucHVzaCh7YnVmZmVyOnQsYXR0cmlidXRlOmUsbG9jYXRpb246ZS5sb2NhdGlvbix0eXBlOnJ8fHRoaXMuZ2wuRkxPQVQsbm9ybWFsaXplZDpufHwhMSxzdHJpZGU6aXx8MCxzdGFydDpvfHwwfSksdGhpcy5kaXJ0eT0hMCx0aGlzfSxuLnByb3RvdHlwZS5hZGRJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcj10LHRoaXMuZGlydHk9ITAsdGhpc30sbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYXRpdmVWYW8mJnRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyksdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aD0wLHRoaXMuaW5kZXhCdWZmZXI9bnVsbCx0aGlzfSxuLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzLmdsO3JldHVybiBuLmRyYXdFbGVtZW50cyh0LGUsbi5VTlNJR05FRF9TSE9SVCxyfHwwKSx0aGlzfSxuLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nbD1udWxsLHRoaXMuaW5kZXhCdWZmZXI9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9bnVsbCx0aGlzLm5hdGl2ZVN0YXRlPW51bGwsdGhpcy5uYXRpdmVWYW8mJnRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKSx0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbj1udWxsLHRoaXMubmF0aXZlVmFvPW51bGx9fSx7XCIuL3NldFZlcnRleEF0dHJpYkFycmF5c1wiOjEzfV0sMTE6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciByPXQuZ2V0Q29udGV4dChcIndlYmdsXCIsZSl8fHQuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLGUpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlclwiKTtyZXR1cm4gcn07ZS5leHBvcnRzPW59LHt9XSwxMjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXtjcmVhdGVDb250ZXh0OnQoXCIuL2NyZWF0ZUNvbnRleHRcIiksc2V0VmVydGV4QXR0cmliQXJyYXlzOnQoXCIuL3NldFZlcnRleEF0dHJpYkFycmF5c1wiKSxHTEJ1ZmZlcjp0KFwiLi9HTEJ1ZmZlclwiKSxHTEZyYW1lYnVmZmVyOnQoXCIuL0dMRnJhbWVidWZmZXJcIiksR0xTaGFkZXI6dChcIi4vR0xTaGFkZXJcIiksR0xUZXh0dXJlOnQoXCIuL0dMVGV4dHVyZVwiKSxWZXJ0ZXhBcnJheU9iamVjdDp0KFwiLi9WZXJ0ZXhBcnJheU9iamVjdFwiKSxzaGFkZXI6dChcIi4vc2hhZGVyXCIpfTtcInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmZS5leHBvcnRzJiYoZS5leHBvcnRzPW4pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuUElYST13aW5kb3cuUElYSXx8e30sd2luZG93LlBJWEkuZ2xDb3JlPW4pfSx7XCIuL0dMQnVmZmVyXCI6NixcIi4vR0xGcmFtZWJ1ZmZlclwiOjcsXCIuL0dMU2hhZGVyXCI6OCxcIi4vR0xUZXh0dXJlXCI6OSxcIi4vVmVydGV4QXJyYXlPYmplY3RcIjoxMCxcIi4vY3JlYXRlQ29udGV4dFwiOjExLFwiLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXNcIjoxMyxcIi4vc2hhZGVyXCI6MTl9XSwxMzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbjtpZihyKXt2YXIgaT1yLnRlbXBBdHRyaWJTdGF0ZSxvPXIuYXR0cmliU3RhdGU7Zm9yKG49MDtuPGkubGVuZ3RoO24rKylpW25dPSExO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspaVtlW25dLmF0dHJpYnV0ZS5sb2NhdGlvbl09ITA7Zm9yKG49MDtuPG8ubGVuZ3RoO24rKylvW25dIT09aVtuXSYmKG9bbl09aVtuXSxyLmF0dHJpYlN0YXRlW25dP3QuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobik6dC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobikpfWVsc2UgZm9yKG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHM9ZVtuXTt0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHMuYXR0cmlidXRlLmxvY2F0aW9uKX19O2UuZXhwb3J0cz1ufSx7fV0sMTQ6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1mdW5jdGlvbih0LGUscil7dmFyIG49aSh0LHQuVkVSVEVYX1NIQURFUixlKSxvPWkodCx0LkZSQUdNRU5UX1NIQURFUixyKSxzPXQuY3JlYXRlUHJvZ3JhbSgpO3JldHVybiB0LmF0dGFjaFNoYWRlcihzLG4pLHQuYXR0YWNoU2hhZGVyKHMsbyksdC5saW5rUHJvZ3JhbShzKSx0LmdldFByb2dyYW1QYXJhbWV0ZXIocyx0LkxJTktfU1RBVFVTKXx8KGNvbnNvbGUuZXJyb3IoXCJQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuXCIpLGNvbnNvbGUuZXJyb3IoXCJnbC5WQUxJREFURV9TVEFUVVNcIix0LmdldFByb2dyYW1QYXJhbWV0ZXIocyx0LlZBTElEQVRFX1NUQVRVUykpLGNvbnNvbGUuZXJyb3IoXCJnbC5nZXRFcnJvcigpXCIsdC5nZXRFcnJvcigpKSxcIlwiIT09dC5nZXRQcm9ncmFtSW5mb0xvZyhzKSYmY29uc29sZS53YXJuKFwiUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpXCIsdC5nZXRQcm9ncmFtSW5mb0xvZyhzKSksdC5kZWxldGVQcm9ncmFtKHMpLHM9bnVsbCksdC5kZWxldGVTaGFkZXIobiksdC5kZWxldGVTaGFkZXIobyksc30saT1mdW5jdGlvbih0LGUscil7dmFyIG49dC5jcmVhdGVTaGFkZXIoZSk7cmV0dXJuIHQuc2hhZGVyU291cmNlKG4sciksdC5jb21waWxlU2hhZGVyKG4pLHQuZ2V0U2hhZGVyUGFyYW1ldGVyKG4sdC5DT01QSUxFX1NUQVRVUyk/bjooY29uc29sZS5sb2codC5nZXRTaGFkZXJJbmZvTG9nKG4pKSxudWxsKX07ZS5leHBvcnRzPW59LHt9XSwxNTpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2VcImZsb2F0XCI6cmV0dXJuIDA7Y2FzZVwidmVjMlwiOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIqZSk7Y2FzZVwidmVjM1wiOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMqZSk7Y2FzZVwidmVjNFwiOnJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQqZSk7Y2FzZVwiaW50XCI6Y2FzZVwic2FtcGxlcjJEXCI6cmV0dXJuIDA7Y2FzZVwiaXZlYzJcIjpyZXR1cm4gbmV3IEludDMyQXJyYXkoMiplKTtjYXNlXCJpdmVjM1wiOnJldHVybiBuZXcgSW50MzJBcnJheSgzKmUpO2Nhc2VcIml2ZWM0XCI6cmV0dXJuIG5ldyBJbnQzMkFycmF5KDQqZSk7Y2FzZVwiYm9vbFwiOnJldHVybiExO2Nhc2VcImJ2ZWMyXCI6cmV0dXJuIGkoMiplKTtjYXNlXCJidmVjM1wiOnJldHVybiBpKDMqZSk7Y2FzZVwiYnZlYzRcIjpyZXR1cm4gaSg0KmUpO2Nhc2VcIm1hdDJcIjpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMV0pO2Nhc2VcIm1hdDNcIjpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMCwxLDAsMCwwLDFdKTtjYXNlXCJtYXQ0XCI6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKX19LGk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0KSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXT0hMTtyZXR1cm4gZX07ZS5leHBvcnRzPW59LHt9XSwxNjpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoXCIuL21hcFR5cGVcIiksaT10KFwiLi9tYXBTaXplXCIpLG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbz10LmdldFByb2dyYW1QYXJhbWV0ZXIoZSx0LkFDVElWRV9BVFRSSUJVVEVTKSxhPTA7YTxvO2ErKyl7dmFyIHU9dC5nZXRBY3RpdmVBdHRyaWIoZSxhKSxsPW4odCx1LnR5cGUpO3JbdS5uYW1lXT17dHlwZTpsLHNpemU6aShsKSxsb2NhdGlvbjp0LmdldEF0dHJpYkxvY2F0aW9uKGUsdS5uYW1lKSxwb2ludGVyOnN9fXJldHVybiByfSxzPWZ1bmN0aW9uKHQsZSxyLG4pe2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5sb2NhdGlvbix0aGlzLnNpemUsdHx8Z2wuRkxPQVQsZXx8ITEscnx8MCxufHwwKX07ZS5leHBvcnRzPW99LHtcIi4vbWFwU2l6ZVwiOjIwLFwiLi9tYXBUeXBlXCI6MjF9XSwxNzpbZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQoXCIuL21hcFR5cGVcIiksaT10KFwiLi9kZWZhdWx0VmFsdWVcIiksbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj17fSxvPXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLHQuQUNUSVZFX1VOSUZPUk1TKSxzPTA7czxvO3MrKyl7dmFyIGE9dC5nZXRBY3RpdmVVbmlmb3JtKGUscyksdT1hLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLyxcIlwiKSxsPW4odCxhLnR5cGUpO3JbdV09e3R5cGU6bCxzaXplOmEuc2l6ZSxsb2NhdGlvbjp0LmdldFVuaWZvcm1Mb2NhdGlvbihlLHUpLHZhbHVlOmkobCxhLnNpemUpfX1yZXR1cm4gcn07ZS5leHBvcnRzPW99LHtcIi4vZGVmYXVsdFZhbHVlXCI6MTUsXCIuL21hcFR5cGVcIjoyMX1dLDE4OltmdW5jdGlvbih0LGUscil7dmFyIG49ZnVuY3Rpb24odCxlKXt2YXIgcj17ZGF0YTp7fX07ci5nbD10O2Zvcih2YXIgbj1PYmplY3Qua2V5cyhlKSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciB1PW5bYV0sbD11LnNwbGl0KFwiLlwiKSxoPWxbbC5sZW5ndGgtMV0sYz1zKGwsciksZj1lW3VdO2MuZGF0YVtoXT1mLGMuZ2w9dCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxoLHtnZXQ6aShoKSxzZXQ6byhoLGYpfSl9cmV0dXJuIHJ9LGk9ZnVuY3Rpb24odCl7dmFyIGU9YS5yZXBsYWNlKFwiJSVcIix0KTtyZXR1cm4gbmV3IEZ1bmN0aW9uKGUpfSxvPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj11LnJlcGxhY2UoLyUlL2csdCk7cmV0dXJuIHI9MT09PWUuc2l6ZT9sW2UudHlwZV06aFtlLnR5cGVdLHImJihuKz1cIlxcbnRoaXMuZ2wuXCIrcitcIjtcIiksbmV3IEZ1bmN0aW9uKFwidmFsdWVcIixuKX0scz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1lLG49MDtuPHQubGVuZ3RoLTE7bisrKXt2YXIgaT1yW3Rbbl1dfHx7ZGF0YTp7fX07clt0W25dXT1pLHI9aX1yZXR1cm4gcn0sYT1bXCJyZXR1cm4gdGhpcy5kYXRhLiUlLnZhbHVlO1wiXS5qb2luKFwiXFxuXCIpLHU9W1widGhpcy5kYXRhLiUlLnZhbHVlID0gdmFsdWU7XCIsXCJ2YXIgbG9jYXRpb24gPSB0aGlzLmRhdGEuJSUubG9jYXRpb247XCJdLmpvaW4oXCJcXG5cIiksbD17ZmxvYXQ6XCJ1bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKVwiLHZlYzI6XCJ1bmlmb3JtMmYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSlcIix2ZWMzOlwidW5pZm9ybTNmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKVwiLHZlYzQ6XCJ1bmlmb3JtNGYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKVwiLGludDpcInVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpXCIsaXZlYzI6XCJ1bmlmb3JtMmkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSlcIixpdmVjMzpcInVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSlcIixpdmVjNDpcInVuaWZvcm00aShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pXCIsYm9vbDpcInVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpXCIsYnZlYzI6XCJ1bmlmb3JtMmkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSlcIixidmVjMzpcInVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSlcIixidmVjNDpcInVuaWZvcm00aShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pXCIsbWF0MjpcInVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSlcIixtYXQzOlwidW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKVwiLG1hdDQ6XCJ1bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpXCIsc2FtcGxlcjJEOlwidW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSlcIn0saD17ZmxvYXQ6XCJ1bmlmb3JtMWZ2KGxvY2F0aW9uLCB2YWx1ZSlcIix2ZWMyOlwidW5pZm9ybTJmdihsb2NhdGlvbiwgdmFsdWUpXCIsdmVjMzpcInVuaWZvcm0zZnYobG9jYXRpb24sIHZhbHVlKVwiLHZlYzQ6XCJ1bmlmb3JtNGZ2KGxvY2F0aW9uLCB2YWx1ZSlcIixpbnQ6XCJ1bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSlcIixpdmVjMjpcInVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKVwiLGl2ZWMzOlwidW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpXCIsaXZlYzQ6XCJ1bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSlcIixib29sOlwidW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpXCIsYnZlYzI6XCJ1bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSlcIixidmVjMzpcInVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKVwiLGJ2ZWM0OlwidW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpXCIsc2FtcGxlcjJEOlwidW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpXCJ9O2UuZXhwb3J0cz1ufSx7fV0sMTk6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9e2NvbXBpbGVQcm9ncmFtOnQoXCIuL2NvbXBpbGVQcm9ncmFtXCIpLGRlZmF1bHRWYWx1ZTp0KFwiLi9kZWZhdWx0VmFsdWVcIiksZXh0cmFjdEF0dHJpYnV0ZXM6dChcIi4vZXh0cmFjdEF0dHJpYnV0ZXNcIiksZXh0cmFjdFVuaWZvcm1zOnQoXCIuL2V4dHJhY3RVbmlmb3Jtc1wiKSxnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q6dChcIi4vZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0XCIpLG1hcFNpemU6dChcIi4vbWFwU2l6ZVwiKSxtYXBUeXBlOnQoXCIuL21hcFR5cGVcIil9fSx7XCIuL2NvbXBpbGVQcm9ncmFtXCI6MTQsXCIuL2RlZmF1bHRWYWx1ZVwiOjE1LFwiLi9leHRyYWN0QXR0cmlidXRlc1wiOjE2LFwiLi9leHRyYWN0VW5pZm9ybXNcIjoxNyxcIi4vZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0XCI6MTgsXCIuL21hcFNpemVcIjoyMCxcIi4vbWFwVHlwZVwiOjIxfV0sMjA6W2Z1bmN0aW9uKHQsZSxyKXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gaVt0XX0saT17ZmxvYXQ6MSx2ZWMyOjIsdmVjMzozLHZlYzQ6NCxpbnQ6MSxpdmVjMjoyLGl2ZWMzOjMsaXZlYzQ6NCxib29sOjEsYnZlYzI6MixidmVjMzozLGJ2ZWM0OjQsbWF0Mjo0LG1hdDM6OSxtYXQ0OjE2LHNhbXBsZXIyRDoxfTtlLmV4cG9ydHM9bn0se31dLDIxOltmdW5jdGlvbih0LGUscil7dmFyIG49ZnVuY3Rpb24odCxlKXtpZighaSl7dmFyIHI9T2JqZWN0LmtleXMobyk7aT17fTtmb3IodmFyIG49MDtuPHIubGVuZ3RoOysrbil7dmFyIHM9cltuXTtpW3Rbc11dPW9bc119fXJldHVybiBpW2VdfSxpPW51bGwsbz17RkxPQVQ6XCJmbG9hdFwiLEZMT0FUX1ZFQzI6XCJ2ZWMyXCIsRkxPQVRfVkVDMzpcInZlYzNcIixGTE9BVF9WRUM0OlwidmVjNFwiLElOVDpcImludFwiLElOVF9WRUMyOlwiaXZlYzJcIixJTlRfVkVDMzpcIml2ZWMzXCIsSU5UX1ZFQzQ6XCJpdmVjNFwiLEJPT0w6XCJib29sXCIsQk9PTF9WRUMyOlwiYnZlYzJcIixCT09MX1ZFQzM6XCJidmVjM1wiLEJPT0xfVkVDNDpcImJ2ZWM0XCIsRkxPQVRfTUFUMjpcIm1hdDJcIixGTE9BVF9NQVQzOlwibWF0M1wiLEZMT0FUX01BVDQ6XCJtYXQ0XCIsU0FNUExFUl8yRDpcInNhbXBsZXIyRFwifTtlLmV4cG9ydHM9bn0se31dLDIyOltmdW5jdGlvbih0LGUscil7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtmb3IodmFyIHI9MCxuPXQubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciBpPXRbbl07XCIuXCI9PT1pP3Quc3BsaWNlKG4sMSk6XCIuLlwiPT09aT8odC5zcGxpY2UobiwxKSxyKyspOnImJih0LnNwbGljZShuLDEpLHItLSl9aWYoZSlmb3IoO3ItLTtyKXQudW5zaGlmdChcIi4uXCIpO3JldHVybiB0fWZ1bmN0aW9uIG4odCxlKXtpZih0LmZpbHRlcilyZXR1cm4gdC5maWx0ZXIoZSk7Zm9yKHZhciByPVtdLG49MDtuPHQubGVuZ3RoO24rKyllKHRbbl0sbix0KSYmci5wdXNoKHRbbl0pO3JldHVybiByfXZhciBpPS9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvLG89ZnVuY3Rpb24odCl7cmV0dXJuIGkuZXhlYyh0KS5zbGljZSgxKX07ci5yZXNvbHZlPWZ1bmN0aW9uKCl7Zm9yKHZhciByPVwiXCIsaT0hMSxvPWFyZ3VtZW50cy5sZW5ndGgtMTtvPj0tMSYmIWk7by0tKXt2YXIgcz1vPj0wP2FyZ3VtZW50c1tvXTp0LmN3ZCgpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtzJiYocj1zK1wiL1wiK3IsaT1cIi9cIj09PXMuY2hhckF0KDApKX1yZXR1cm4gcj1lKG4oci5zcGxpdChcIi9cIiksZnVuY3Rpb24odCl7cmV0dXJuISF0fSksIWkpLmpvaW4oXCIvXCIpLChpP1wiL1wiOlwiXCIpK3J8fFwiLlwifSxyLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXt2YXIgaT1yLmlzQWJzb2x1dGUodCksbz1cIi9cIj09PXModCwtMSk7cmV0dXJuIHQ9ZShuKHQuc3BsaXQoXCIvXCIpLGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pLCFpKS5qb2luKFwiL1wiKSx0fHxpfHwodD1cIi5cIiksdCYmbyYmKHQrPVwiL1wiKSwoaT9cIi9cIjpcIlwiKSt0fSxyLmlzQWJzb2x1dGU9ZnVuY3Rpb24odCl7cmV0dXJuXCIvXCI9PT10LmNoYXJBdCgwKX0sci5qb2luPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiByLm5vcm1hbGl6ZShuKHQsZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3NcIik7cmV0dXJuIHR9KS5qb2luKFwiL1wiKSl9LHIucmVsYXRpdmU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGgmJlwiXCI9PT10W2VdO2UrKyk7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MCYmXCJcIj09PXRbcl07ci0tKTtyZXR1cm4gZT5yP1tdOnQuc2xpY2UoZSxyLWUrMSl9dD1yLnJlc29sdmUodCkuc3Vic3RyKDEpLGU9ci5yZXNvbHZlKGUpLnN1YnN0cigxKTtmb3IodmFyIGk9bih0LnNwbGl0KFwiL1wiKSksbz1uKGUuc3BsaXQoXCIvXCIpKSxzPU1hdGgubWluKGkubGVuZ3RoLG8ubGVuZ3RoKSxhPXMsdT0wO3U8czt1KyspaWYoaVt1XSE9PW9bdV0pe2E9dTticmVha31mb3IodmFyIGw9W10sdT1hO3U8aS5sZW5ndGg7dSsrKWwucHVzaChcIi4uXCIpO3JldHVybiBsPWwuY29uY2F0KG8uc2xpY2UoYSkpLGwuam9pbihcIi9cIil9LHIuc2VwPVwiL1wiLHIuZGVsaW1pdGVyPVwiOlwiLHIuZGlybmFtZT1mdW5jdGlvbih0KXt2YXIgZT1vKHQpLHI9ZVswXSxuPWVbMV07cmV0dXJuIHJ8fG4/KG4mJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLHIrbik6XCIuXCJ9LHIuYmFzZW5hbWU9ZnVuY3Rpb24odCxlKXt2YXIgcj1vKHQpWzJdO3JldHVybiBlJiZyLnN1YnN0cigtMSplLmxlbmd0aCk9PT1lJiYocj1yLnN1YnN0cigwLHIubGVuZ3RoLWUubGVuZ3RoKSkscn0sci5leHRuYW1lPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpWzNdfTt2YXIgcz1cImJcIj09PVwiYWJcIi5zdWJzdHIoLTEpP2Z1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5zdWJzdHIoZSxyKX06ZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPDAmJihlPXQubGVuZ3RoK2UpLHQuc3Vic3RyKGUscil9fSkuY2FsbCh0aGlzLHQoXCJfcHJvY2Vzc1wiKSl9LHtfcHJvY2VzczoyM31dLDIzOltmdW5jdGlvbih0LGUscil7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBvKHQpe2lmKGM9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKGM9PT1ufHwhYykmJnNldFRpbWVvdXQpcmV0dXJuIGM9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBjKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBjLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBjLmNhbGwodGhpcyx0LDApfX19ZnVuY3Rpb24gcyh0KXtpZihmPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKGY9PT1pfHwhZikmJmNsZWFyVGltZW91dClyZXR1cm4gZj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gZih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIGYuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBmLmNhbGwodGhpcyx0KX19fWZ1bmN0aW9uIGEoKXt5JiZwJiYoeT0hMSxwLmxlbmd0aD92PXAuY29uY2F0KHYpOmc9LTEsdi5sZW5ndGgmJnUoKSl9ZnVuY3Rpb24gdSgpe2lmKCF5KXt2YXIgdD1vKGEpO3k9ITA7Zm9yKHZhciBlPXYubGVuZ3RoO2U7KXtmb3IocD12LHY9W107KytnPGU7KXAmJnBbZ10ucnVuKCk7Zz0tMSxlPXYubGVuZ3RofXA9bnVsbCx5PSExLHModCl9fWZ1bmN0aW9uIGwodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBoKCl7fXZhciBjLGYsZD1lLmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e2M9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7Yz1ufXRyeXtmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6aX1jYXRjaCh0KXtcbmY9aX19KCk7dmFyIHAsdj1bXSx5PSExLGc9LTE7ZC5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3YucHVzaChuZXcgbCh0LGUpKSwxIT09di5sZW5ndGh8fHl8fG8odSl9LGwucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGQudGl0bGU9XCJicm93c2VyXCIsZC5icm93c2VyPSEwLGQuZW52PXt9LGQuYXJndj1bXSxkLnZlcnNpb249XCJcIixkLnZlcnNpb25zPXt9LGQub249aCxkLmFkZExpc3RlbmVyPWgsZC5vbmNlPWgsZC5vZmY9aCxkLnJlbW92ZUxpc3RlbmVyPWgsZC5yZW1vdmVBbGxMaXN0ZW5lcnM9aCxkLmVtaXQ9aCxkLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGQuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGQuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxkLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMjQ6W2Z1bmN0aW9uKGUscixuKXsoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG8odCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoTFt0XSl9ZnVuY3Rpb24gcyh0LGUpe2Zvcih2YXIgcj10Lmxlbmd0aCxuPVtdO3ItLTspbltyXT1lKHRbcl0pO3JldHVybiBufWZ1bmN0aW9uIGEodCxlKXt2YXIgcj10LnNwbGl0KFwiQFwiKSxuPVwiXCI7ci5sZW5ndGg+MSYmKG49clswXStcIkBcIix0PXJbMV0pLHQ9dC5yZXBsYWNlKEQsXCIuXCIpO3ZhciBpPXQuc3BsaXQoXCIuXCIpLG89cyhpLGUpLmpvaW4oXCIuXCIpO3JldHVybiBuK299ZnVuY3Rpb24gdSh0KXtmb3IodmFyIGUscixuPVtdLGk9MCxvPXQubGVuZ3RoO2k8bzspZT10LmNoYXJDb2RlQXQoaSsrKSxlPj01NTI5NiYmZTw9NTYzMTkmJmk8bz8ocj10LmNoYXJDb2RlQXQoaSsrKSw1NjMyMD09KDY0NTEyJnIpP24ucHVzaCgoKDEwMjMmZSk8PDEwKSsoMTAyMyZyKSs2NTUzNik6KG4ucHVzaChlKSxpLS0pKTpuLnB1c2goZSk7cmV0dXJuIG59ZnVuY3Rpb24gbCh0KXtyZXR1cm4gcyh0LGZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQ+NjU1MzUmJih0LT02NTUzNixlKz1qKHQ+Pj4xMCYxMDIzfDU1Mjk2KSx0PTU2MzIwfDEwMjMmdCksZSs9aih0KX0pLmpvaW4oXCJcIil9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC00ODwxMD90LTIyOnQtNjU8MjY/dC02NTp0LTk3PDI2P3QtOTc6d31mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQrMjIrNzUqKHQ8MjYpLSgoMCE9ZSk8PDUpfWZ1bmN0aW9uIGYodCxlLHIpe3ZhciBuPTA7Zm9yKHQ9cj9GKHQvUCk6dD4+MSx0Kz1GKHQvZSk7dD5OKlM+PjE7bis9dyl0PUYodC9OKTtyZXR1cm4gRihuKyhOKzEpKnQvKHQrTykpfWZ1bmN0aW9uIGQodCl7dmFyIGUscixuLGkscyxhLHUsYyxkLHAsdj1bXSx5PXQubGVuZ3RoLGc9MCxtPUMsXz1NO2ZvcihyPXQubGFzdEluZGV4T2YoUikscjwwJiYocj0wKSxuPTA7bjxyOysrbil0LmNoYXJDb2RlQXQobik+PTEyOCYmbyhcIm5vdC1iYXNpY1wiKSx2LnB1c2godC5jaGFyQ29kZUF0KG4pKTtmb3IoaT1yPjA/cisxOjA7aTx5Oyl7Zm9yKHM9ZyxhPTEsdT13O2k+PXkmJm8oXCJpbnZhbGlkLWlucHV0XCIpLGM9aCh0LmNoYXJDb2RlQXQoaSsrKSksKGM+PXd8fGM+RigoVC1nKS9hKSkmJm8oXCJvdmVyZmxvd1wiKSxnKz1jKmEsZD11PD1fP0U6dT49XytTP1M6dS1fLCEoYzxkKTt1Kz13KXA9dy1kLGE+RihUL3ApJiZvKFwib3ZlcmZsb3dcIiksYSo9cDtlPXYubGVuZ3RoKzEsXz1mKGctcyxlLDA9PXMpLEYoZy9lKT5ULW0mJm8oXCJvdmVyZmxvd1wiKSxtKz1GKGcvZSksZyU9ZSx2LnNwbGljZShnKyssMCxtKX1yZXR1cm4gbCh2KX1mdW5jdGlvbiBwKHQpe3ZhciBlLHIsbixpLHMsYSxsLGgsZCxwLHYseSxnLG0sXyxiPVtdO2Zvcih0PXUodCkseT10Lmxlbmd0aCxlPUMscj0wLHM9TSxhPTA7YTx5OysrYSl2PXRbYV0sdjwxMjgmJmIucHVzaChqKHYpKTtmb3Iobj1pPWIubGVuZ3RoLGkmJmIucHVzaChSKTtuPHk7KXtmb3IobD1ULGE9MDthPHk7KythKXY9dFthXSx2Pj1lJiZ2PGwmJihsPXYpO2ZvcihnPW4rMSxsLWU+RigoVC1yKS9nKSYmbyhcIm92ZXJmbG93XCIpLHIrPShsLWUpKmcsZT1sLGE9MDthPHk7KythKWlmKHY9dFthXSx2PGUmJisrcj5UJiZvKFwib3ZlcmZsb3dcIiksdj09ZSl7Zm9yKGg9cixkPXc7cD1kPD1zP0U6ZD49cytTP1M6ZC1zLCEoaDxwKTtkKz13KV89aC1wLG09dy1wLGIucHVzaChqKGMocCtfJW0sMCkpKSxoPUYoXy9tKTtiLnB1c2goaihjKGgsMCkpKSxzPWYocixnLG49PWkpLHI9MCwrK259KytyLCsrZX1yZXR1cm4gYi5qb2luKFwiXCIpfWZ1bmN0aW9uIHYodCl7cmV0dXJuIGEodCxmdW5jdGlvbih0KXtyZXR1cm4gQS50ZXN0KHQpP2QodC5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKTp0fSl9ZnVuY3Rpb24geSh0KXtyZXR1cm4gYSh0LGZ1bmN0aW9uKHQpe3JldHVybiBJLnRlc3QodCk/XCJ4bi0tXCIrcCh0KTp0fSl9dmFyIGc9XCJvYmplY3RcIj09dHlwZW9mIG4mJm4mJiFuLm5vZGVUeXBlJiZuLG09XCJvYmplY3RcIj09dHlwZW9mIHImJnImJiFyLm5vZGVUeXBlJiZyLF89XCJvYmplY3RcIj09dHlwZW9mIGUmJmU7Xy5nbG9iYWwhPT1fJiZfLndpbmRvdyE9PV8mJl8uc2VsZiE9PV98fChpPV8pO3ZhciBiLHgsVD0yMTQ3NDgzNjQ3LHc9MzYsRT0xLFM9MjYsTz0zOCxQPTcwMCxNPTcyLEM9MTI4LFI9XCItXCIsQT0vXnhuLS0vLEk9L1teXFx4MjAtXFx4N0VdLyxEPS9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csTD17b3ZlcmZsb3c6XCJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzc1wiLFwibm90LWJhc2ljXCI6XCJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpXCIsXCJpbnZhbGlkLWlucHV0XCI6XCJJbnZhbGlkIGlucHV0XCJ9LE49dy1FLEY9TWF0aC5mbG9vcixqPVN0cmluZy5mcm9tQ2hhckNvZGU7aWYoYj17dmVyc2lvbjpcIjEuNC4xXCIsdWNzMjp7ZGVjb2RlOnUsZW5jb2RlOmx9LGRlY29kZTpkLGVuY29kZTpwLHRvQVNDSUk6eSx0b1VuaWNvZGU6dn0sXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmXCJvYmplY3RcIj09dHlwZW9mIHQuYW1kJiZ0LmFtZCl0KFwicHVueWNvZGVcIixmdW5jdGlvbigpe3JldHVybiBifSk7ZWxzZSBpZihnJiZtKWlmKHIuZXhwb3J0cz09ZyltLmV4cG9ydHM9YjtlbHNlIGZvcih4IGluIGIpYi5oYXNPd25Qcm9wZXJ0eSh4KSYmKGdbeF09Ylt4XSk7ZWxzZSBpLnB1bnljb2RlPWJ9KHRoaXMpfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMjU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfWUuZXhwb3J0cz1mdW5jdGlvbih0LGUscixvKXtlPWV8fFwiJlwiLHI9cnx8XCI9XCI7dmFyIHM9e307aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR8fDA9PT10Lmxlbmd0aClyZXR1cm4gczt2YXIgYT0vXFwrL2c7dD10LnNwbGl0KGUpO3ZhciB1PTFlMztvJiZcIm51bWJlclwiPT10eXBlb2Ygby5tYXhLZXlzJiYodT1vLm1heEtleXMpO3ZhciBsPXQubGVuZ3RoO3U+MCYmbD51JiYobD11KTtmb3IodmFyIGg9MDtoPGw7KytoKXt2YXIgYyxmLGQscCx2PXRbaF0ucmVwbGFjZShhLFwiJTIwXCIpLHk9di5pbmRleE9mKHIpO3k+PTA/KGM9di5zdWJzdHIoMCx5KSxmPXYuc3Vic3RyKHkrMSkpOihjPXYsZj1cIlwiKSxkPWRlY29kZVVSSUNvbXBvbmVudChjKSxwPWRlY29kZVVSSUNvbXBvbmVudChmKSxuKHMsZCk/aShzW2RdKT9zW2RdLnB1c2gocCk6c1tkXT1bc1tkXSxwXTpzW2RdPXB9cmV0dXJuIHN9O3ZhciBpPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX19LHt9XSwyNjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZih0Lm1hcClyZXR1cm4gdC5tYXAoZSk7Zm9yKHZhciByPVtdLG49MDtuPHQubGVuZ3RoO24rKylyLnB1c2goZSh0W25dLG4pKTtyZXR1cm4gcn12YXIgaT1mdW5jdGlvbih0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOnJldHVybiB0O2Nhc2VcImJvb2xlYW5cIjpyZXR1cm4gdD9cInRydWVcIjpcImZhbHNlXCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzRmluaXRlKHQpP3Q6XCJcIjtkZWZhdWx0OnJldHVyblwiXCJ9fTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLHIsYSl7cmV0dXJuIGU9ZXx8XCImXCIscj1yfHxcIj1cIixudWxsPT09dCYmKHQ9dm9pZCAwKSxcIm9iamVjdFwiPT10eXBlb2YgdD9uKHModCksZnVuY3Rpb24ocyl7dmFyIGE9ZW5jb2RlVVJJQ29tcG9uZW50KGkocykpK3I7cmV0dXJuIG8odFtzXSk/bih0W3NdLGZ1bmN0aW9uKHQpe3JldHVybiBhK2VuY29kZVVSSUNvbXBvbmVudChpKHQpKX0pLmpvaW4oZSk6YStlbmNvZGVVUklDb21wb25lbnQoaSh0W3NdKSl9KS5qb2luKGUpOmE/ZW5jb2RlVVJJQ29tcG9uZW50KGkoYSkpK3IrZW5jb2RlVVJJQ29tcG9uZW50KGkodCkpOlwiXCJ9O3ZhciBvPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0scz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJmUucHVzaChyKTtyZXR1cm4gZX19LHt9XSwyNzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3IuZGVjb2RlPXIucGFyc2U9dChcIi4vZGVjb2RlXCIpLHIuZW5jb2RlPXIuc3RyaW5naWZ5PXQoXCIuL2VuY29kZVwiKX0se1wiLi9kZWNvZGVcIjoyNSxcIi4vZW5jb2RlXCI6MjZ9XSwyODpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt0aGlzLnByb3RvY29sPW51bGwsdGhpcy5zbGFzaGVzPW51bGwsdGhpcy5hdXRoPW51bGwsdGhpcy5ob3N0PW51bGwsdGhpcy5wb3J0PW51bGwsdGhpcy5ob3N0bmFtZT1udWxsLHRoaXMuaGFzaD1udWxsLHRoaXMuc2VhcmNoPW51bGwsdGhpcy5xdWVyeT1udWxsLHRoaXMucGF0aG5hbWU9bnVsbCx0aGlzLnBhdGg9bnVsbCx0aGlzLmhyZWY9bnVsbH1mdW5jdGlvbiBpKHQsZSxyKXtpZih0JiZsLmlzT2JqZWN0KHQpJiZ0IGluc3RhbmNlb2YgbilyZXR1cm4gdDt2YXIgaT1uZXcgbjtyZXR1cm4gaS5wYXJzZSh0LGUsciksaX1mdW5jdGlvbiBvKHQpe3JldHVybiBsLmlzU3RyaW5nKHQpJiYodD1pKHQpKSx0IGluc3RhbmNlb2Ygbj90LmZvcm1hdCgpOm4ucHJvdG90eXBlLmZvcm1hdC5jYWxsKHQpfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gaSh0LCExLCEwKS5yZXNvbHZlKGUpfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdD9pKHQsITEsITApLnJlc29sdmVPYmplY3QoZSk6ZX12YXIgdT10KFwicHVueWNvZGVcIiksbD10KFwiLi91dGlsXCIpO3IucGFyc2U9aSxyLnJlc29sdmU9cyxyLnJlc29sdmVPYmplY3Q9YSxyLmZvcm1hdD1vLHIuVXJsPW47dmFyIGg9L14oW2EtejAtOS4rLV0rOikvaSxjPS86WzAtOV0qJC8sZj0vXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLGQ9W1wiPFwiLFwiPlwiLCdcIicsXCJgXCIsXCIgXCIsXCJcXHJcIixcIlxcblwiLFwiXFx0XCJdLHA9W1wie1wiLFwifVwiLFwifFwiLFwiXFxcXFwiLFwiXlwiLFwiYFwiXS5jb25jYXQoZCksdj1bXCInXCJdLmNvbmNhdChwKSx5PVtcIiVcIixcIi9cIixcIj9cIixcIjtcIixcIiNcIl0uY29uY2F0KHYpLGc9W1wiL1wiLFwiP1wiLFwiI1wiXSxtPTI1NSxfPS9eWythLXowLTlBLVpfLV17MCw2M30kLyxiPS9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyx4PXtqYXZhc2NyaXB0OiEwLFwiamF2YXNjcmlwdDpcIjohMH0sVD17amF2YXNjcmlwdDohMCxcImphdmFzY3JpcHQ6XCI6ITB9LHc9e2h0dHA6ITAsaHR0cHM6ITAsZnRwOiEwLGdvcGhlcjohMCxmaWxlOiEwLFwiaHR0cDpcIjohMCxcImh0dHBzOlwiOiEwLFwiZnRwOlwiOiEwLFwiZ29waGVyOlwiOiEwLFwiZmlsZTpcIjohMH0sRT10KFwicXVlcnlzdHJpbmdcIik7bi5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlLHIpe2lmKCFsLmlzU3RyaW5nKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiK3R5cGVvZiB0KTt2YXIgbj10LmluZGV4T2YoXCI/XCIpLGk9biE9PS0xJiZuPHQuaW5kZXhPZihcIiNcIik/XCI/XCI6XCIjXCIsbz10LnNwbGl0KGkpLHM9L1xcXFwvZztvWzBdPW9bMF0ucmVwbGFjZShzLFwiL1wiKSx0PW8uam9pbihpKTt2YXIgYT10O2lmKGE9YS50cmltKCksIXImJjE9PT10LnNwbGl0KFwiI1wiKS5sZW5ndGgpe3ZhciBjPWYuZXhlYyhhKTtpZihjKXJldHVybiB0aGlzLnBhdGg9YSx0aGlzLmhyZWY9YSx0aGlzLnBhdGhuYW1lPWNbMV0sY1syXT8odGhpcy5zZWFyY2g9Y1syXSxlP3RoaXMucXVlcnk9RS5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOnRoaXMucXVlcnk9dGhpcy5zZWFyY2guc3Vic3RyKDEpKTplJiYodGhpcy5zZWFyY2g9XCJcIix0aGlzLnF1ZXJ5PXt9KSx0aGlzfXZhciBkPWguZXhlYyhhKTtpZihkKXtkPWRbMF07dmFyIHA9ZC50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9cCxhPWEuc3Vic3RyKGQubGVuZ3RoKX1pZihyfHxkfHxhLm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSl7dmFyIFM9XCIvL1wiPT09YS5zdWJzdHIoMCwyKTshU3x8ZCYmVFtkXXx8KGE9YS5zdWJzdHIoMiksdGhpcy5zbGFzaGVzPSEwKX1pZighVFtkXSYmKFN8fGQmJiF3W2RdKSl7Zm9yKHZhciBPPS0xLFA9MDtQPGcubGVuZ3RoO1ArKyl7dmFyIE09YS5pbmRleE9mKGdbUF0pO00hPT0tMSYmKE89PT0tMXx8TTxPKSYmKE89TSl9dmFyIEMsUjtSPU89PT0tMT9hLmxhc3RJbmRleE9mKFwiQFwiKTphLmxhc3RJbmRleE9mKFwiQFwiLE8pLFIhPT0tMSYmKEM9YS5zbGljZSgwLFIpLGE9YS5zbGljZShSKzEpLHRoaXMuYXV0aD1kZWNvZGVVUklDb21wb25lbnQoQykpLE89LTE7Zm9yKHZhciBQPTA7UDx5Lmxlbmd0aDtQKyspe3ZhciBNPWEuaW5kZXhPZih5W1BdKTtNIT09LTEmJihPPT09LTF8fE08TykmJihPPU0pfU89PT0tMSYmKE89YS5sZW5ndGgpLHRoaXMuaG9zdD1hLnNsaWNlKDAsTyksYT1hLnNsaWNlKE8pLHRoaXMucGFyc2VIb3N0KCksdGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lfHxcIlwiO3ZhciBBPVwiW1wiPT09dGhpcy5ob3N0bmFtZVswXSYmXCJdXCI9PT10aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoLTFdO2lmKCFBKWZvcih2YXIgST10aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKSxQPTAsRD1JLmxlbmd0aDtQPEQ7UCsrKXt2YXIgTD1JW1BdO2lmKEwmJiFMLm1hdGNoKF8pKXtmb3IodmFyIE49XCJcIixGPTAsaj1MLmxlbmd0aDtGPGo7RisrKU4rPUwuY2hhckNvZGVBdChGKT4xMjc/XCJ4XCI6TFtGXTtpZighTi5tYXRjaChfKSl7dmFyIEI9SS5zbGljZSgwLFApLGs9SS5zbGljZShQKzEpLFU9TC5tYXRjaChiKTtVJiYoQi5wdXNoKFVbMV0pLGsudW5zaGlmdChVWzJdKSksay5sZW5ndGgmJihhPVwiL1wiK2suam9pbihcIi5cIikrYSksdGhpcy5ob3N0bmFtZT1CLmpvaW4oXCIuXCIpO2JyZWFrfX19dGhpcy5ob3N0bmFtZS5sZW5ndGg+bT90aGlzLmhvc3RuYW1lPVwiXCI6dGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksQXx8KHRoaXMuaG9zdG5hbWU9dS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpKTt2YXIgWD10aGlzLnBvcnQ/XCI6XCIrdGhpcy5wb3J0OlwiXCIsRz10aGlzLmhvc3RuYW1lfHxcIlwiO3RoaXMuaG9zdD1HK1gsdGhpcy5ocmVmKz10aGlzLmhvc3QsQSYmKHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS5zdWJzdHIoMSx0aGlzLmhvc3RuYW1lLmxlbmd0aC0yKSxcIi9cIiE9PWFbMF0mJihhPVwiL1wiK2EpKX1pZigheFtwXSlmb3IodmFyIFA9MCxEPXYubGVuZ3RoO1A8RDtQKyspe3ZhciBXPXZbUF07aWYoYS5pbmRleE9mKFcpIT09LTEpe3ZhciBIPWVuY29kZVVSSUNvbXBvbmVudChXKTtIPT09VyYmKEg9ZXNjYXBlKFcpKSxhPWEuc3BsaXQoVykuam9pbihIKX19dmFyIFY9YS5pbmRleE9mKFwiI1wiKTtWIT09LTEmJih0aGlzLmhhc2g9YS5zdWJzdHIoViksYT1hLnNsaWNlKDAsVikpO3ZhciBZPWEuaW5kZXhPZihcIj9cIik7aWYoWSE9PS0xPyh0aGlzLnNlYXJjaD1hLnN1YnN0cihZKSx0aGlzLnF1ZXJ5PWEuc3Vic3RyKFkrMSksZSYmKHRoaXMucXVlcnk9RS5wYXJzZSh0aGlzLnF1ZXJ5KSksYT1hLnNsaWNlKDAsWSkpOmUmJih0aGlzLnNlYXJjaD1cIlwiLHRoaXMucXVlcnk9e30pLGEmJih0aGlzLnBhdGhuYW1lPWEpLHdbcF0mJnRoaXMuaG9zdG5hbWUmJiF0aGlzLnBhdGhuYW1lJiYodGhpcy5wYXRobmFtZT1cIi9cIiksdGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpe3ZhciBYPXRoaXMucGF0aG5hbWV8fFwiXCIsej10aGlzLnNlYXJjaHx8XCJcIjt0aGlzLnBhdGg9WCt6fXJldHVybiB0aGlzLmhyZWY9dGhpcy5mb3JtYXQoKSx0aGlzfSxuLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmF1dGh8fFwiXCI7dCYmKHQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQpLHQ9dC5yZXBsYWNlKC8lM0EvaSxcIjpcIiksdCs9XCJAXCIpO3ZhciBlPXRoaXMucHJvdG9jb2x8fFwiXCIscj10aGlzLnBhdGhuYW1lfHxcIlwiLG49dGhpcy5oYXNofHxcIlwiLGk9ITEsbz1cIlwiO3RoaXMuaG9zdD9pPXQrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihpPXQrKHRoaXMuaG9zdG5hbWUuaW5kZXhPZihcIjpcIik9PT0tMT90aGlzLmhvc3RuYW1lOlwiW1wiK3RoaXMuaG9zdG5hbWUrXCJdXCIpLHRoaXMucG9ydCYmKGkrPVwiOlwiK3RoaXMucG9ydCkpLHRoaXMucXVlcnkmJmwuaXNPYmplY3QodGhpcy5xdWVyeSkmJk9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCYmKG89RS5zdHJpbmdpZnkodGhpcy5xdWVyeSkpO3ZhciBzPXRoaXMuc2VhcmNofHxvJiZcIj9cIitvfHxcIlwiO3JldHVybiBlJiZcIjpcIiE9PWUuc3Vic3RyKC0xKSYmKGUrPVwiOlwiKSx0aGlzLnNsYXNoZXN8fCghZXx8d1tlXSkmJmkhPT0hMT8oaT1cIi8vXCIrKGl8fFwiXCIpLHImJlwiL1wiIT09ci5jaGFyQXQoMCkmJihyPVwiL1wiK3IpKTppfHwoaT1cIlwiKSxuJiZcIiNcIiE9PW4uY2hhckF0KDApJiYobj1cIiNcIituKSxzJiZcIj9cIiE9PXMuY2hhckF0KDApJiYocz1cIj9cIitzKSxyPXIucmVwbGFjZSgvWz8jXS9nLGZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCl9KSxzPXMucmVwbGFjZShcIiNcIixcIiUyM1wiKSxlK2krcitzK259LG4ucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdChpKHQsITEsITApKS5mb3JtYXQoKX0sbi5wcm90b3R5cGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbih0KXtpZihsLmlzU3RyaW5nKHQpKXt2YXIgZT1uZXcgbjtlLnBhcnNlKHQsITEsITApLHQ9ZX1mb3IodmFyIHI9bmV3IG4saT1PYmplY3Qua2V5cyh0aGlzKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWlbb107cltzXT10aGlzW3NdfWlmKHIuaGFzaD10Lmhhc2gsXCJcIj09PXQuaHJlZilyZXR1cm4gci5ocmVmPXIuZm9ybWF0KCkscjtpZih0LnNsYXNoZXMmJiF0LnByb3RvY29sKXtmb3IodmFyIGE9T2JqZWN0LmtleXModCksdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgaD1hW3VdO1wicHJvdG9jb2xcIiE9PWgmJihyW2hdPXRbaF0pfXJldHVybiB3W3IucHJvdG9jb2xdJiZyLmhvc3RuYW1lJiYhci5wYXRobmFtZSYmKHIucGF0aD1yLnBhdGhuYW1lPVwiL1wiKSxyLmhyZWY9ci5mb3JtYXQoKSxyfWlmKHQucHJvdG9jb2wmJnQucHJvdG9jb2whPT1yLnByb3RvY29sKXtpZighd1t0LnByb3RvY29sXSl7Zm9yKHZhciBjPU9iamVjdC5rZXlzKHQpLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGQ9Y1tmXTtyW2RdPXRbZF19cmV0dXJuIHIuaHJlZj1yLmZvcm1hdCgpLHJ9aWYoci5wcm90b2NvbD10LnByb3RvY29sLHQuaG9zdHx8VFt0LnByb3RvY29sXSlyLnBhdGhuYW1lPXQucGF0aG5hbWU7ZWxzZXtmb3IodmFyIHA9KHQucGF0aG5hbWV8fFwiXCIpLnNwbGl0KFwiL1wiKTtwLmxlbmd0aCYmISh0Lmhvc3Q9cC5zaGlmdCgpKTspO3QuaG9zdHx8KHQuaG9zdD1cIlwiKSx0Lmhvc3RuYW1lfHwodC5ob3N0bmFtZT1cIlwiKSxcIlwiIT09cFswXSYmcC51bnNoaWZ0KFwiXCIpLHAubGVuZ3RoPDImJnAudW5zaGlmdChcIlwiKSxyLnBhdGhuYW1lPXAuam9pbihcIi9cIil9aWYoci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LHIuaG9zdD10Lmhvc3R8fFwiXCIsci5hdXRoPXQuYXV0aCxyLmhvc3RuYW1lPXQuaG9zdG5hbWV8fHQuaG9zdCxyLnBvcnQ9dC5wb3J0LHIucGF0aG5hbWV8fHIuc2VhcmNoKXt2YXIgdj1yLnBhdGhuYW1lfHxcIlwiLHk9ci5zZWFyY2h8fFwiXCI7ci5wYXRoPXYreX1yZXR1cm4gci5zbGFzaGVzPXIuc2xhc2hlc3x8dC5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9dmFyIGc9ci5wYXRobmFtZSYmXCIvXCI9PT1yLnBhdGhuYW1lLmNoYXJBdCgwKSxtPXQuaG9zdHx8dC5wYXRobmFtZSYmXCIvXCI9PT10LnBhdGhuYW1lLmNoYXJBdCgwKSxfPW18fGd8fHIuaG9zdCYmdC5wYXRobmFtZSxiPV8seD1yLnBhdGhuYW1lJiZyLnBhdGhuYW1lLnNwbGl0KFwiL1wiKXx8W10scD10LnBhdGhuYW1lJiZ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKXx8W10sRT1yLnByb3RvY29sJiYhd1tyLnByb3RvY29sXTtpZihFJiYoci5ob3N0bmFtZT1cIlwiLHIucG9ydD1udWxsLHIuaG9zdCYmKFwiXCI9PT14WzBdP3hbMF09ci5ob3N0OngudW5zaGlmdChyLmhvc3QpKSxyLmhvc3Q9XCJcIix0LnByb3RvY29sJiYodC5ob3N0bmFtZT1udWxsLHQucG9ydD1udWxsLHQuaG9zdCYmKFwiXCI9PT1wWzBdP3BbMF09dC5ob3N0OnAudW5zaGlmdCh0Lmhvc3QpKSx0Lmhvc3Q9bnVsbCksXz1fJiYoXCJcIj09PXBbMF18fFwiXCI9PT14WzBdKSksbSlyLmhvc3Q9dC5ob3N0fHxcIlwiPT09dC5ob3N0P3QuaG9zdDpyLmhvc3Qsci5ob3N0bmFtZT10Lmhvc3RuYW1lfHxcIlwiPT09dC5ob3N0bmFtZT90Lmhvc3RuYW1lOnIuaG9zdG5hbWUsci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LHg9cDtlbHNlIGlmKHAubGVuZ3RoKXh8fCh4PVtdKSx4LnBvcCgpLHg9eC5jb25jYXQocCksci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5O2Vsc2UgaWYoIWwuaXNOdWxsT3JVbmRlZmluZWQodC5zZWFyY2gpKXtpZihFKXtyLmhvc3RuYW1lPXIuaG9zdD14LnNoaWZ0KCk7dmFyIFM9ISEoci5ob3N0JiZyLmhvc3QuaW5kZXhPZihcIkBcIik+MCkmJnIuaG9zdC5zcGxpdChcIkBcIik7UyYmKHIuYXV0aD1TLnNoaWZ0KCksci5ob3N0PXIuaG9zdG5hbWU9Uy5zaGlmdCgpKX1yZXR1cm4gci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LGwuaXNOdWxsKHIucGF0aG5hbWUpJiZsLmlzTnVsbChyLnNlYXJjaCl8fChyLnBhdGg9KHIucGF0aG5hbWU/ci5wYXRobmFtZTpcIlwiKSsoci5zZWFyY2g/ci5zZWFyY2g6XCJcIikpLHIuaHJlZj1yLmZvcm1hdCgpLHJ9aWYoIXgubGVuZ3RoKXJldHVybiByLnBhdGhuYW1lPW51bGwsci5zZWFyY2g/ci5wYXRoPVwiL1wiK3Iuc2VhcmNoOnIucGF0aD1udWxsLHIuaHJlZj1yLmZvcm1hdCgpLHI7Zm9yKHZhciBPPXguc2xpY2UoLTEpWzBdLFA9KHIuaG9zdHx8dC5ob3N0fHx4Lmxlbmd0aD4xKSYmKFwiLlwiPT09T3x8XCIuLlwiPT09Tyl8fFwiXCI9PT1PLE09MCxDPXgubGVuZ3RoO0M+PTA7Qy0tKU89eFtDXSxcIi5cIj09PU8/eC5zcGxpY2UoQywxKTpcIi4uXCI9PT1PPyh4LnNwbGljZShDLDEpLE0rKyk6TSYmKHguc3BsaWNlKEMsMSksTS0tKTtpZighXyYmIWIpZm9yKDtNLS07TSl4LnVuc2hpZnQoXCIuLlwiKTshX3x8XCJcIj09PXhbMF18fHhbMF0mJlwiL1wiPT09eFswXS5jaGFyQXQoMCl8fHgudW5zaGlmdChcIlwiKSxQJiZcIi9cIiE9PXguam9pbihcIi9cIikuc3Vic3RyKC0xKSYmeC5wdXNoKFwiXCIpO3ZhciBSPVwiXCI9PT14WzBdfHx4WzBdJiZcIi9cIj09PXhbMF0uY2hhckF0KDApO2lmKEUpe3IuaG9zdG5hbWU9ci5ob3N0PVI/XCJcIjp4Lmxlbmd0aD94LnNoaWZ0KCk6XCJcIjt2YXIgUz0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKFwiQFwiKT4wKSYmci5ob3N0LnNwbGl0KFwiQFwiKTtTJiYoci5hdXRoPVMuc2hpZnQoKSxyLmhvc3Q9ci5ob3N0bmFtZT1TLnNoaWZ0KCkpfXJldHVybiBfPV98fHIuaG9zdCYmeC5sZW5ndGgsXyYmIVImJngudW5zaGlmdChcIlwiKSx4Lmxlbmd0aD9yLnBhdGhuYW1lPXguam9pbihcIi9cIik6KHIucGF0aG5hbWU9bnVsbCxyLnBhdGg9bnVsbCksbC5pc051bGwoci5wYXRobmFtZSkmJmwuaXNOdWxsKHIuc2VhcmNoKXx8KHIucGF0aD0oci5wYXRobmFtZT9yLnBhdGhuYW1lOlwiXCIpKyhyLnNlYXJjaD9yLnNlYXJjaDpcIlwiKSksci5hdXRoPXQuYXV0aHx8ci5hdXRoLHIuc2xhc2hlcz1yLnNsYXNoZXN8fHQuc2xhc2hlcyxyLmhyZWY9ci5mb3JtYXQoKSxyfSxuLnByb3RvdHlwZS5wYXJzZUhvc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvc3QsZT1jLmV4ZWModCk7ZSYmKGU9ZVswXSxcIjpcIiE9PWUmJih0aGlzLnBvcnQ9ZS5zdWJzdHIoMSkpLHQ9dC5zdWJzdHIoMCx0Lmxlbmd0aC1lLmxlbmd0aCkpLHQmJih0aGlzLmhvc3RuYW1lPXQpfX0se1wiLi91dGlsXCI6MjkscHVueWNvZGU6MjQscXVlcnlzdHJpbmc6Mjd9XSwyOTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz17aXNTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9LGlzT2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dH0saXNOdWxsOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dH0saXNOdWxsT3JVbmRlZmluZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9fX0se31dLDMwOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGE9dChcIm1pbmktc2lnbmFsc1wiKSx1PWkoYSksbD10KFwicGFyc2UtdXJpXCIpLGg9aShsKSxjPXQoXCIuL2FzeW5jXCIpLGY9bihjKSxkPXQoXCIuL1Jlc291cmNlXCIpLHA9aShkKSx2PTEwMCx5PS8oI1tcXHctXSspPyQvLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIlwiLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwO28odGhpcyx0KSx0aGlzLmJhc2VVcmw9cix0aGlzLnByb2dyZXNzPTAsdGhpcy5sb2FkaW5nPSExLHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nPVwiXCIsdGhpcy5fYmVmb3JlTWlkZGxld2FyZT1bXSx0aGlzLl9hZnRlck1pZGRsZXdhcmU9W10sdGhpcy5fcmVzb3VyY2VzUGFyc2luZz1bXSx0aGlzLl9ib3VuZExvYWRSZXNvdXJjZT1mdW5jdGlvbih0LHIpe3JldHVybiBlLl9sb2FkUmVzb3VyY2UodCxyKX0sdGhpcy5fcXVldWU9Zi5xdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSxuKSx0aGlzLl9xdWV1ZS5wYXVzZSgpLHRoaXMucmVzb3VyY2VzPXt9LHRoaXMub25Qcm9ncmVzcz1uZXcgdS5kZWZhdWx0LHRoaXMub25FcnJvcj1uZXcgdS5kZWZhdWx0LHRoaXMub25Mb2FkPW5ldyB1LmRlZmF1bHQsdGhpcy5vblN0YXJ0PW5ldyB1LmRlZmF1bHQsdGhpcy5vbkNvbXBsZXRlPW5ldyB1LmRlZmF1bHR9cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUscixuKXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl0aGlzLmFkZCh0W2ldKTtyZXR1cm4gdGhpc31pZihcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6cyh0KSkmJihuPWV8fHQuY2FsbGJhY2t8fHQub25Db21wbGV0ZSxyPXQsZT10LnVybCx0PXQubmFtZXx8dC5rZXl8fHQudXJsKSxcInN0cmluZ1wiIT10eXBlb2YgZSYmKG49cixyPWUsZT10KSxcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJihuPXIscj1udWxsKSx0aGlzLmxvYWRpbmcmJighcnx8IXIucGFyZW50UmVzb3VyY2UpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy5cIik7aWYodGhpcy5yZXNvdXJjZXNbdF0pdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBuYW1lZCBcIicrdCsnXCIgYWxyZWFkeSBleGlzdHMuJyk7aWYoZT10aGlzLl9wcmVwYXJlVXJsKGUpLHRoaXMucmVzb3VyY2VzW3RdPW5ldyBwLmRlZmF1bHQodCxlLHIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJnRoaXMucmVzb3VyY2VzW3RdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UobiksdGhpcy5sb2FkaW5nKXtmb3IodmFyIG89ci5wYXJlbnRSZXNvdXJjZSxhPVtdLHU9MDt1PG8uY2hpbGRyZW4ubGVuZ3RoOysrdSlvLmNoaWxkcmVuW3VdLmlzQ29tcGxldGV8fGEucHVzaChvLmNoaWxkcmVuW3VdKTt2YXIgbD1vLnByb2dyZXNzQ2h1bmsqKGEubGVuZ3RoKzEpLGg9bC8oYS5sZW5ndGgrMik7by5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW3RdKSxvLnByb2dyZXNzQ2h1bms9aDtmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYylhW2NdLnByb2dyZXNzQ2h1bms9aDt0aGlzLnJlc291cmNlc1t0XS5wcm9ncmVzc0NodW5rPWh9cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbdF0pLHRoaXN9LHQucHJvdG90eXBlLnByZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKHQpLHRoaXN9LHQucHJvdG90eXBlLnVzZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLnB1c2godCksdGhpc30sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnByb2dyZXNzPTAsdGhpcy5sb2FkaW5nPSExLHRoaXMuX3F1ZXVlLmtpbGwoKSx0aGlzLl9xdWV1ZS5wYXVzZSgpO2Zvcih2YXIgdCBpbiB0aGlzLnJlc291cmNlcyl7dmFyIGU9dGhpcy5yZXNvdXJjZXNbdF07ZS5fb25Mb2FkQmluZGluZyYmZS5fb25Mb2FkQmluZGluZy5kZXRhY2goKSxlLmlzTG9hZGluZyYmZS5hYm9ydCgpfXJldHVybiB0aGlzLnJlc291cmNlcz17fSx0aGlzfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnRoaXMub25Db21wbGV0ZS5vbmNlKHQpLHRoaXMubG9hZGluZylyZXR1cm4gdGhpcztmb3IodmFyIGU9MTAwL3RoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGgscj0wO3I8dGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDsrK3IpdGhpcy5fcXVldWUuX3Rhc2tzW3JdLmRhdGEucHJvZ3Jlc3NDaHVuaz1lO3JldHVybiB0aGlzLmxvYWRpbmc9ITAsdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpLHRoaXMuX3F1ZXVlLnJlc3VtZSgpLHRoaXN9LHQucHJvdG90eXBlLl9wcmVwYXJlVXJsPWZ1bmN0aW9uKHQpe3ZhciBlPSgwLGguZGVmYXVsdCkodCx7c3RyaWN0TW9kZTohMH0pLHI9dm9pZCAwO2lmKHI9ZS5wcm90b2NvbHx8IWUucGF0aHx8MD09PXQuaW5kZXhPZihcIi8vXCIpP3Q6dGhpcy5iYXNlVXJsLmxlbmd0aCYmdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKFwiL1wiKSE9PXRoaXMuYmFzZVVybC5sZW5ndGgtMSYmXCIvXCIhPT10LmNoYXJBdCgwKT90aGlzLmJhc2VVcmwrXCIvXCIrdDp0aGlzLmJhc2VVcmwrdCx0aGlzLmRlZmF1bHRRdWVyeVN0cmluZyl7dmFyIG49eS5leGVjKHIpWzBdO3I9ci5zdWJzdHIoMCxyLmxlbmd0aC1uLmxlbmd0aCkscis9ci5pbmRleE9mKFwiP1wiKSE9PS0xP1wiJlwiK3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nOlwiP1wiK3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nLHIrPW59cmV0dXJuIHJ9LHQucHJvdG90eXBlLl9sb2FkUmVzb3VyY2U9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO3QuX2RlcXVldWU9ZSxmLmVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSxmdW5jdGlvbihlLG4pe2UuY2FsbChyLHQsZnVuY3Rpb24oKXtuKHQuaXNDb21wbGV0ZT97fTpudWxsKX0pfSxmdW5jdGlvbigpe3QuaXNDb21wbGV0ZT9yLl9vbkxvYWQodCk6KHQuX29uTG9hZEJpbmRpbmc9dC5vbkNvbXBsZXRlLm9uY2Uoci5fb25Mb2FkLHIpLHQubG9hZCgpKX0pfSx0LnByb3RvdHlwZS5fb25Db21wbGV0ZT1mdW5jdGlvbigpe3RoaXMubG9hZGluZz0hMSx0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyx0aGlzLnJlc291cmNlcyl9LHQucHJvdG90eXBlLl9vbkxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0Ll9vbkxvYWRCaW5kaW5nPW51bGwsdC5fZGVxdWV1ZSgpLHRoaXMuX3Jlc291cmNlc1BhcnNpbmcucHVzaCh0KSxmLmVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLGZ1bmN0aW9uKHIsbil7ci5jYWxsKGUsdCxuKX0sZnVuY3Rpb24oKXt0Lm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHQpLGUucHJvZ3Jlc3MrPXQucHJvZ3Jlc3NDaHVuayxlLm9uUHJvZ3Jlc3MuZGlzcGF0Y2goZSx0KSx0LmVycm9yP2Uub25FcnJvci5kaXNwYXRjaCh0LmVycm9yLGUsdCk6ZS5vbkxvYWQuZGlzcGF0Y2goZSx0KSxlLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZShlLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YodCksMSksZS5fcXVldWUuaWRsZSgpJiYwPT09ZS5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGgmJihlLnByb2dyZXNzPXYsZS5fb25Db21wbGV0ZSgpKX0pfSx0fSgpO3IuZGVmYXVsdD1nfSx7XCIuL1Jlc291cmNlXCI6MzEsXCIuL2FzeW5jXCI6MzIsXCJtaW5pLXNpZ25hbHNcIjozNixcInBhcnNlLXVyaVwiOjM3fV0sMzE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIHModCxlLHIpe2UmJjA9PT1lLmluZGV4T2YoXCIuXCIpJiYoZT1lLnN1YnN0cmluZygxKSksZSYmKHRbZV09cil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC50b1N0cmluZygpLnJlcGxhY2UoXCJvYmplY3QgXCIsXCJcIil9ci5fX2VzTW9kdWxlPSEwO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksbD10KFwicGFyc2UtdXJpXCIpLGg9bihsKSxjPXQoXCJtaW5pLXNpZ25hbHNcIiksZj1uKGMpLGQ9ISghd2luZG93LlhEb21haW5SZXF1ZXN0fHxcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KSxwPW51bGwsdj0wLHk9MjAwLGc9MjA0LG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuKXtpZihpKHRoaXMsdCksXCJzdHJpbmdcIiE9dHlwZW9mIGV8fFwic3RyaW5nXCIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcihcIkJvdGggbmFtZSBhbmQgdXJsIGFyZSByZXF1aXJlZCBmb3IgY29uc3RydWN0aW5nIGEgcmVzb3VyY2UuXCIpO249bnx8e30sdGhpcy5fZmxhZ3M9MCx0aGlzLl9zZXRGbGFnKHQuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMLDA9PT1yLmluZGV4T2YoXCJkYXRhOlwiKSksdGhpcy5uYW1lPWUsdGhpcy51cmw9cix0aGlzLmV4dGVuc2lvbj10aGlzLl9nZXRFeHRlbnNpb24oKSx0aGlzLmRhdGE9bnVsbCx0aGlzLmNyb3NzT3JpZ2luPW4uY3Jvc3NPcmlnaW49PT0hMD9cImFub255bW91c1wiOm4uY3Jvc3NPcmlnaW4sdGhpcy5sb2FkVHlwZT1uLmxvYWRUeXBlfHx0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpLHRoaXMueGhyVHlwZT1uLnhoclR5cGUsdGhpcy5tZXRhZGF0YT1uLm1ldGFkYXRhfHx7fSx0aGlzLmVycm9yPW51bGwsdGhpcy54aHI9bnVsbCx0aGlzLmNoaWxkcmVuPVtdLHRoaXMudHlwZT10LlRZUEUuVU5LTk9XTix0aGlzLnByb2dyZXNzQ2h1bms9MCx0aGlzLl9kZXF1ZXVlPW8sdGhpcy5fb25Mb2FkQmluZGluZz1udWxsLHRoaXMuX2JvdW5kQ29tcGxldGU9dGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpLHRoaXMuX2JvdW5kT25FcnJvcj10aGlzLl9vbkVycm9yLmJpbmQodGhpcyksdGhpcy5fYm91bmRPblByb2dyZXNzPXRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKSx0aGlzLl9ib3VuZFhock9uRXJyb3I9dGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpLHRoaXMuX2JvdW5kWGhyT25BYm9ydD10aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyksdGhpcy5fYm91bmRYaHJPbkxvYWQ9dGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyksdGhpcy5fYm91bmRYZHJPblRpbWVvdXQ9dGhpcy5feGRyT25UaW1lb3V0LmJpbmQodGhpcyksdGhpcy5vblN0YXJ0PW5ldyBmLmRlZmF1bHQsdGhpcy5vblByb2dyZXNzPW5ldyBmLmRlZmF1bHQsdGhpcy5vbkNvbXBsZXRlPW5ldyBmLmRlZmF1bHQsdGhpcy5vbkFmdGVyTWlkZGxld2FyZT1uZXcgZi5kZWZhdWx0fXJldHVybiB0LnNldEV4dGVuc2lvbkxvYWRUeXBlPWZ1bmN0aW9uKGUscil7cyh0Ll9sb2FkVHlwZU1hcCxlLHIpfSx0LnNldEV4dGVuc2lvblhoclR5cGU9ZnVuY3Rpb24oZSxyKXtzKHQuX3hoclR5cGVNYXAsZSxyKX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGEmJnRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyJiYodGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuX2JvdW5kT25FcnJvciwhMSksdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcy5fYm91bmRDb21wbGV0ZSwhMSksdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLHRoaXMuX2JvdW5kT25Qcm9ncmVzcywhMSksdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLHRoaXMuX2JvdW5kQ29tcGxldGUsITEpKSx0aGlzLnhociYmKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXI/KHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuX2JvdW5kWGhyT25FcnJvciwhMSksdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdGhpcy5fYm91bmRYaHJPbkFib3J0LCExKSx0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsITEpLHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcy5fYm91bmRYaHJPbkxvYWQsITEpKToodGhpcy54aHIub25lcnJvcj1udWxsLHRoaXMueGhyLm9udGltZW91dD1udWxsLHRoaXMueGhyLm9ucHJvZ3Jlc3M9bnVsbCx0aGlzLnhoci5vbmxvYWQ9bnVsbCkpLHRoaXMuaXNDb21wbGV0ZSl0aHJvdyBuZXcgRXJyb3IoXCJDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLlwiKTt0aGlzLl9zZXRGbGFnKHQuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCEwKSx0aGlzLl9zZXRGbGFnKHQuU1RBVFVTX0ZMQUdTLkxPQURJTkcsITEpLHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKX0sdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZXJyb3Ipe2lmKHRoaXMuZXJyb3I9bmV3IEVycm9yKGUpLHRoaXMueGhyKXRoaXMueGhyLmFib3J0KCk7ZWxzZSBpZih0aGlzLnhkcil0aGlzLnhkci5hYm9ydCgpO2Vsc2UgaWYodGhpcy5kYXRhKWlmKHRoaXMuZGF0YS5zcmMpdGhpcy5kYXRhLnNyYz10LkVNUFRZX0dJRjtlbHNlIGZvcig7dGhpcy5kYXRhLmZpcnN0Q2hpbGQ7KXRoaXMuZGF0YS5yZW1vdmVDaGlsZCh0aGlzLmRhdGEuZmlyc3RDaGlsZCk7dGhpcy5jb21wbGV0ZSgpfX0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihlKXt2YXIgcj10aGlzO2lmKCF0aGlzLmlzTG9hZGluZyl7aWYodGhpcy5pc0NvbXBsZXRlKXJldHVybiB2b2lkKGUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZShyKX0sMSkpO3N3aXRjaChlJiZ0aGlzLm9uQ29tcGxldGUub25jZShlKSx0aGlzLl9zZXRGbGFnKHQuU1RBVFVTX0ZMQUdTLkxPQURJTkcsITApLHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKSx0aGlzLmNyb3NzT3JpZ2luIT09ITEmJlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmNyb3NzT3JpZ2lufHwodGhpcy5jcm9zc09yaWdpbj10aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCkpLHRoaXMubG9hZFR5cGUpe2Nhc2UgdC5MT0FEX1RZUEUuSU1BR0U6dGhpcy50eXBlPXQuVFlQRS5JTUFHRSx0aGlzLl9sb2FkRWxlbWVudChcImltYWdlXCIpO2JyZWFrO2Nhc2UgdC5MT0FEX1RZUEUuQVVESU86dGhpcy50eXBlPXQuVFlQRS5BVURJTyx0aGlzLl9sb2FkU291cmNlRWxlbWVudChcImF1ZGlvXCIpO2JyZWFrO2Nhc2UgdC5MT0FEX1RZUEUuVklERU86dGhpcy50eXBlPXQuVFlQRS5WSURFTyx0aGlzLl9sb2FkU291cmNlRWxlbWVudChcInZpZGVvXCIpO2JyZWFrO2Nhc2UgdC5MT0FEX1RZUEUuWEhSOmRlZmF1bHQ6ZCYmdGhpcy5jcm9zc09yaWdpbj90aGlzLl9sb2FkWGRyKCk6dGhpcy5fbG9hZFhocigpfX19LHQucHJvdG90eXBlLl9oYXNGbGFnPWZ1bmN0aW9uKHQpe3JldHVybiEhKHRoaXMuX2ZsYWdzJnQpfSx0LnByb3RvdHlwZS5fc2V0RmxhZz1mdW5jdGlvbih0LGUpe3RoaXMuX2ZsYWdzPWU/dGhpcy5fZmxhZ3N8dDp0aGlzLl9mbGFncyZ+dH0sdC5wcm90b3R5cGUuX2xvYWRFbGVtZW50PWZ1bmN0aW9uKHQpe3RoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ/dGhpcy5kYXRhPXRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ6XCJpbWFnZVwiPT09dCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdy5JbWFnZT90aGlzLmRhdGE9bmV3IEltYWdlOnRoaXMuZGF0YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpLHRoaXMuY3Jvc3NPcmlnaW4mJih0aGlzLmRhdGEuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksdGhpcy5tZXRhZGF0YS5za2lwU291cmNlfHwodGhpcy5kYXRhLnNyYz10aGlzLnVybCksdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuX2JvdW5kT25FcnJvciwhMSksdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcy5fYm91bmRDb21wbGV0ZSwhMSksdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLHRoaXMuX2JvdW5kT25Qcm9ncmVzcywhMSl9LHQucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudD1mdW5jdGlvbih0KXtpZih0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50P3RoaXMuZGF0YT10aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50OlwiYXVkaW9cIj09PXQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cuQXVkaW8/dGhpcy5kYXRhPW5ldyBBdWRpbzp0aGlzLmRhdGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KSxudWxsPT09dGhpcy5kYXRhKXJldHVybiB2b2lkIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIit0KTtpZighdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKWlmKG5hdmlnYXRvci5pc0NvY29vbkpTKXRoaXMuZGF0YS5zcmM9QXJyYXkuaXNBcnJheSh0aGlzLnVybCk/dGhpcy51cmxbMF06dGhpcy51cmw7ZWxzZSBpZihBcnJheS5pc0FycmF5KHRoaXMudXJsKSlmb3IodmFyIGU9MDtlPHRoaXMudXJsLmxlbmd0aDsrK2UpdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0LHRoaXMudXJsW2VdKSk7ZWxzZSB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHQsdGhpcy51cmwpKTt0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5fYm91bmRPbkVycm9yLCExKSx0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLl9ib3VuZENvbXBsZXRlLCExKSx0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdGhpcy5fYm91bmRPblByb2dyZXNzLCExKSx0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsdGhpcy5fYm91bmRDb21wbGV0ZSwhMSksdGhpcy5kYXRhLmxvYWQoKX0sdC5wcm90b3R5cGUuX2xvYWRYaHI9ZnVuY3Rpb24oKXtcInN0cmluZ1wiIT10eXBlb2YgdGhpcy54aHJUeXBlJiYodGhpcy54aHJUeXBlPXRoaXMuX2RldGVybWluZVhoclR5cGUoKSk7dmFyIGU9dGhpcy54aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub3BlbihcIkdFVFwiLHRoaXMudXJsLCEwKSx0aGlzLnhoclR5cGU9PT10LlhIUl9SRVNQT05TRV9UWVBFLkpTT058fHRoaXMueGhyVHlwZT09PXQuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ/ZS5yZXNwb25zZVR5cGU9dC5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOmUucmVzcG9uc2VUeXBlPXRoaXMueGhyVHlwZSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuX2JvdW5kWGhyT25FcnJvciwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIix0aGlzLl9ib3VuZFhock9uQWJvcnQsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdGhpcy5fYm91bmRPblByb2dyZXNzLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcy5fYm91bmRYaHJPbkxvYWQsITEpLGUuc2VuZCgpfSx0LnByb3RvdHlwZS5fbG9hZFhkcj1mdW5jdGlvbigpe1wic3RyaW5nXCIhPXR5cGVvZiB0aGlzLnhoclR5cGUmJih0aGlzLnhoclR5cGU9dGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpKTt2YXIgdD10aGlzLnhocj1uZXcgWERvbWFpblJlcXVlc3Q7dC50aW1lb3V0PTVlMyx0Lm9uZXJyb3I9dGhpcy5fYm91bmRYaHJPbkVycm9yLHQub250aW1lb3V0PXRoaXMuX2JvdW5kWGRyT25UaW1lb3V0LHQub25wcm9ncmVzcz10aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsdC5vbmxvYWQ9dGhpcy5fYm91bmRYaHJPbkxvYWQsdC5vcGVuKFwiR0VUXCIsdGhpcy51cmwsITApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5zZW5kKCl9LDEpfSx0LnByb3RvdHlwZS5fY3JlYXRlU291cmNlPWZ1bmN0aW9uKHQsZSxyKXtyfHwocj10K1wiL1wiK2Uuc3Vic3RyKGUubGFzdEluZGV4T2YoXCIuXCIpKzEpKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO3JldHVybiBuLnNyYz1lLG4udHlwZT1yLG59LHQucHJvdG90eXBlLl9vbkVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIit0LnRhcmdldC5ub2RlTmFtZSl9LHQucHJvdG90eXBlLl9vblByb2dyZXNzPWZ1bmN0aW9uKHQpe3QmJnQubGVuZ3RoQ29tcHV0YWJsZSYmdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsdC5sb2FkZWQvdC50b3RhbCl9LHQucHJvdG90eXBlLl94aHJPbkVycm9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy54aHI7dGhpcy5hYm9ydChhKHQpK1wiIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6IFwiK3Quc3RhdHVzKycsIHRleHQ6IFwiJyt0LnN0YXR1c1RleHQrJ1wiJyl9LHQucHJvdG90eXBlLl94aHJPbkFib3J0PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydChhKHRoaXMueGhyKStcIiBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLlwiKX0sdC5wcm90b3R5cGUuX3hkck9uVGltZW91dD1mdW5jdGlvbigpe3RoaXMuYWJvcnQoYSh0aGlzLnhocikrXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpfSx0LnByb3RvdHlwZS5feGhyT25Mb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy54aHIscj1cInVuZGVmaW5lZFwiPT10eXBlb2YgZS5zdGF0dXM/ZS5zdGF0dXM6eTtpZighKHI9PT15fHxyPT09Z3x8cj09PXYmJmUucmVzcG9uc2VUZXh0Lmxlbmd0aD4wKSlyZXR1cm4gdm9pZCB0aGlzLmFib3J0KFwiW1wiK2Uuc3RhdHVzK1wiXSBcIitlLnN0YXR1c1RleHQrXCI6IFwiK2UucmVzcG9uc2VVUkwpO2lmKHRoaXMueGhyVHlwZT09PXQuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCl0aGlzLmRhdGE9ZS5yZXNwb25zZVRleHQsdGhpcy50eXBlPXQuVFlQRS5URVhUO2Vsc2UgaWYodGhpcy54aHJUeXBlPT09dC5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKXRyeXt0aGlzLmRhdGE9SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCksdGhpcy50eXBlPXQuVFlQRS5KU09OfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIGpzb246IFwiK3QpfWVsc2UgaWYodGhpcy54aHJUeXBlPT09dC5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCl0cnl7aWYod2luZG93LkRPTVBhcnNlcil7dmFyIG49bmV3IERPTVBhcnNlcjt0aGlzLmRhdGE9bi5wYXJzZUZyb21TdHJpbmcoZS5yZXNwb25zZVRleHQsXCJ0ZXh0L3htbFwiKX1lbHNle3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5pbm5lckhUTUw9ZS5yZXNwb25zZVRleHQsdGhpcy5kYXRhPWl9dGhpcy50eXBlPXQuVFlQRS5YTUx9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIit0KX1lbHNlIHRoaXMuZGF0YT1lLnJlc3BvbnNlfHxlLnJlc3BvbnNlVGV4dDt0aGlzLmNvbXBsZXRlKCl9LHQucHJvdG90eXBlLl9kZXRlcm1pbmVDcm9zc09yaWdpbj1mdW5jdGlvbih0LGUpe2lmKDA9PT10LmluZGV4T2YoXCJkYXRhOlwiKSlyZXR1cm5cIlwiO2U9ZXx8d2luZG93LmxvY2F0aW9uLHB8fChwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKSxwLmhyZWY9dCx0PSgwLGguZGVmYXVsdCkocC5ocmVmLHtzdHJpY3RNb2RlOiEwfSk7dmFyIHI9IXQucG9ydCYmXCJcIj09PWUucG9ydHx8dC5wb3J0PT09ZS5wb3J0LG49dC5wcm90b2NvbD90LnByb3RvY29sK1wiOlwiOlwiXCI7cmV0dXJuIHQuaG9zdD09PWUuaG9zdG5hbWUmJnImJm49PT1lLnByb3RvY29sP1wiXCI6XCJhbm9ueW1vdXNcIn0sdC5wcm90b3R5cGUuX2RldGVybWluZVhoclR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl18fHQuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVH0sdC5wcm90b3R5cGUuX2RldGVybWluZUxvYWRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXXx8dC5MT0FEX1RZUEUuWEhSfSx0LnByb3RvdHlwZS5fZ2V0RXh0ZW5zaW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51cmwsZT1cIlwiO2lmKHRoaXMuaXNEYXRhVXJsKXt2YXIgcj10LmluZGV4T2YoXCIvXCIpO2U9dC5zdWJzdHJpbmcocisxLHQuaW5kZXhPZihcIjtcIixyKSl9ZWxzZXt2YXIgbj10LmluZGV4T2YoXCI/XCIpO24hPT0tMSYmKHQ9dC5zdWJzdHJpbmcoMCxuKSksZT10LnN1YnN0cmluZyh0Lmxhc3RJbmRleE9mKFwiLlwiKSsxKX1yZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSx0LnByb3RvdHlwZS5fZ2V0TWltZUZyb21YaHJUeXBlPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIHQuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOnJldHVyblwiYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5XCI7Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6cmV0dXJuXCJhcHBsaWNhdGlvbi9ibG9iXCI7Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOnJldHVyblwiYXBwbGljYXRpb24veG1sXCI7Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLkpTT046cmV0dXJuXCJhcHBsaWNhdGlvbi9qc29uXCI7Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6Y2FzZSB0LlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6ZGVmYXVsdDpyZXR1cm5cInRleHQvcGxhaW5cIn19LHUodCxbe2tleTpcImlzRGF0YVVybFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNGbGFnKHQuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMKX19LHtrZXk6XCJpc0NvbXBsZXRlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc0ZsYWcodC5TVEFUVVNfRkxBR1MuQ09NUExFVEUpfX0se2tleTpcImlzTG9hZGluZ1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNGbGFnKHQuU1RBVFVTX0ZMQUdTLkxPQURJTkcpfX1dKSx0fSgpO3IuZGVmYXVsdD1tLG0uU1RBVFVTX0ZMQUdTPXtOT05FOjAsREFUQV9VUkw6MSxDT01QTEVURToyLExPQURJTkc6NH0sbS5UWVBFPXtVTktOT1dOOjAsSlNPTjoxLFhNTDoyLElNQUdFOjMsQVVESU86NCxWSURFTzo1LFRFWFQ6Nn0sbS5MT0FEX1RZUEU9e1hIUjoxLElNQUdFOjIsQVVESU86MyxWSURFTzo0fSxtLlhIUl9SRVNQT05TRV9UWVBFPXtERUZBVUxUOlwidGV4dFwiLEJVRkZFUjpcImFycmF5YnVmZmVyXCIsQkxPQjpcImJsb2JcIixET0NVTUVOVDpcImRvY3VtZW50XCIsSlNPTjpcImpzb25cIixURVhUOlwidGV4dFwifSxtLl9sb2FkVHlwZU1hcD17Z2lmOm0uTE9BRF9UWVBFLklNQUdFLHBuZzptLkxPQURfVFlQRS5JTUFHRSxibXA6bS5MT0FEX1RZUEUuSU1BR0UsanBnOm0uTE9BRF9UWVBFLklNQUdFLGpwZWc6bS5MT0FEX1RZUEUuSU1BR0UsdGlmOm0uTE9BRF9UWVBFLklNQUdFLHRpZmY6bS5MT0FEX1RZUEUuSU1BR0Usd2VicDptLkxPQURfVFlQRS5JTUFHRSx0Z2E6bS5MT0FEX1RZUEUuSU1BR0Usc3ZnOm0uTE9BRF9UWVBFLklNQUdFLFwic3ZnK3htbFwiOm0uTE9BRF9UWVBFLklNQUdFLG1wMzptLkxPQURfVFlQRS5BVURJTyxvZ2c6bS5MT0FEX1RZUEUuQVVESU8sd2F2Om0uTE9BRF9UWVBFLkFVRElPLG1wNDptLkxPQURfVFlQRS5WSURFTyx3ZWJtOm0uTE9BRF9UWVBFLlZJREVPfSxtLl94aHJUeXBlTWFwPXt4aHRtbDptLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULGh0bWw6bS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxodG06bS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCx4bWw6bS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCx0bXg6bS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxzdmc6bS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCx0c3g6bS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxnaWY6bS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLHBuZzptLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsYm1wOm0uWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixqcGc6bS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLGpwZWc6bS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLHRpZjptLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsdGlmZjptLlhIUl9SRVNQT05TRV9UWVBFLkJMT0Isd2VicDptLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsdGdhOm0uWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixqc29uOm0uWEhSX1JFU1BPTlNFX1RZUEUuSlNPTix0ZXh0Om0uWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCx0eHQ6bS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULHR0ZjptLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixvdGY6bS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJ9LG0uRU1QVFlfR0lGPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PVwifSx7XCJtaW5pLXNpZ25hbHNcIjozNixcInBhcnNlLXVyaVwiOjM3fV0sMzI6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIGkodCxlLHIpe3ZhciBuPTAsaT10Lmxlbmd0aDshZnVuY3Rpb24gbyhzKXtyZXR1cm4gc3x8bj09PWk/dm9pZChyJiZyKHMpKTp2b2lkIGUodFtuKytdLG8pfSgpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobnVsbD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLlwiKTt2YXIgZT10O3Q9bnVsbCxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gcyh0LGUpe2Z1bmN0aW9uIHIodCxlLHIpe2lmKG51bGwhPXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEVycm9yKFwidGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYoYS5zdGFydGVkPSEwLG51bGw9PXQmJmEuaWRsZSgpKXJldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gYS5kcmFpbigpfSwxKTt2YXIgaT17ZGF0YTp0LGNhbGxiYWNrOlwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpufTtlP2EuX3Rhc2tzLnVuc2hpZnQoaSk6YS5fdGFza3MucHVzaChpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGEucHJvY2VzcygpfSwxKX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbigpe3MtPTEsdC5jYWxsYmFjay5hcHBseSh0LGFyZ3VtZW50cyksbnVsbCE9YXJndW1lbnRzWzBdJiZhLmVycm9yKGFyZ3VtZW50c1swXSx0LmRhdGEpLHM8PWEuY29uY3VycmVuY3ktYS5idWZmZXImJmEudW5zYXR1cmF0ZWQoKSxhLmlkbGUoKSYmYS5kcmFpbigpLGEucHJvY2VzcygpfX1pZihudWxsPT1lKWU9MTtlbHNlIGlmKDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkNvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm9cIik7dmFyIHM9MCxhPXtfdGFza3M6W10sY29uY3VycmVuY3k6ZSxzYXR1cmF0ZWQ6bix1bnNhdHVyYXRlZDpuLGJ1ZmZlcjplLzQsZW1wdHk6bixkcmFpbjpuLGVycm9yOm4sc3RhcnRlZDohMSxwYXVzZWQ6ITEscHVzaDpmdW5jdGlvbih0LGUpe3IodCwhMSxlKX0sa2lsbDpmdW5jdGlvbigpe3M9MCxhLmRyYWluPW4sYS5zdGFydGVkPSExLGEuX3Rhc2tzPVtdfSx1bnNoaWZ0OmZ1bmN0aW9uKHQsZSl7cih0LCEwLGUpfSxwcm9jZXNzOmZ1bmN0aW9uKCl7Zm9yKDshYS5wYXVzZWQmJnM8YS5jb25jdXJyZW5jeSYmYS5fdGFza3MubGVuZ3RoOyl7dmFyIGU9YS5fdGFza3Muc2hpZnQoKTswPT09YS5fdGFza3MubGVuZ3RoJiZhLmVtcHR5KCkscys9MSxzPT09YS5jb25jdXJyZW5jeSYmYS5zYXR1cmF0ZWQoKSx0KGUuZGF0YSxvKGkoZSkpKX19LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBhLl90YXNrcy5sZW5ndGh9LHJ1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gc30saWRsZTpmdW5jdGlvbigpe3JldHVybiBhLl90YXNrcy5sZW5ndGgrcz09PTB9LHBhdXNlOmZ1bmN0aW9uKCl7YS5wYXVzZWQhPT0hMCYmKGEucGF1c2VkPSEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7aWYoYS5wYXVzZWQhPT0hMSl7YS5wYXVzZWQ9ITE7Zm9yKHZhciB0PTE7dDw9YS5jb25jdXJyZW5jeTt0KyspYS5wcm9jZXNzKCl9fX07cmV0dXJuIGF9ci5fX2VzTW9kdWxlPSEwLHIuZWFjaFNlcmllcz1pLHIucXVldWU9c30se31dLDMzOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9XCJcIixyPTA7cjx0Lmxlbmd0aDspe2Zvcih2YXIgbj1bMCwwLDBdLG89WzAsMCwwLDBdLHM9MDtzPG4ubGVuZ3RoOysrcylyPHQubGVuZ3RoP25bc109MjU1JnQuY2hhckNvZGVBdChyKyspOm5bc109MDtvWzBdPW5bMF0+PjIsb1sxXT0oMyZuWzBdKTw8NHxuWzFdPj40LG9bMl09KDE1Jm5bMV0pPDwyfG5bMl0+PjYsb1szXT02MyZuWzJdO3ZhciBhPXItKHQubGVuZ3RoLTEpO3N3aXRjaChhKXtjYXNlIDI6b1szXT02NCxvWzJdPTY0O2JyZWFrO2Nhc2UgMTpvWzNdPTY0fWZvcih2YXIgdT0wO3U8by5sZW5ndGg7Kyt1KWUrPWkuY2hhckF0KG9bdV0pfXJldHVybiBlfXIuX19lc01vZHVsZT0hMCxyLmVuY29kZUJpbmFyeT1uO3ZhciBpPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIn0se31dLDM0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoXCIuL0xvYWRlclwiKSxzPWkobyksYT10KFwiLi9SZXNvdXJjZVwiKSx1PWkoYSksbD10KFwiLi9hc3luY1wiKSxoPW4obCksYz10KFwiLi9iNjRcIiksZj1uKGMpO3MuZGVmYXVsdC5SZXNvdXJjZT11LmRlZmF1bHQscy5kZWZhdWx0LmFzeW5jPWgscy5kZWZhdWx0LmJhc2U2ND1mLGUuZXhwb3J0cz1zLmRlZmF1bHQsci5kZWZhdWx0PXMuZGVmYXVsdH0se1wiLi9Mb2FkZXJcIjozMCxcIi4vUmVzb3VyY2VcIjozMSxcIi4vYXN5bmNcIjozMixcIi4vYjY0XCI6MzN9XSwzNTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighdC5kYXRhKXJldHVybiB2b2lkIGUoKTtpZih0LnhociYmdC54aHJUeXBlPT09YS5kZWZhdWx0LlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpaWYod2luZG93LkJsb2ImJlwic3RyaW5nXCIhPXR5cGVvZiB0LmRhdGEpe2lmKDA9PT10LmRhdGEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikpe3ZhciByPWZ1bmN0aW9uKCl7dmFyIHI9aC5jcmVhdGVPYmplY3RVUkwodC5kYXRhKTtyZXR1cm4gdC5ibG9iPXQuZGF0YSx0LmRhdGE9bmV3IEltYWdlLHQuZGF0YS5zcmM9cix0LnR5cGU9YS5kZWZhdWx0LlRZUEUuSU1BR0UsdC5kYXRhLm9ubG9hZD1mdW5jdGlvbigpe2gucmV2b2tlT2JqZWN0VVJMKHIpLHQuZGF0YS5vbmxvYWQ9bnVsbCxlKCl9LHt2OnZvaWQgMH19KCk7aWYoXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygcj9cInVuZGVmaW5lZFwiOm8ocikpKXJldHVybiByLnZ9fWVsc2V7dmFyIG49dC54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJjb250ZW50LXR5cGVcIik7aWYobiYmMD09PW4uaW5kZXhPZihcImltYWdlXCIpKXJldHVybiB0LmRhdGE9bmV3IEltYWdlLHQuZGF0YS5zcmM9XCJkYXRhOlwiK24rXCI7YmFzZTY0LFwiK2wuZGVmYXVsdC5lbmNvZGVCaW5hcnkodC54aHIucmVzcG9uc2VUZXh0KSx0LnR5cGU9YS5kZWZhdWx0LlRZUEUuSU1BR0Usdm9pZCh0LmRhdGEub25sb2FkPWZ1bmN0aW9uKCl7dC5kYXRhLm9ubG9hZD1udWxsLGUoKX0pfWUoKX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9O3IuYmxvYk1pZGRsZXdhcmVGYWN0b3J5PWk7dmFyIHM9dChcIi4uLy4uL1Jlc291cmNlXCIpLGE9bihzKSx1PXQoXCIuLi8uLi9iNjRcIiksbD1uKHUpLGg9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTH0se1wiLi4vLi4vUmVzb3VyY2VcIjozMSxcIi4uLy4uL2I2NFwiOjMzfV0sMzY6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIHQuX2hlYWQ/KHQuX3RhaWwuX25leHQ9ZSxlLl9wcmV2PXQuX3RhaWwsdC5fdGFpbD1lKToodC5faGVhZD1lLHQuX3RhaWw9ZSksZS5fb3duZXI9dCxlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHtcbnZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsaSl7dm9pZCAwPT09ciYmKHI9ITEpLG4odGhpcyx0KSx0aGlzLl9mbj1lLHRoaXMuX29uY2U9cix0aGlzLl90aGlzQXJnPWksdGhpcy5fbmV4dD10aGlzLl9wcmV2PXRoaXMuX293bmVyPW51bGx9cmV0dXJuIG8odCxbe2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9vd25lciYmKHRoaXMuX293bmVyLmRldGFjaCh0aGlzKSwhMCl9fV0pLHR9KCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtuKHRoaXMsdCksdGhpcy5faGVhZD10aGlzLl90YWlsPXZvaWQgMH1yZXR1cm4gbyh0LFt7a2V5OlwiaGFuZGxlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdKSYmYXJndW1lbnRzWzBdLGU9dGhpcy5faGVhZDtpZih0KXJldHVybiEhZTtmb3IodmFyIHI9W107ZTspci5wdXNoKGUpLGU9ZS5fbmV4dDtyZXR1cm4gcn19LHtrZXk6XCJoYXNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBzKSl0aHJvdyBuZXcgRXJyb3IoXCJNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC5cIik7cmV0dXJuIHQuX293bmVyPT09dGhpc319LHtrZXk6XCJkaXNwYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faGVhZDtpZighdClyZXR1cm4hMTtmb3IoO3Q7KXQuX29uY2UmJnRoaXMuZGV0YWNoKHQpLHQuX2ZuLmFwcGx5KHQuX3RoaXNBcmcsYXJndW1lbnRzKSx0PXQuX25leHQ7cmV0dXJuITB9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP251bGw6YXJndW1lbnRzWzFdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi5cIik7cmV0dXJuIGkodGhpcyxuZXcgcyh0LCghMSksZSkpfX0se2tleTpcIm9uY2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/bnVsbDphcmd1bWVudHNbMV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi5cIik7cmV0dXJuIGkodGhpcyxuZXcgcyh0LCghMCksZSkpfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHMpKXRocm93IG5ldyBFcnJvcihcIk1pbmlTaWduYWwjZGV0YWNoKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LlwiKTtyZXR1cm4gdC5fb3duZXIhPT10aGlzP3RoaXM6KHQuX3ByZXYmJih0Ll9wcmV2Ll9uZXh0PXQuX25leHQpLHQuX25leHQmJih0Ll9uZXh0Ll9wcmV2PXQuX3ByZXYpLHQ9PT10aGlzLl9oZWFkPyh0aGlzLl9oZWFkPXQuX25leHQsbnVsbD09PXQuX25leHQmJih0aGlzLl90YWlsPW51bGwpKTp0PT09dGhpcy5fdGFpbCYmKHRoaXMuX3RhaWw9dC5fcHJldix0aGlzLl90YWlsLl9uZXh0PW51bGwpLHQuX293bmVyPW51bGwsdGhpcyl9fSx7a2V5OlwiZGV0YWNoQWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9oZWFkO2lmKCF0KXJldHVybiB0aGlzO2Zvcih0aGlzLl9oZWFkPXRoaXMuX3RhaWw9bnVsbDt0Oyl0Ll9vd25lcj1udWxsLHQ9dC5fbmV4dDtyZXR1cm4gdGhpc319XSksdH0oKTthLk1pbmlTaWduYWxCaW5kaW5nPXMsci5kZWZhdWx0PWEsZS5leHBvcnRzPXIuZGVmYXVsdH0se31dLDM3OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7ZT1lfHx7fTtmb3IodmFyIHI9e2tleTpbXCJzb3VyY2VcIixcInByb3RvY29sXCIsXCJhdXRob3JpdHlcIixcInVzZXJJbmZvXCIsXCJ1c2VyXCIsXCJwYXNzd29yZFwiLFwiaG9zdFwiLFwicG9ydFwiLFwicmVsYXRpdmVcIixcInBhdGhcIixcImRpcmVjdG9yeVwiLFwiZmlsZVwiLFwicXVlcnlcIixcImFuY2hvclwiXSxxOntuYW1lOlwicXVlcnlLZXlcIixwYXJzZXI6Lyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nfSxwYXJzZXI6e3N0cmljdDovXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLGxvb3NlOi9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL319LG49ci5wYXJzZXJbZS5zdHJpY3RNb2RlP1wic3RyaWN0XCI6XCJsb29zZVwiXS5leGVjKHQpLGk9e30sbz0xNDtvLS07KWlbci5rZXlbb11dPW5bb118fFwiXCI7cmV0dXJuIGlbci5xLm5hbWVdPXt9LGlbci5rZXlbMTJdXS5yZXBsYWNlKHIucS5wYXJzZXIsZnVuY3Rpb24odCxlLG4pe2UmJihpW3IucS5uYW1lXVtlXT1uKX0pLGl9fSx7fV0sMzg6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHM9dChcIi4uL2NvcmVcIiksYT1pKHMpLHU9dChcImlzbW9iaWxlanNcIiksbD1uKHUpLGg9dChcIi4vYWNjZXNzaWJsZVRhcmdldFwiKSxjPW4oaCk7YS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihhLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLGMuZGVmYXVsdCk7dmFyIGY9OSxkPTEwMCxwPTAsdj0wLHk9MixnPTEsbT0tMWUzLF89LTFlMyxiPTIseD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7byh0aGlzLHQpLCFsLmRlZmF1bHQudGFibGV0JiYhbC5kZWZhdWx0LnBob25lfHxuYXZpZ2F0b3IuaXNDb2Nvb25KU3x8dGhpcy5jcmVhdGVUb3VjaEhvb2soKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc3R5bGUud2lkdGg9ZCtcInB4XCIsci5zdHlsZS5oZWlnaHQ9ZCtcInB4XCIsci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsci5zdHlsZS50b3A9cCtcInB4XCIsci5zdHlsZS5sZWZ0PXYrXCJweFwiLHIuc3R5bGUuekluZGV4PXksdGhpcy5kaXY9cix0aGlzLnBvb2w9W10sdGhpcy5yZW5kZXJJZD0wLHRoaXMuZGVidWc9ITEsdGhpcy5yZW5kZXJlcj1lLHRoaXMuY2hpbGRyZW49W10sdGhpcy5fb25LZXlEb3duPXRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLHRoaXMuX29uTW91c2VNb3ZlPXRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5pc0FjdGl2ZT0hMSx0aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHk9ITEsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duLCExKX1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZS5zdHlsZS53aWR0aD1nK1wicHhcIixlLnN0eWxlLmhlaWdodD1nK1wicHhcIixlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLnRvcD1tK1wicHhcIixlLnN0eWxlLmxlZnQ9XytcInB4XCIsZS5zdHlsZS56SW5kZXg9YixlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiNGRjAwMDBcIixlLnRpdGxlPVwiSE9PSyBESVZcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dC5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5PSEwLHQuYWN0aXZhdGUoKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpfSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKX0sdC5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlfHwodGhpcy5pc0FjdGl2ZT0hMCx3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLCEwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24sITEpLHRoaXMucmVuZGVyZXIub24oXCJwb3N0cmVuZGVyXCIsdGhpcy51cGRhdGUsdGhpcyksdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUmJnRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KSl9LHQucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlJiYhdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5JiYodGhpcy5pc0FjdGl2ZT0hMSx3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24sITEpLHRoaXMucmVuZGVyZXIub2ZmKFwicG9zdHJlbmRlclwiLHRoaXMudXBkYXRlKSx0aGlzLmRpdi5wYXJlbnROb2RlJiZ0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KSl9LHQucHJvdG90eXBlLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzPWZ1bmN0aW9uKHQpe2lmKHQudmlzaWJsZSl7dC5hY2Nlc3NpYmxlJiZ0LmludGVyYWN0aXZlJiYodC5fYWNjZXNzaWJsZUFjdGl2ZXx8dGhpcy5hZGRDaGlsZCh0KSx0LnJlbmRlcklkPXRoaXMucmVuZGVySWQpO2Zvcih2YXIgZT10LmNoaWxkcmVuLHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGVbcl0pfX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbil7dGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO3ZhciB0PXRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlPXQud2lkdGgvdGhpcy5yZW5kZXJlci53aWR0aCxyPXQuaGVpZ2h0L3RoaXMucmVuZGVyZXIuaGVpZ2h0LG49dGhpcy5kaXY7bi5zdHlsZS5sZWZ0PXQubGVmdCtcInB4XCIsbi5zdHlsZS50b3A9dC50b3ArXCJweFwiLG4uc3R5bGUud2lkdGg9dGhpcy5yZW5kZXJlci53aWR0aCtcInB4XCIsbi5zdHlsZS5oZWlnaHQ9dGhpcy5yZW5kZXJlci5oZWlnaHQrXCJweFwiO2Zvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLmNoaWxkcmVuW2ldO2lmKG8ucmVuZGVySWQhPT10aGlzLnJlbmRlcklkKW8uX2FjY2Vzc2libGVBY3RpdmU9ITEsYS51dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLGksMSksdGhpcy5kaXYucmVtb3ZlQ2hpbGQoby5fYWNjZXNzaWJsZURpdiksdGhpcy5wb29sLnB1c2goby5fYWNjZXNzaWJsZURpdiksby5fYWNjZXNzaWJsZURpdj1udWxsLGktLSwwPT09dGhpcy5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuZGVhY3RpdmF0ZSgpO2Vsc2V7bj1vLl9hY2Nlc3NpYmxlRGl2O3ZhciBzPW8uaGl0QXJlYSx1PW8ud29ybGRUcmFuc2Zvcm07by5oaXRBcmVhPyhuLnN0eWxlLmxlZnQ9KHUudHgrcy54KnUuYSkqZStcInB4XCIsbi5zdHlsZS50b3A9KHUudHkrcy55KnUuZCkqcitcInB4XCIsbi5zdHlsZS53aWR0aD1zLndpZHRoKnUuYSplK1wicHhcIixuLnN0eWxlLmhlaWdodD1zLmhlaWdodCp1LmQqcitcInB4XCIpOihzPW8uZ2V0Qm91bmRzKCksdGhpcy5jYXBIaXRBcmVhKHMpLG4uc3R5bGUubGVmdD1zLngqZStcInB4XCIsbi5zdHlsZS50b3A9cy55KnIrXCJweFwiLG4uc3R5bGUud2lkdGg9cy53aWR0aCplK1wicHhcIixuLnN0eWxlLmhlaWdodD1zLmhlaWdodCpyK1wicHhcIil9fXRoaXMucmVuZGVySWQrK319LHQucHJvdG90eXBlLmNhcEhpdEFyZWE9ZnVuY3Rpb24odCl7dC54PDAmJih0LndpZHRoKz10LngsdC54PTApLHQueTwwJiYodC5oZWlnaHQrPXQueSx0Lnk9MCksdC54K3Qud2lkdGg+dGhpcy5yZW5kZXJlci53aWR0aCYmKHQud2lkdGg9dGhpcy5yZW5kZXJlci53aWR0aC10LngpLHQueSt0LmhlaWdodD50aGlzLnJlbmRlcmVyLmhlaWdodCYmKHQuaGVpZ2h0PXRoaXMucmVuZGVyZXIuaGVpZ2h0LXQueSl9LHQucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9vbC5wb3AoKTtlfHwoZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLGUuc3R5bGUud2lkdGg9ZCtcInB4XCIsZS5zdHlsZS5oZWlnaHQ9ZCtcInB4XCIsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5kZWJ1Zz9cInJnYmEoMjU1LDAsMCwwLjUpXCI6XCJ0cmFuc3BhcmVudFwiLGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGUuekluZGV4PXksZS5zdHlsZS5ib3JkZXJTdHlsZT1cIm5vbmVcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSksZS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKSksdC5hY2Nlc3NpYmxlVGl0bGU/ZS50aXRsZT10LmFjY2Vzc2libGVUaXRsZTp0LmFjY2Vzc2libGVUaXRsZXx8dC5hY2Nlc3NpYmxlSGludHx8KGUudGl0bGU9XCJkaXNwbGF5T2JqZWN0IFwiK3RoaXMudGFiSW5kZXgpLHQuYWNjZXNzaWJsZUhpbnQmJmUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHQuYWNjZXNzaWJsZUhpbnQpLHQuX2FjY2Vzc2libGVBY3RpdmU9ITAsdC5fYWNjZXNzaWJsZURpdj1lLGUuZGlzcGxheU9iamVjdD10LHRoaXMuY2hpbGRyZW4ucHVzaCh0KSx0aGlzLmRpdi5hcHBlbmRDaGlsZCh0Ll9hY2Nlc3NpYmxlRGl2KSx0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4PXQudGFiSW5kZXh9LHQucHJvdG90eXBlLl9vbkNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtlLmRpc3BhdGNoRXZlbnQodC50YXJnZXQuZGlzcGxheU9iamVjdCxcImNsaWNrXCIsZS5ldmVudERhdGEpfSx0LnByb3RvdHlwZS5fb25Gb2N1cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247ZS5kaXNwYXRjaEV2ZW50KHQudGFyZ2V0LmRpc3BsYXlPYmplY3QsXCJtb3VzZW92ZXJcIixlLmV2ZW50RGF0YSl9LHQucHJvdG90eXBlLl9vbkZvY3VzT3V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtlLmRpc3BhdGNoRXZlbnQodC50YXJnZXQuZGlzcGxheU9iamVjdCxcIm1vdXNlb3V0XCIsZS5ldmVudERhdGEpfSx0LnByb3RvdHlwZS5fb25LZXlEb3duPWZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PWYmJnRoaXMuYWN0aXZhdGUoKX0sdC5wcm90b3R5cGUuX29uTW91c2VNb3ZlPWZ1bmN0aW9uKCl7dGhpcy5kZWFjdGl2YXRlKCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRpdj1udWxsO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0uZGl2PW51bGw7d2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duKSx0aGlzLnBvb2w9bnVsbCx0aGlzLmNoaWxkcmVuPW51bGwsdGhpcy5yZW5kZXJlcj1udWxsfSx0fSgpO3IuZGVmYXVsdD14LGEuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbihcImFjY2Vzc2liaWxpdHlcIix4KSxhLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFwiYWNjZXNzaWJpbGl0eVwiLHgpfSx7XCIuLi9jb3JlXCI6NjMsXCIuL2FjY2Vzc2libGVUYXJnZXRcIjozOSxpc21vYmlsZWpzOjR9XSwzOTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3IuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9e2FjY2Vzc2libGU6ITEsYWNjZXNzaWJsZVRpdGxlOm51bGwsYWNjZXNzaWJsZUhpbnQ6bnVsbCx0YWJJbmRleDowLF9hY2Nlc3NpYmxlQWN0aXZlOiExLF9hY2Nlc3NpYmxlRGl2OiExfX0se31dLDQwOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXCIuL2FjY2Vzc2libGVUYXJnZXRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJhY2Nlc3NpYmxlVGFyZ2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFwiLi9BY2Nlc3NpYmlsaXR5TWFuYWdlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkFjY2Vzc2liaWxpdHlNYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KX0se1wiLi9BY2Nlc3NpYmlsaXR5TWFuYWdlclwiOjM4LFwiLi9hY2Nlc3NpYmxlVGFyZ2V0XCI6Mzl9XSw0MTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHM9dChcIi4vYXV0b0RldGVjdFJlbmRlcmVyXCIpLGE9dChcIi4vZGlzcGxheS9Db250YWluZXJcIiksdT1uKGEpLGw9dChcIi4vdGlja2VyXCIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuLG8pe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF07aSh0aGlzLHQpLHRoaXMucmVuZGVyZXI9KDAscy5hdXRvRGV0ZWN0UmVuZGVyZXIpKGUscixuLG8pLHRoaXMuc3RhZ2U9bmV3IHUuZGVmYXVsdCx0aGlzLl90aWNrZXI9bnVsbCx0aGlzLnRpY2tlcj1hP2wuc2hhcmVkOm5ldyBsLlRpY2tlcix0aGlzLnN0YXJ0KCl9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fdGlja2VyLnN0b3AoKX0sdC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl90aWNrZXIuc3RhcnQoKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt0aGlzLnN0b3AoKSx0aGlzLnRpY2tlcj1udWxsLHRoaXMuc3RhZ2UuZGVzdHJveSgpLHRoaXMuc3RhZ2U9bnVsbCx0aGlzLnJlbmRlcmVyLmRlc3Ryb3kodCksdGhpcy5yZW5kZXJlcj1udWxsfSxvKHQsW3trZXk6XCJ0aWNrZXJcIixzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGlja2VyJiZ0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLHRoaXMpLHRoaXMuX3RpY2tlcj10LHQmJnQuYWRkKHRoaXMucmVuZGVyLHRoaXMpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlja2VyfX0se2tleTpcInZpZXdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3fX0se2tleTpcInNjcmVlblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbn19XSksdH0oKTtyLmRlZmF1bHQ9aH0se1wiLi9hdXRvRGV0ZWN0UmVuZGVyZXJcIjo0MyxcIi4vZGlzcGxheS9Db250YWluZXJcIjo0NixcIi4vdGlja2VyXCI6MTE2fV0sNDI6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIGEodCxlKXtpZih0IGluc3RhbmNlb2YgQXJyYXkpe2lmKFwicHJlY2lzaW9uXCIhPT10WzBdLnN1YnN0cmluZygwLDkpKXt2YXIgcj10LnNsaWNlKDApO3JldHVybiByLnVuc2hpZnQoXCJwcmVjaXNpb24gXCIrZStcIiBmbG9hdDtcIikscn19ZWxzZSBpZihcInByZWNpc2lvblwiIT09dC5zdWJzdHJpbmcoMCw5KSlyZXR1cm5cInByZWNpc2lvbiBcIitlK1wiIGZsb2F0O1xcblwiK3Q7cmV0dXJuIHR9ci5fX2VzTW9kdWxlPSEwO3ZhciB1PXQoXCJwaXhpLWdsLWNvcmVcIiksbD10KFwiLi9zZXR0aW5nc1wiKSxoPW4obCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixzKXtyZXR1cm4gaSh0aGlzLGUpLG8odGhpcyx0LmNhbGwodGhpcyxyLGEobixoLmRlZmF1bHQuUFJFQ0lTSU9OX1ZFUlRFWCksYShzLGguZGVmYXVsdC5QUkVDSVNJT05fRlJBR01FTlQpKSl9cmV0dXJuIHMoZSx0KSxlfSh1LkdMU2hhZGVyKTtyLmRlZmF1bHQ9Y30se1wiLi9zZXR0aW5nc1wiOjk5LFwicGl4aS1nbC1jb3JlXCI6MTJ9XSw0MzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ODAwLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjYwMCxyPWFyZ3VtZW50c1syXSxuPWFyZ3VtZW50c1szXTtyZXR1cm4hbiYmYS5pc1dlYkdMU3VwcG9ydGVkKCk/bmV3IGMuZGVmYXVsdCh0LGUscik6bmV3IGwuZGVmYXVsdCh0LGUscil9ci5fX2VzTW9kdWxlPSEwLHIuYXV0b0RldGVjdFJlbmRlcmVyPW87dmFyIHM9dChcIi4vdXRpbHNcIiksYT1pKHMpLHU9dChcIi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclwiKSxsPW4odSksaD10KFwiLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclwiKSxjPW4oaCl9LHtcIi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclwiOjc1LFwiLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclwiOjgyLFwiLi91dGlsc1wiOjEyMH1dLDQ0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ci5fX2VzTW9kdWxlPSEwO3IuVkVSU0lPTj1cIjQuNC4yXCIsci5QSV8yPTIqTWF0aC5QSSxyLlJBRF9UT19ERUc9MTgwL01hdGguUEksci5ERUdfVE9fUkFEPU1hdGguUEkvMTgwLHIuUkVOREVSRVJfVFlQRT17VU5LTk9XTjowLFdFQkdMOjEsQ0FOVkFTOjJ9LHIuQkxFTkRfTU9ERVM9e05PUk1BTDowLEFERDoxLE1VTFRJUExZOjIsU0NSRUVOOjMsT1ZFUkxBWTo0LERBUktFTjo1LExJR0hURU46NixDT0xPUl9ET0RHRTo3LENPTE9SX0JVUk46OCxIQVJEX0xJR0hUOjksU09GVF9MSUdIVDoxMCxESUZGRVJFTkNFOjExLEVYQ0xVU0lPTjoxMixIVUU6MTMsU0FUVVJBVElPTjoxNCxDT0xPUjoxNSxMVU1JTk9TSVRZOjE2fSxyLkRSQVdfTU9ERVM9e1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LHIuU0NBTEVfTU9ERVM9e0xJTkVBUjowLE5FQVJFU1Q6MX0sci5XUkFQX01PREVTPXtDTEFNUDowLFJFUEVBVDoxLE1JUlJPUkVEX1JFUEVBVDoyfSxyLkdDX01PREVTPXtBVVRPOjAsTUFOVUFMOjF9LHIuVVJMX0ZJTEVfRVhURU5TSU9OPS9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSxyLkRBVEFfVVJJPS9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjsoY2hhcnNldD1bXFx3LV0rfGJhc2U2NCkpPywoLiopL2ksci5TVkdfU0laRT0vPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2ksci5TSEFQRVM9e1BPTFk6MCxSRUNUOjEsQ0lSQzoyLEVMSVA6MyxSUkVDOjR9LHIuUFJFQ0lTSU9OPXtMT1c6XCJsb3dwXCIsTUVESVVNOlwibWVkaXVtcFwiLEhJR0g6XCJoaWdocFwifSxyLlRSQU5TRk9STV9NT0RFPXtTVEFUSUM6MCxEWU5BTUlDOjF9LHIuVEVYVF9HUkFESUVOVD17TElORUFSX1ZFUlRJQ0FMOjAsTElORUFSX0hPUklaT05UQUw6MX19LHt9XSw0NTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi4vbWF0aFwiKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSx0aGlzLm1pblg9MS8wLHRoaXMubWluWT0xLzAsdGhpcy5tYXhYPS0oMS8wKSx0aGlzLm1heFk9LSgxLzApLHRoaXMucmVjdD1udWxsfXJldHVybiB0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluWD50aGlzLm1heFh8fHRoaXMubWluWT50aGlzLm1heFl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVJRCsrLHRoaXMubWluWD0xLzAsdGhpcy5taW5ZPTEvMCx0aGlzLm1heFg9LSgxLzApLHRoaXMubWF4WT0tKDEvMCl9LHQucHJvdG90eXBlLmdldFJlY3RhbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5taW5YPnRoaXMubWF4WHx8dGhpcy5taW5ZPnRoaXMubWF4WT9pLlJlY3RhbmdsZS5FTVBUWToodD10fHxuZXcgaS5SZWN0YW5nbGUoMCwwLDEsMSksdC54PXRoaXMubWluWCx0Lnk9dGhpcy5taW5ZLHQud2lkdGg9dGhpcy5tYXhYLXRoaXMubWluWCx0LmhlaWdodD10aGlzLm1heFktdGhpcy5taW5ZLHQpfSx0LnByb3RvdHlwZS5hZGRQb2ludD1mdW5jdGlvbih0KXt0aGlzLm1pblg9TWF0aC5taW4odGhpcy5taW5YLHQueCksdGhpcy5tYXhYPU1hdGgubWF4KHRoaXMubWF4WCx0LngpLHRoaXMubWluWT1NYXRoLm1pbih0aGlzLm1pblksdC55KSx0aGlzLm1heFk9TWF0aC5tYXgodGhpcy5tYXhZLHQueSl9LHQucHJvdG90eXBlLmFkZFF1YWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5taW5YLHI9dGhpcy5taW5ZLG49dGhpcy5tYXhYLGk9dGhpcy5tYXhZLG89dFswXSxzPXRbMV07ZT1vPGU/bzplLHI9czxyP3M6cixuPW8+bj9vOm4saT1zPmk/czppLG89dFsyXSxzPXRbM10sZT1vPGU/bzplLHI9czxyP3M6cixuPW8+bj9vOm4saT1zPmk/czppLG89dFs0XSxzPXRbNV0sZT1vPGU/bzplLHI9czxyP3M6cixuPW8+bj9vOm4saT1zPmk/czppLG89dFs2XSxzPXRbN10sZT1vPGU/bzplLHI9czxyP3M6cixuPW8+bj9vOm4saT1zPmk/czppLHRoaXMubWluWD1lLHRoaXMubWluWT1yLHRoaXMubWF4WD1uLHRoaXMubWF4WT1pfSx0LnByb3RvdHlwZS5hZGRGcmFtZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBvPXQud29ybGRUcmFuc2Zvcm0scz1vLmEsYT1vLmIsdT1vLmMsbD1vLmQsaD1vLnR4LGM9by50eSxmPXRoaXMubWluWCxkPXRoaXMubWluWSxwPXRoaXMubWF4WCx2PXRoaXMubWF4WSx5PXMqZSt1KnIraCxnPWEqZStsKnIrYztmPXk8Zj95OmYsZD1nPGQ/ZzpkLHA9eT5wP3k6cCx2PWc+dj9nOnYseT1zKm4rdSpyK2gsZz1hKm4rbCpyK2MsZj15PGY/eTpmLGQ9ZzxkP2c6ZCxwPXk+cD95OnAsdj1nPnY/Zzp2LHk9cyplK3UqaStoLGc9YSplK2wqaStjLGY9eTxmP3k6ZixkPWc8ZD9nOmQscD15PnA/eTpwLHY9Zz52P2c6dix5PXMqbit1KmkraCxnPWEqbitsKmkrYyxmPXk8Zj95OmYsZD1nPGQ/ZzpkLHA9eT5wP3k6cCx2PWc+dj9nOnYsdGhpcy5taW5YPWYsdGhpcy5taW5ZPWQsdGhpcy5tYXhYPXAsdGhpcy5tYXhZPXZ9LHQucHJvdG90eXBlLmFkZFZlcnRpY2VzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT10LndvcmxkVHJhbnNmb3JtLG89aS5hLHM9aS5iLGE9aS5jLHU9aS5kLGw9aS50eCxoPWkudHksYz10aGlzLm1pblgsZj10aGlzLm1pblksZD10aGlzLm1heFgscD10aGlzLm1heFksdj1yO3Y8bjt2Kz0yKXt2YXIgeT1lW3ZdLGc9ZVt2KzFdLG09byp5K2EqZytsLF89dSpnK3MqeStoO2M9bTxjP206YyxmPV88Zj9fOmYsZD1tPmQ/bTpkLHA9Xz5wP186cH10aGlzLm1pblg9Yyx0aGlzLm1pblk9Zix0aGlzLm1heFg9ZCx0aGlzLm1heFk9cH0sdC5wcm90b3R5cGUuYWRkQm91bmRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubWluWCxyPXRoaXMubWluWSxuPXRoaXMubWF4WCxpPXRoaXMubWF4WTt0aGlzLm1pblg9dC5taW5YPGU/dC5taW5YOmUsdGhpcy5taW5ZPXQubWluWTxyP3QubWluWTpyLHRoaXMubWF4WD10Lm1heFg+bj90Lm1heFg6bix0aGlzLm1heFk9dC5tYXhZPmk/dC5tYXhZOml9LHQucHJvdG90eXBlLmFkZEJvdW5kc01hc2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10Lm1pblg+ZS5taW5YP3QubWluWDplLm1pblgsbj10Lm1pblk+ZS5taW5ZP3QubWluWTplLm1pblksaT10Lm1heFg8ZS5tYXhYP3QubWF4WDplLm1heFgsbz10Lm1heFk8ZS5tYXhZP3QubWF4WTplLm1heFk7aWYocjw9aSYmbjw9byl7dmFyIHM9dGhpcy5taW5YLGE9dGhpcy5taW5ZLHU9dGhpcy5tYXhYLGw9dGhpcy5tYXhZO3RoaXMubWluWD1yPHM/cjpzLHRoaXMubWluWT1uPGE/bjphLHRoaXMubWF4WD1pPnU/aTp1LHRoaXMubWF4WT1vPmw/bzpsfX0sdC5wcm90b3R5cGUuYWRkQm91bmRzQXJlYT1mdW5jdGlvbih0LGUpe3ZhciByPXQubWluWD5lLng/dC5taW5YOmUueCxuPXQubWluWT5lLnk/dC5taW5ZOmUueSxpPXQubWF4WDxlLngrZS53aWR0aD90Lm1heFg6ZS54K2Uud2lkdGgsbz10Lm1heFk8ZS55K2UuaGVpZ2h0P3QubWF4WTplLnkrZS5oZWlnaHQ7aWYocjw9aSYmbjw9byl7dmFyIHM9dGhpcy5taW5YLGE9dGhpcy5taW5ZLHU9dGhpcy5tYXhYLGw9dGhpcy5tYXhZO3RoaXMubWluWD1yPHM/cjpzLHRoaXMubWluWT1uPGE/bjphLHRoaXMubWF4WD1pPnU/aTp1LHRoaXMubWF4WT1vPmw/bzpsfX0sdH0oKTtyLmRlZmF1bHQ9b30se1wiLi4vbWF0aFwiOjY4fV0sNDY6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcIi4uL3V0aWxzXCIpLGw9dChcIi4vRGlzcGxheU9iamVjdFwiKSxoPW4obCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLmNoaWxkcmVuPVtdLHJ9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKGU+MSlmb3IodmFyIHI9MDtyPGU7cisrKXRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW3JdKTtlbHNlIHQucGFyZW50JiZ0LnBhcmVudC5yZW1vdmVDaGlsZCh0KSx0LnBhcmVudD10aGlzLHQudHJhbnNmb3JtLl9wYXJlbnRJRD0tMSx0aGlzLmNoaWxkcmVuLnB1c2godCksdGhpcy5fYm91bmRzSUQrKyx0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGgtMSksdC5lbWl0KFwiYWRkZWRcIix0aGlzKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuYWRkQ2hpbGRBdD1mdW5jdGlvbih0LGUpe2lmKGU8MHx8ZT50aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IodCtcImFkZENoaWxkQXQ6IFRoZSBpbmRleCBcIitlK1wiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIrdGhpcy5jaGlsZHJlbi5sZW5ndGgpO3JldHVybiB0LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlQ2hpbGQodCksdC5wYXJlbnQ9dGhpcyx0LnRyYW5zZm9ybS5fcGFyZW50SUQ9LTEsdGhpcy5jaGlsZHJlbi5zcGxpY2UoZSwwLHQpLHRoaXMuX2JvdW5kc0lEKyssdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGUpLHQuZW1pdChcImFkZGVkXCIsdGhpcyksdH0sZS5wcm90b3R5cGUuc3dhcENoaWxkcmVuPWZ1bmN0aW9uKHQsZSl7aWYodCE9PWUpe3ZhciByPXRoaXMuZ2V0Q2hpbGRJbmRleCh0KSxuPXRoaXMuZ2V0Q2hpbGRJbmRleChlKTt0aGlzLmNoaWxkcmVuW3JdPWUsdGhpcy5jaGlsZHJlbltuXT10LHRoaXMub25DaGlsZHJlbkNoYW5nZShyPG4/cjpuKX19LGUucHJvdG90eXBlLmdldENoaWxkSW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jaGlsZHJlbi5pbmRleE9mKHQpO2lmKGU9PT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlclwiKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleD1mdW5jdGlvbih0LGUpe2lmKGU8MHx8ZT49dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN1cHBsaWVkIGluZGV4IGlzIG91dCBvZiBib3VuZHNcIik7dmFyIHI9dGhpcy5nZXRDaGlsZEluZGV4KHQpOygwLHUucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sciwxKSx0aGlzLmNoaWxkcmVuLnNwbGljZShlLDAsdCksdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGUpfSxlLnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hpbGRBdDogSW5kZXggKFwiK3QrXCIpIGRvZXMgbm90IGV4aXN0LlwiKTtyZXR1cm4gdGhpcy5jaGlsZHJlblt0XX0sZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlPjEpZm9yKHZhciByPTA7cjxlO3IrKyl0aGlzLnJlbW92ZUNoaWxkKGFyZ3VtZW50c1tyXSk7ZWxzZXt2YXIgbj10aGlzLmNoaWxkcmVuLmluZGV4T2YodCk7aWYobj09PS0xKXJldHVybiBudWxsO3QucGFyZW50PW51bGwsdC50cmFuc2Zvcm0uX3BhcmVudElEPS0xLCgwLHUucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sbiwxKSx0aGlzLl9ib3VuZHNJRCsrLHRoaXMub25DaGlsZHJlbkNoYW5nZShuKSx0LmVtaXQoXCJyZW1vdmVkXCIsdGhpcyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDaGlsZEF0KHQpO3JldHVybiBlLnBhcmVudD1udWxsLGUudHJhbnNmb3JtLl9wYXJlbnRJRD0tMSwoMCx1LnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLHQsMSksdGhpcy5fYm91bmRzSUQrKyx0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodCksZS5lbWl0KFwicmVtb3ZlZFwiLHRoaXMpLGV9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHNbMV0scj10LG49XCJudW1iZXJcIj09dHlwZW9mIGU/ZTp0aGlzLmNoaWxkcmVuLmxlbmd0aCxpPW4tcixvPXZvaWQgMDtpZihpPjAmJmk8PW4pe289dGhpcy5jaGlsZHJlbi5zcGxpY2UocixpKTtmb3IodmFyIHM9MDtzPG8ubGVuZ3RoOysrcylvW3NdLnBhcmVudD1udWxsLG9bc10udHJhbnNmb3JtJiYob1tzXS50cmFuc2Zvcm0uX3BhcmVudElEPS0xKTt0aGlzLl9ib3VuZHNJRCsrLHRoaXMub25DaGlsZHJlbkNoYW5nZSh0KTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoOysrYSlvW2FdLmVtaXQoXCJyZW1vdmVkXCIsdGhpcyk7cmV0dXJuIG99aWYoMD09PWkmJjA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm5bXTt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInJlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS5cIil9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMuX2JvdW5kc0lEKyssdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSksdGhpcy53b3JsZEFscGhhPXRoaXMuYWxwaGEqdGhpcy5wYXJlbnQud29ybGRBbHBoYTtmb3IodmFyIHQ9MCxlPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3Q8ZTsrK3Qpe3ZhciByPXRoaXMuY2hpbGRyZW5bdF07ci52aXNpYmxlJiZyLnVwZGF0ZVRyYW5zZm9ybSgpfX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dGhpcy5fYm91bmRzLmNsZWFyKCksdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuY2hpbGRyZW5bdF07ZS52aXNpYmxlJiZlLnJlbmRlcmFibGUmJihlLmNhbGN1bGF0ZUJvdW5kcygpLGUuX21hc2s/KGUuX21hc2suY2FsY3VsYXRlQm91bmRzKCksdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soZS5fYm91bmRzLGUuX21hc2suX2JvdW5kcykpOmUuZmlsdGVyQXJlYT90aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShlLl9ib3VuZHMsZS5maWx0ZXJBcmVhKTp0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGUuX2JvdW5kcykpfXRoaXMuX2xhc3RCb3VuZHNJRD10aGlzLl9ib3VuZHNJRH0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7aWYodGhpcy52aXNpYmxlJiYhKHRoaXMud29ybGRBbHBoYTw9MCkmJnRoaXMucmVuZGVyYWJsZSlpZih0aGlzLl9tYXNrfHx0aGlzLl9maWx0ZXJzKXRoaXMucmVuZGVyQWR2YW5jZWRXZWJHTCh0KTtlbHNle3RoaXMuX3JlbmRlcldlYkdMKHQpO2Zvcih2YXIgZT0wLHI9dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZTxyOysrZSl0aGlzLmNoaWxkcmVuW2VdLnJlbmRlcldlYkdMKHQpfX0sZS5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTD1mdW5jdGlvbih0KXt0LmZsdXNoKCk7dmFyIGU9dGhpcy5fZmlsdGVycyxyPXRoaXMuX21hc2s7aWYoZSl7dGhpcy5fZW5hYmxlZEZpbHRlcnN8fCh0aGlzLl9lbmFibGVkRmlsdGVycz1bXSksdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoPTA7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5lbmFibGVkJiZ0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGVbbl0pO3RoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCYmdC5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGhpcyx0aGlzLl9lbmFibGVkRmlsdGVycyl9ciYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLHRoaXMuX21hc2spLHRoaXMuX3JlbmRlcldlYkdMKHQpO2Zvcih2YXIgaT0wLG89dGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxvO2krKyl0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcldlYkdMKHQpO3QuZmx1c2goKSxyJiZ0Lm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcyx0aGlzLl9tYXNrKSxlJiZ0aGlzLl9lbmFibGVkRmlsdGVycyYmdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoJiZ0LmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCl9LGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7aWYodGhpcy52aXNpYmxlJiYhKHRoaXMud29ybGRBbHBoYTw9MCkmJnRoaXMucmVuZGVyYWJsZSl7dGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrKSx0aGlzLl9yZW5kZXJDYW52YXModCk7Zm9yKHZhciBlPTAscj10aGlzLmNoaWxkcmVuLmxlbmd0aDtlPHI7KytlKXRoaXMuY2hpbGRyZW5bZV0ucmVuZGVyQ2FudmFzKHQpO3RoaXMuX21hc2smJnQubWFza01hbmFnZXIucG9wTWFzayh0KX19LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO3ZhciByPVwiYm9vbGVhblwiPT10eXBlb2YgZT9lOmUmJmUuY2hpbGRyZW4sbj10aGlzLnJlbW92ZUNoaWxkcmVuKDAsdGhpcy5jaGlsZHJlbi5sZW5ndGgpO2lmKHIpZm9yKHZhciBpPTA7aTxuLmxlbmd0aDsrK2kpbltpXS5kZXN0cm95KGUpfSxhKGUsW3trZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYWxlLngqdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoOzAhPT1lP3RoaXMuc2NhbGUueD10L2U6dGhpcy5zY2FsZS54PTEsdGhpcy5fd2lkdGg9dH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZS55KnRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0OzAhPT1lP3RoaXMuc2NhbGUueT10L2U6dGhpcy5zY2FsZS55PTEsdGhpcy5faGVpZ2h0PXR9fV0pLGV9KGguZGVmYXVsdCk7ci5kZWZhdWx0PWMsYy5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtPWMucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybX0se1wiLi4vdXRpbHNcIjoxMjAsXCIuL0Rpc3BsYXlPYmplY3RcIjo0N31dLDQ3OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXCJldmVudGVtaXR0ZXIzXCIpLGw9bih1KSxoPXQoXCIuLi9jb25zdFwiKSxjPXQoXCIuLi9zZXR0aW5nc1wiKSxmPW4oYyksZD10KFwiLi9UcmFuc2Zvcm1TdGF0aWNcIikscD1uKGQpLHY9dChcIi4vVHJhbnNmb3JtXCIpLHk9bih2KSxnPXQoXCIuL0JvdW5kc1wiKSxtPW4oZyksXz10KFwiLi4vbWF0aFwiKSxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSk7dmFyIHI9byh0aGlzLHQuY2FsbCh0aGlzKSksbj1mLmRlZmF1bHQuVFJBTlNGT1JNX01PREU9PT1oLlRSQU5TRk9STV9NT0RFLlNUQVRJQz9wLmRlZmF1bHQ6eS5kZWZhdWx0O3JldHVybiByLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50PW51bGwsci50cmFuc2Zvcm09bmV3IG4sci5hbHBoYT0xLHIudmlzaWJsZT0hMCxyLnJlbmRlcmFibGU9ITAsci5wYXJlbnQ9bnVsbCxyLndvcmxkQWxwaGE9MSxyLmZpbHRlckFyZWE9bnVsbCxyLl9maWx0ZXJzPW51bGwsci5fZW5hYmxlZEZpbHRlcnM9bnVsbCxyLl9ib3VuZHM9bmV3IG0uZGVmYXVsdCxyLl9ib3VuZHNJRD0wLHIuX2xhc3RCb3VuZHNJRD0tMSxyLl9ib3VuZHNSZWN0PW51bGwsci5fbG9jYWxCb3VuZHNSZWN0PW51bGwsci5fbWFzaz1udWxsLHIuX2Rlc3Ryb3llZD0hMSxyfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSksdGhpcy53b3JsZEFscGhhPXRoaXMuYWxwaGEqdGhpcy5wYXJlbnQud29ybGRBbHBoYSx0aGlzLl9ib3VuZHMudXBkYXRlSUQrK30sZS5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKSk6dGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSl9LGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbih0LGUpe3JldHVybiB0fHwodGhpcy5wYXJlbnQ/KHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpKToodGhpcy5wYXJlbnQ9dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnBhcmVudD1udWxsKSksdGhpcy5fYm91bmRzSUQhPT10aGlzLl9sYXN0Qm91bmRzSUQmJnRoaXMuY2FsY3VsYXRlQm91bmRzKCksZXx8KHRoaXMuX2JvdW5kc1JlY3R8fCh0aGlzLl9ib3VuZHNSZWN0PW5ldyBfLlJlY3RhbmdsZSksZT10aGlzLl9ib3VuZHNSZWN0KSx0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKGUpfSxlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyYW5zZm9ybSxyPXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGwsdGhpcy50cmFuc2Zvcm09dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtLHR8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3R8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3Q9bmV3IF8uUmVjdGFuZ2xlKSx0PXRoaXMuX2xvY2FsQm91bmRzUmVjdCk7dmFyIG49dGhpcy5nZXRCb3VuZHMoITEsdCk7cmV0dXJuIHRoaXMucGFyZW50PXIsdGhpcy50cmFuc2Zvcm09ZSxufSxlLnByb3RvdHlwZS50b0dsb2JhbD1mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07cmV0dXJuIHJ8fCh0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCksdGhpcy5wYXJlbnQ/dGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk6KHRoaXMucGFyZW50PXRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMucGFyZW50PW51bGwpKSx0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHQsZSl9LGUucHJvdG90eXBlLnRvTG9jYWw9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIGUmJih0PWUudG9HbG9iYWwodCxyLG4pKSxufHwodGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMucGFyZW50P3RoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpOih0aGlzLnBhcmVudD10aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCx0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnBhcmVudD1udWxsKSksdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UodCxyKX0sZS5wcm90b3R5cGUucmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5zZXRQYXJlbnQ9ZnVuY3Rpb24odCl7aWYoIXR8fCF0LmFkZENoaWxkKXRocm93IG5ldyBFcnJvcihcInNldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lclwiKTtyZXR1cm4gdC5hZGRDaGlsZCh0aGlzKSx0fSxlLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MSxpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLG89YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjAscz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06MCxhPWFyZ3VtZW50cy5sZW5ndGg+NyYmdm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTowLHU9YXJndW1lbnRzLmxlbmd0aD44JiZ2b2lkIDAhPT1hcmd1bWVudHNbOF0/YXJndW1lbnRzWzhdOjA7cmV0dXJuIHRoaXMucG9zaXRpb24ueD10LHRoaXMucG9zaXRpb24ueT1lLHRoaXMuc2NhbGUueD1yP3I6MSx0aGlzLnNjYWxlLnk9bj9uOjEsdGhpcy5yb3RhdGlvbj1pLHRoaXMuc2tldy54PW8sdGhpcy5za2V3Lnk9cyx0aGlzLnBpdm90Lng9YSx0aGlzLnBpdm90Lnk9dSx0aGlzfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyksdGhpcy50cmFuc2Zvcm09bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMuX2JvdW5kcz1udWxsLHRoaXMuX2N1cnJlbnRCb3VuZHM9bnVsbCx0aGlzLl9tYXNrPW51bGwsdGhpcy5maWx0ZXJBcmVhPW51bGwsdGhpcy5pbnRlcmFjdGl2ZT0hMSx0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW49ITEsdGhpcy5fZGVzdHJveWVkPSEwfSxhKGUsW3trZXk6XCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQmJih0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50PW5ldyBlKSx0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50fX0se2tleTpcInhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueD10fX0se2tleTpcInlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueT10fX0se2tleTpcIndvcmxkVHJhbnNmb3JtXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtfX0se2tleTpcImxvY2FsVHJhbnNmb3JtXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtfX0se2tleTpcInBvc2l0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weSh0KX19LHtrZXk6XCJzY2FsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHkodCl9fSx7a2V5OlwicGl2b3RcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl2b3R9LHNldDpmdW5jdGlvbih0KXt0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5KHQpfX0se2tleTpcInNrZXdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tld30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtLnNrZXcuY29weSh0KX19LHtrZXk6XCJyb3RhdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudHJhbnNmb3JtLnJvdGF0aW9uPXR9fSx7a2V5Olwid29ybGRWaXNpYmxlXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztkb3tpZighdC52aXNpYmxlKXJldHVybiExO3Q9dC5wYXJlbnR9d2hpbGUodCk7cmV0dXJuITB9fSx7a2V5OlwibWFza1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFzayYmKHRoaXMuX21hc2sucmVuZGVyYWJsZT0hMCksdGhpcy5fbWFzaz10LHRoaXMuX21hc2smJih0aGlzLl9tYXNrLnJlbmRlcmFibGU9ITEpfX0se2tleTpcImZpbHRlcnNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsdGVycyYmdGhpcy5fZmlsdGVycy5zbGljZSgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZmlsdGVycz10JiZ0LnNsaWNlKCl9fV0pLGV9KGwuZGVmYXVsdCk7ci5kZWZhdWx0PWIsYi5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybT1iLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm19LHtcIi4uL2NvbnN0XCI6NDQsXCIuLi9tYXRoXCI6NjgsXCIuLi9zZXR0aW5nc1wiOjk5LFwiLi9Cb3VuZHNcIjo0NSxcIi4vVHJhbnNmb3JtXCI6NDgsXCIuL1RyYW5zZm9ybVN0YXRpY1wiOjUwLGV2ZW50ZW1pdHRlcjM6M31dLDQ4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXCIuLi9tYXRoXCIpLGw9dChcIi4vVHJhbnNmb3JtQmFzZVwiKSxoPW4obCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiByLnBvc2l0aW9uPW5ldyB1LlBvaW50KDAsMCksci5zY2FsZT1uZXcgdS5Qb2ludCgxLDEpLHIuc2tldz1uZXcgdS5PYnNlcnZhYmxlUG9pbnQoci51cGRhdGVTa2V3LHIsMCwwKSxyLnBpdm90PW5ldyB1LlBvaW50KDAsMCksci5fcm90YXRpb249MCxyLl9jeD0xLHIuX3N4PTAsci5fY3k9MCxyLl9zeT0xLHJ9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS51cGRhdGVTa2V3PWZ1bmN0aW9uKCl7dGhpcy5fY3g9TWF0aC5jb3ModGhpcy5fcm90YXRpb24rdGhpcy5za2V3Ll95KSx0aGlzLl9zeD1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbit0aGlzLnNrZXcuX3kpLHRoaXMuX2N5PS1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbi10aGlzLnNrZXcuX3gpLHRoaXMuX3N5PU1hdGguY29zKHRoaXMuX3JvdGF0aW9uLXRoaXMuc2tldy5feCl9LGUucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sb2NhbFRyYW5zZm9ybTt0LmE9dGhpcy5fY3gqdGhpcy5zY2FsZS54LHQuYj10aGlzLl9zeCp0aGlzLnNjYWxlLngsdC5jPXRoaXMuX2N5KnRoaXMuc2NhbGUueSx0LmQ9dGhpcy5fc3kqdGhpcy5zY2FsZS55LHQudHg9dGhpcy5wb3NpdGlvbi54LSh0aGlzLnBpdm90LngqdC5hK3RoaXMucGl2b3QueSp0LmMpLHQudHk9dGhpcy5wb3NpdGlvbi55LSh0aGlzLnBpdm90LngqdC5iK3RoaXMucGl2b3QueSp0LmQpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sb2NhbFRyYW5zZm9ybTtlLmE9dGhpcy5fY3gqdGhpcy5zY2FsZS54LGUuYj10aGlzLl9zeCp0aGlzLnNjYWxlLngsZS5jPXRoaXMuX2N5KnRoaXMuc2NhbGUueSxlLmQ9dGhpcy5fc3kqdGhpcy5zY2FsZS55LGUudHg9dGhpcy5wb3NpdGlvbi54LSh0aGlzLnBpdm90LngqZS5hK3RoaXMucGl2b3QueSplLmMpLGUudHk9dGhpcy5wb3NpdGlvbi55LSh0aGlzLnBpdm90LngqZS5iK3RoaXMucGl2b3QueSplLmQpO3ZhciByPXQud29ybGRUcmFuc2Zvcm0sbj10aGlzLndvcmxkVHJhbnNmb3JtO24uYT1lLmEqci5hK2UuYipyLmMsbi5iPWUuYSpyLmIrZS5iKnIuZCxuLmM9ZS5jKnIuYStlLmQqci5jLG4uZD1lLmMqci5iK2UuZCpyLmQsbi50eD1lLnR4KnIuYStlLnR5KnIuYytyLnR4LG4udHk9ZS50eCpyLmIrZS50eSpyLmQrci50eSx0aGlzLl93b3JsZElEKyt9LGUucHJvdG90eXBlLnNldEZyb21NYXRyaXg9ZnVuY3Rpb24odCl7dC5kZWNvbXBvc2UodGhpcyl9LGEoZSxbe2tleTpcInJvdGF0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcm90YXRpb249dCx0aGlzLnVwZGF0ZVNrZXcoKX19XSksZX0oaC5kZWZhdWx0KTtyLmRlZmF1bHQ9Y30se1wiLi4vbWF0aFwiOjY4LFwiLi9UcmFuc2Zvcm1CYXNlXCI6NDl9XSw0OTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi4vbWF0aFwiKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe24odGhpcyx0KSx0aGlzLndvcmxkVHJhbnNmb3JtPW5ldyBpLk1hdHJpeCx0aGlzLmxvY2FsVHJhbnNmb3JtPW5ldyBpLk1hdHJpeCx0aGlzLl93b3JsZElEPTAsdGhpcy5fcGFyZW50SUQ9MH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10LndvcmxkVHJhbnNmb3JtLHI9dGhpcy53b3JsZFRyYW5zZm9ybSxuPXRoaXMubG9jYWxUcmFuc2Zvcm07ci5hPW4uYSplLmErbi5iKmUuYyxyLmI9bi5hKmUuYituLmIqZS5kLHIuYz1uLmMqZS5hK24uZCplLmMsci5kPW4uYyplLmIrbi5kKmUuZCxyLnR4PW4udHgqZS5hK24udHkqZS5jK2UudHgsci50eT1uLnR4KmUuYituLnR5KmUuZCtlLnR5LHRoaXMuX3dvcmxkSUQrK30sdH0oKTtyLmRlZmF1bHQ9byxvLnByb3RvdHlwZS51cGRhdGVXb3JsZFRyYW5zZm9ybT1vLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0sby5JREVOVElUWT1uZXcgb30se1wiLi4vbWF0aFwiOjY4fV0sNTA6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmU7XG59ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcIi4uL21hdGhcIiksbD10KFwiLi9UcmFuc2Zvcm1CYXNlXCIpLGg9bihsKSxjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSk7dmFyIHI9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIHIucG9zaXRpb249bmV3IHUuT2JzZXJ2YWJsZVBvaW50KHIub25DaGFuZ2UsciwwLDApLHIuc2NhbGU9bmV3IHUuT2JzZXJ2YWJsZVBvaW50KHIub25DaGFuZ2UsciwxLDEpLHIucGl2b3Q9bmV3IHUuT2JzZXJ2YWJsZVBvaW50KHIub25DaGFuZ2UsciwwLDApLHIuc2tldz1uZXcgdS5PYnNlcnZhYmxlUG9pbnQoci51cGRhdGVTa2V3LHIsMCwwKSxyLl9yb3RhdGlvbj0wLHIuX2N4PTEsci5fc3g9MCxyLl9jeT0wLHIuX3N5PTEsci5fbG9jYWxJRD0wLHIuX2N1cnJlbnRMb2NhbElEPTAscn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLm9uQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fbG9jYWxJRCsrfSxlLnByb3RvdHlwZS51cGRhdGVTa2V3PWZ1bmN0aW9uKCl7dGhpcy5fY3g9TWF0aC5jb3ModGhpcy5fcm90YXRpb24rdGhpcy5za2V3Ll95KSx0aGlzLl9zeD1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbit0aGlzLnNrZXcuX3kpLHRoaXMuX2N5PS1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbi10aGlzLnNrZXcuX3gpLHRoaXMuX3N5PU1hdGguY29zKHRoaXMuX3JvdGF0aW9uLXRoaXMuc2tldy5feCksdGhpcy5fbG9jYWxJRCsrfSxlLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubG9jYWxUcmFuc2Zvcm07dGhpcy5fbG9jYWxJRCE9PXRoaXMuX2N1cnJlbnRMb2NhbElEJiYodC5hPXRoaXMuX2N4KnRoaXMuc2NhbGUuX3gsdC5iPXRoaXMuX3N4KnRoaXMuc2NhbGUuX3gsdC5jPXRoaXMuX2N5KnRoaXMuc2NhbGUuX3ksdC5kPXRoaXMuX3N5KnRoaXMuc2NhbGUuX3ksdC50eD10aGlzLnBvc2l0aW9uLl94LSh0aGlzLnBpdm90Ll94KnQuYSt0aGlzLnBpdm90Ll95KnQuYyksdC50eT10aGlzLnBvc2l0aW9uLl95LSh0aGlzLnBpdm90Ll94KnQuYit0aGlzLnBpdm90Ll95KnQuZCksdGhpcy5fY3VycmVudExvY2FsSUQ9dGhpcy5fbG9jYWxJRCx0aGlzLl9wYXJlbnRJRD0tMSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxvY2FsVHJhbnNmb3JtO2lmKHRoaXMuX2xvY2FsSUQhPT10aGlzLl9jdXJyZW50TG9jYWxJRCYmKGUuYT10aGlzLl9jeCp0aGlzLnNjYWxlLl94LGUuYj10aGlzLl9zeCp0aGlzLnNjYWxlLl94LGUuYz10aGlzLl9jeSp0aGlzLnNjYWxlLl95LGUuZD10aGlzLl9zeSp0aGlzLnNjYWxlLl95LGUudHg9dGhpcy5wb3NpdGlvbi5feC0odGhpcy5waXZvdC5feCplLmErdGhpcy5waXZvdC5feSplLmMpLGUudHk9dGhpcy5wb3NpdGlvbi5feS0odGhpcy5waXZvdC5feCplLmIrdGhpcy5waXZvdC5feSplLmQpLHRoaXMuX2N1cnJlbnRMb2NhbElEPXRoaXMuX2xvY2FsSUQsdGhpcy5fcGFyZW50SUQ9LTEpLHRoaXMuX3BhcmVudElEIT09dC5fd29ybGRJRCl7dmFyIHI9dC53b3JsZFRyYW5zZm9ybSxuPXRoaXMud29ybGRUcmFuc2Zvcm07bi5hPWUuYSpyLmErZS5iKnIuYyxuLmI9ZS5hKnIuYitlLmIqci5kLG4uYz1lLmMqci5hK2UuZCpyLmMsbi5kPWUuYypyLmIrZS5kKnIuZCxuLnR4PWUudHgqci5hK2UudHkqci5jK3IudHgsbi50eT1lLnR4KnIuYitlLnR5KnIuZCtyLnR5LHRoaXMuX3BhcmVudElEPXQuX3dvcmxkSUQsdGhpcy5fd29ybGRJRCsrfX0sZS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeD1mdW5jdGlvbih0KXt0LmRlY29tcG9zZSh0aGlzKSx0aGlzLl9sb2NhbElEKyt9LGEoZSxbe2tleTpcInJvdGF0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcm90YXRpb249dCx0aGlzLnVwZGF0ZVNrZXcoKX19XSksZX0oaC5kZWZhdWx0KTtyLmRlZmF1bHQ9Y30se1wiLi4vbWF0aFwiOjY4LFwiLi9UcmFuc2Zvcm1CYXNlXCI6NDl9XSw1MTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi9kaXNwbGF5L0NvbnRhaW5lclwiKSx1PW4oYSksbD10KFwiLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZVwiKSxoPW4obCksYz10KFwiLi4vdGV4dHVyZXMvVGV4dHVyZVwiKSxmPW4oYyksZD10KFwiLi9HcmFwaGljc0RhdGFcIikscD1uKGQpLHY9dChcIi4uL3Nwcml0ZXMvU3ByaXRlXCIpLHk9bih2KSxnPXQoXCIuLi9tYXRoXCIpLG09dChcIi4uL3V0aWxzXCIpLF89dChcIi4uL2NvbnN0XCIpLGI9dChcIi4uL2Rpc3BsYXkvQm91bmRzXCIpLHg9bihiKSxUPXQoXCIuL3V0aWxzL2JlemllckN1cnZlVG9cIiksdz1uKFQpLEU9dChcIi4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXJcIiksUz1uKEUpLE89dm9pZCAwLFA9bmV3IGcuTWF0cml4LE09bmV3IGcuUG9pbnQsQz1uZXcgRmxvYXQzMkFycmF5KDQpLFI9bmV3IEZsb2F0MzJBcnJheSg0KSxBPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gbi5maWxsQWxwaGE9MSxuLmxpbmVXaWR0aD0wLG4ubmF0aXZlTGluZXM9cixuLmxpbmVDb2xvcj0wLG4uZ3JhcGhpY3NEYXRhPVtdLG4udGludD0xNjc3NzIxNSxuLl9wcmV2VGludD0xNjc3NzIxNSxuLmJsZW5kTW9kZT1fLkJMRU5EX01PREVTLk5PUk1BTCxuLmN1cnJlbnRQYXRoPW51bGwsbi5fd2ViR0w9e30sbi5pc01hc2s9ITEsbi5ib3VuZHNQYWRkaW5nPTAsbi5fbG9jYWxCb3VuZHM9bmV3IHguZGVmYXVsdCxuLmRpcnR5PTAsbi5mYXN0UmVjdERpcnR5PS0xLG4uY2xlYXJEaXJ0eT0wLG4uYm91bmRzRGlydHk9LTEsbi5jYWNoZWRTcHJpdGVEaXJ0eT0hMSxuLl9zcHJpdGVSZWN0PW51bGwsbi5fZmFzdFJlY3Q9ITEsbn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uIHQoKXt2YXIgdD1uZXcgZTt0LnJlbmRlcmFibGU9dGhpcy5yZW5kZXJhYmxlLHQuZmlsbEFscGhhPXRoaXMuZmlsbEFscGhhLHQubGluZVdpZHRoPXRoaXMubGluZVdpZHRoLHQubGluZUNvbG9yPXRoaXMubGluZUNvbG9yLHQudGludD10aGlzLnRpbnQsdC5ibGVuZE1vZGU9dGhpcy5ibGVuZE1vZGUsdC5pc01hc2s9dGhpcy5pc01hc2ssdC5ib3VuZHNQYWRkaW5nPXRoaXMuYm91bmRzUGFkZGluZyx0LmRpcnR5PTAsdC5jYWNoZWRTcHJpdGVEaXJ0eT10aGlzLmNhY2hlZFNwcml0ZURpcnR5O2Zvcih2YXIgcj0wO3I8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOysrcil0LmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuZ3JhcGhpY3NEYXRhW3JdLmNsb25lKCkpO3JldHVybiB0LmN1cnJlbnRQYXRoPXQuZ3JhcGhpY3NEYXRhW3QuZ3JhcGhpY3NEYXRhLmxlbmd0aC0xXSx0LnVwZGF0ZUxvY2FsQm91bmRzKCksdH0sZS5wcm90b3R5cGUubGluZVN0eWxlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxO2lmKHRoaXMubGluZVdpZHRoPXQsdGhpcy5saW5lQ29sb3I9ZSx0aGlzLmxpbmVBbHBoYT1yLHRoaXMuY3VycmVudFBhdGgpaWYodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoKXt2YXIgbj1uZXcgZy5Qb2x5Z29uKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnNsaWNlKC0yKSk7bi5jbG9zZWQ9ITEsdGhpcy5kcmF3U2hhcGUobil9ZWxzZSB0aGlzLmN1cnJlbnRQYXRoLmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aCx0aGlzLmN1cnJlbnRQYXRoLmxpbmVDb2xvcj10aGlzLmxpbmVDb2xvcix0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYT10aGlzLmxpbmVBbHBoYTtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IGcuUG9seWdvbihbdCxlXSk7cmV0dXJuIHIuY2xvc2VkPSExLHRoaXMuZHJhd1NoYXBlKHIpLHRoaXN9LGUucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHQsZSksdGhpcy5kaXJ0eSsrLHRoaXN9LGUucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5jdXJyZW50UGF0aD8wPT09dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoJiYodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM9WzAsMF0pOnRoaXMubW92ZVRvKDAsMCk7dmFyIGk9MjAsbz10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyxzPTAsYT0wOzA9PT1vLmxlbmd0aCYmdGhpcy5tb3ZlVG8oMCwwKTtmb3IodmFyIHU9b1tvLmxlbmd0aC0yXSxsPW9bby5sZW5ndGgtMV0saD0xO2g8PWk7KytoKXt2YXIgYz1oL2k7cz11Kyh0LXUpKmMsYT1sKyhlLWwpKmMsby5wdXNoKHMrKHQrKHItdCkqYy1zKSpjLGErKGUrKG4tZSkqYy1hKSpjKX1yZXR1cm4gdGhpcy5kaXJ0eSsrLHRoaXN9LGUucHJvdG90eXBlLmJlemllckN1cnZlVG89ZnVuY3Rpb24odCxlLHIsbixpLG8pe3RoaXMuY3VycmVudFBhdGg/MD09PXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCYmKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzPVswLDBdKTp0aGlzLm1vdmVUbygwLDApO3ZhciBzPXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLGE9c1tzLmxlbmd0aC0yXSx1PXNbcy5sZW5ndGgtMV07cmV0dXJuIHMubGVuZ3RoLT0yLCgwLHcuZGVmYXVsdCkoYSx1LHQsZSxyLG4saSxvLHMpLHRoaXMuZGlydHkrKyx0aGlzfSxlLnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMuY3VycmVudFBhdGg/MD09PXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCYmdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh0LGUpOnRoaXMubW92ZVRvKHQsZSk7dmFyIG89dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMscz1vW28ubGVuZ3RoLTJdLGE9b1tvLmxlbmd0aC0xXSx1PWEtZSxsPXMtdCxoPW4tZSxjPXItdCxmPU1hdGguYWJzKHUqYy1sKmgpO2lmKGY8MWUtOHx8MD09PWkpb1tvLmxlbmd0aC0yXT09PXQmJm9bby5sZW5ndGgtMV09PT1lfHxvLnB1c2godCxlKTtlbHNle3ZhciBkPXUqdStsKmwscD1oKmgrYypjLHY9dSpoK2wqYyx5PWkqTWF0aC5zcXJ0KGQpL2YsZz1pKk1hdGguc3FydChwKS9mLG09eSp2L2QsXz1nKnYvcCxiPXkqYytnKmwseD15KmgrZyp1LFQ9bCooZyttKSx3PXUqKGcrbSksRT1jKih5K18pLFM9aCooeStfKSxPPU1hdGguYXRhbjIody14LFQtYiksUD1NYXRoLmF0YW4yKFMteCxFLWIpO3RoaXMuYXJjKGIrdCx4K2UsaSxPLFAsbCpoPmMqdSl9cmV0dXJuIHRoaXMuZGlydHkrKyx0aGlzfSxlLnByb3RvdHlwZS5hcmM9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XSYmYXJndW1lbnRzWzVdO2lmKG49PT1pKXJldHVybiB0aGlzOyFvJiZpPD1uP2krPTIqTWF0aC5QSTpvJiZuPD1pJiYobis9MipNYXRoLlBJKTt2YXIgcz1pLW4sYT00MCpNYXRoLmNlaWwoTWF0aC5hYnMocykvKDIqTWF0aC5QSSkpO2lmKDA9PT1zKXJldHVybiB0aGlzO3ZhciB1PXQrTWF0aC5jb3MobikqcixsPWUrTWF0aC5zaW4obikqcixoPXRoaXMuY3VycmVudFBhdGg/dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM6bnVsbDtoP2hbaC5sZW5ndGgtMl09PT11JiZoW2gubGVuZ3RoLTFdPT09bHx8aC5wdXNoKHUsbCk6KHRoaXMubW92ZVRvKHUsbCksaD10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyk7Zm9yKHZhciBjPXMvKDIqYSksZj0yKmMsZD1NYXRoLmNvcyhjKSxwPU1hdGguc2luKGMpLHY9YS0xLHk9diUxL3YsZz0wO2c8PXY7KytnKXt2YXIgbT1nK3kqZyxfPWMrbitmKm0sYj1NYXRoLmNvcyhfKSx4PS1NYXRoLnNpbihfKTtoLnB1c2goKGQqYitwKngpKnIrdCwoZCoteCtwKmIpKnIrZSl9cmV0dXJuIHRoaXMuZGlydHkrKyx0aGlzfSxlLnByb3RvdHlwZS5iZWdpbkZpbGw9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiB0aGlzLmZpbGxpbmc9ITAsdGhpcy5maWxsQ29sb3I9dCx0aGlzLmZpbGxBbHBoYT1lLHRoaXMuY3VycmVudFBhdGgmJnRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aDw9MiYmKHRoaXMuY3VycmVudFBhdGguZmlsbD10aGlzLmZpbGxpbmcsdGhpcy5jdXJyZW50UGF0aC5maWxsQ29sb3I9dGhpcy5maWxsQ29sb3IsdGhpcy5jdXJyZW50UGF0aC5maWxsQWxwaGE9dGhpcy5maWxsQWxwaGEpLHRoaXN9LGUucHJvdG90eXBlLmVuZEZpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxsaW5nPSExLHRoaXMuZmlsbENvbG9yPW51bGwsdGhpcy5maWxsQWxwaGE9MSx0aGlzfSxlLnByb3RvdHlwZS5kcmF3UmVjdD1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IGcuUmVjdGFuZ2xlKHQsZSxyLG4pKSx0aGlzfSxlLnByb3RvdHlwZS5kcmF3Um91bmRlZFJlY3Q9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IGcuUm91bmRlZFJlY3RhbmdsZSh0LGUscixuLGkpKSx0aGlzfSxlLnByb3RvdHlwZS5kcmF3Q2lyY2xlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IGcuQ2lyY2xlKHQsZSxyKSksdGhpc30sZS5wcm90b3R5cGUuZHJhd0VsbGlwc2U9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBnLkVsbGlwc2UodCxlLHIsbikpLHRoaXN9LGUucHJvdG90eXBlLmRyYXdQb2x5Z29uPWZ1bmN0aW9uKHQpe3ZhciBlPXQscj0hMDtpZihlIGluc3RhbmNlb2YgZy5Qb2x5Z29uJiYocj1lLmNsb3NlZCxlPWUucG9pbnRzKSwhQXJyYXkuaXNBcnJheShlKSl7ZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pZVtuXT1hcmd1bWVudHNbbl19dmFyIGk9bmV3IGcuUG9seWdvbihlKTtyZXR1cm4gaS5jbG9zZWQ9cix0aGlzLmRyYXdTaGFwZShpKSx0aGlzfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybih0aGlzLmxpbmVXaWR0aHx8dGhpcy5maWxsaW5nfHx0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg+MCkmJih0aGlzLmxpbmVXaWR0aD0wLHRoaXMuZmlsbGluZz0hMSx0aGlzLmJvdW5kc0RpcnR5PS0xLHRoaXMuZGlydHkrKyx0aGlzLmNsZWFyRGlydHkrKyx0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg9MCksdGhpcy5jdXJyZW50UGF0aD1udWxsLHRoaXMuX3Nwcml0ZVJlY3Q9bnVsbCx0aGlzfSxlLnByb3RvdHlwZS5pc0Zhc3RSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgmJnRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlLnR5cGU9PT1fLlNIQVBFUy5SRUNUJiYhdGhpcy5ncmFwaGljc0RhdGFbMF0ubGluZVdpZHRofSxlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7dGhpcy5kaXJ0eSE9PXRoaXMuZmFzdFJlY3REaXJ0eSYmKHRoaXMuZmFzdFJlY3REaXJ0eT10aGlzLmRpcnR5LHRoaXMuX2Zhc3RSZWN0PXRoaXMuaXNGYXN0UmVjdCgpKSx0aGlzLl9mYXN0UmVjdD90aGlzLl9yZW5kZXJTcHJpdGVSZWN0KHQpOih0LnNldE9iamVjdFJlbmRlcmVyKHQucGx1Z2lucy5ncmFwaGljcyksdC5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKSl9LGUucHJvdG90eXBlLl9yZW5kZXJTcHJpdGVSZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlO3RoaXMuX3Nwcml0ZVJlY3R8fCh0aGlzLl9zcHJpdGVSZWN0PW5ldyB5LmRlZmF1bHQobmV3IGYuZGVmYXVsdChmLmRlZmF1bHQuV0hJVEUpKSk7dmFyIHI9dGhpcy5fc3ByaXRlUmVjdDtpZigxNjc3NzIxNT09PXRoaXMudGludClyLnRpbnQ9dGhpcy5ncmFwaGljc0RhdGFbMF0uZmlsbENvbG9yO2Vsc2V7dmFyIG49QyxpPVI7KDAsbS5oZXgycmdiKSh0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3IsbiksKDAsbS5oZXgycmdiKSh0aGlzLnRpbnQsaSksblswXSo9aVswXSxuWzFdKj1pWzFdLG5bMl0qPWlbMl0sci50aW50PSgwLG0ucmdiMmhleCkobil9ci5hbHBoYT10aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQWxwaGEsci53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSpyLmFscGhhLHIuYmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlLHIudGV4dHVyZS5fZnJhbWUud2lkdGg9ZS53aWR0aCxyLnRleHR1cmUuX2ZyYW1lLmhlaWdodD1lLmhlaWdodCxyLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybT10aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxyLmFuY2hvci5zZXQoLWUueC9lLndpZHRoLC1lLnkvZS5oZWlnaHQpLHIuX29uQW5jaG9yVXBkYXRlKCksci5fcmVuZGVyV2ViR0wodCl9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dGhpcy5pc01hc2shPT0hMCYmdC5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKX0sZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcz1mdW5jdGlvbigpe3RoaXMuYm91bmRzRGlydHkhPT10aGlzLmRpcnR5JiYodGhpcy5ib3VuZHNEaXJ0eT10aGlzLmRpcnR5LHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKSx0aGlzLmNhY2hlZFNwcml0ZURpcnR5PSEwKTt2YXIgdD10aGlzLl9sb2NhbEJvdW5kczt0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sdC5taW5YLHQubWluWSx0Lm1heFgsdC5tYXhZKX0sZS5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0KXt0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZSh0LE0pO2Zvcih2YXIgZT10aGlzLmdyYXBoaWNzRGF0YSxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBuPWVbcl07aWYobi5maWxsJiZuLnNoYXBlJiZuLnNoYXBlLmNvbnRhaW5zKE0ueCxNLnkpKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS51cGRhdGVMb2NhbEJvdW5kcz1mdW5jdGlvbigpe3ZhciB0PTEvMCxlPS0oMS8wKSxyPTEvMCxuPS0oMS8wKTtpZih0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpZm9yKHZhciBpPTAsbz0wLHM9MCxhPTAsdT0wLGw9MDtsPHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDtsKyspe3ZhciBoPXRoaXMuZ3JhcGhpY3NEYXRhW2xdLGM9aC50eXBlLGY9aC5saW5lV2lkdGg7aWYoaT1oLnNoYXBlLGM9PT1fLlNIQVBFUy5SRUNUfHxjPT09Xy5TSEFQRVMuUlJFQylvPWkueC1mLzIscz1pLnktZi8yLGE9aS53aWR0aCtmLHU9aS5oZWlnaHQrZix0PW88dD9vOnQsZT1vK2E+ZT9vK2E6ZSxyPXM8cj9zOnIsbj1zK3U+bj9zK3U6bjtlbHNlIGlmKGM9PT1fLlNIQVBFUy5DSVJDKW89aS54LHM9aS55LGE9aS5yYWRpdXMrZi8yLHU9aS5yYWRpdXMrZi8yLHQ9by1hPHQ/by1hOnQsZT1vK2E+ZT9vK2E6ZSxyPXMtdTxyP3MtdTpyLG49cyt1Pm4/cyt1Om47ZWxzZSBpZihjPT09Xy5TSEFQRVMuRUxJUClvPWkueCxzPWkueSxhPWkud2lkdGgrZi8yLHU9aS5oZWlnaHQrZi8yLHQ9by1hPHQ/by1hOnQsZT1vK2E+ZT9vK2E6ZSxyPXMtdTxyP3MtdTpyLG49cyt1Pm4/cyt1Om47ZWxzZSBmb3IodmFyIGQ9aS5wb2ludHMscD0wLHY9MCx5PTAsZz0wLG09MCxiPTAseD0wLFQ9MCx3PTA7dysyPGQubGVuZ3RoO3crPTIpbz1kW3ddLHM9ZFt3KzFdLHA9ZFt3KzJdLHY9ZFt3KzNdLHk9TWF0aC5hYnMocC1vKSxnPU1hdGguYWJzKHYtcyksdT1mLGE9TWF0aC5zcXJ0KHkqeStnKmcpLGE8MWUtOXx8KG09KHUvYSpnK3kpLzIsYj0odS9hKnkrZykvMix4PShwK28pLzIsVD0oditzKS8yLHQ9eC1tPHQ/eC1tOnQsZT14K20+ZT94K206ZSxyPVQtYjxyP1QtYjpyLG49VCtiPm4/VCtiOm4pfWVsc2UgdD0wLGU9MCxyPTAsbj0wO3ZhciBFPXRoaXMuYm91bmRzUGFkZGluZzt0aGlzLl9sb2NhbEJvdW5kcy5taW5YPXQtRSx0aGlzLl9sb2NhbEJvdW5kcy5tYXhYPWUrMipFLHRoaXMuX2xvY2FsQm91bmRzLm1pblk9ci1FLHRoaXMuX2xvY2FsQm91bmRzLm1heFk9bisyKkV9LGUucHJvdG90eXBlLmRyYXdTaGFwZT1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRQYXRoJiZ0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGg8PTImJnRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpLHRoaXMuY3VycmVudFBhdGg9bnVsbDt2YXIgZT1uZXcgcC5kZWZhdWx0KHRoaXMubGluZVdpZHRoLHRoaXMubGluZUNvbG9yLHRoaXMubGluZUFscGhhLHRoaXMuZmlsbENvbG9yLHRoaXMuZmlsbEFscGhhLHRoaXMuZmlsbGluZyx0aGlzLm5hdGl2ZUxpbmVzLHQpO3JldHVybiB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGUpLGUudHlwZT09PV8uU0hBUEVTLlBPTFkmJihlLnNoYXBlLmNsb3NlZD1lLnNoYXBlLmNsb3NlZHx8dGhpcy5maWxsaW5nLHRoaXMuY3VycmVudFBhdGg9ZSksdGhpcy5kaXJ0eSsrLGV9LGUucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MSxyPXRoaXMuZ2V0TG9jYWxCb3VuZHMoKSxuPWguZGVmYXVsdC5jcmVhdGUoci53aWR0aCxyLmhlaWdodCx0LGUpO098fChPPW5ldyBTLmRlZmF1bHQpLHRoaXMudHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCksdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weShQKSxQLmludmVydCgpLFAudHgtPXIueCxQLnR5LT1yLnksTy5yZW5kZXIodGhpcyxuLCEwLFApO3ZhciBpPWYuZGVmYXVsdC5mcm9tQ2FudmFzKG4uYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXMsdCk7cmV0dXJuIGkuYmFzZVRleHR1cmUucmVzb2x1dGlvbj1lLGkuYmFzZVRleHR1cmUudXBkYXRlKCksaX0sZS5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50UGF0aDtyZXR1cm4gdCYmdC5zaGFwZSYmdC5zaGFwZS5jbG9zZSgpLHRoaXN9LGUucHJvdG90eXBlLmFkZEhvbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aD10aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgtMV0sdGhpcy5jdXJyZW50UGF0aC5hZGRIb2xlKHQuc2hhcGUpLHRoaXMuY3VycmVudFBhdGg9bnVsbCx0aGlzfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpO2Zvcih2YXIgcj0wO3I8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOysrcil0aGlzLmdyYXBoaWNzRGF0YVtyXS5kZXN0cm95KCk7Zm9yKHZhciBuIGluIHRoaXMuX3dlYmdsKWZvcih2YXIgaT0wO2k8dGhpcy5fd2ViZ2xbbl0uZGF0YS5sZW5ndGg7KytpKXRoaXMuX3dlYmdsW25dLmRhdGFbaV0uZGVzdHJveSgpO3RoaXMuX3Nwcml0ZVJlY3QmJnRoaXMuX3Nwcml0ZVJlY3QuZGVzdHJveSgpLHRoaXMuZ3JhcGhpY3NEYXRhPW51bGwsdGhpcy5jdXJyZW50UGF0aD1udWxsLHRoaXMuX3dlYmdsPW51bGwsdGhpcy5fbG9jYWxCb3VuZHM9bnVsbH0sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9QSxBLl9TUFJJVEVfVEVYVFVSRT1udWxsfSx7XCIuLi9jb25zdFwiOjQ0LFwiLi4vZGlzcGxheS9Cb3VuZHNcIjo0NSxcIi4uL2Rpc3BsYXkvQ29udGFpbmVyXCI6NDYsXCIuLi9tYXRoXCI6NjgsXCIuLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXCI6NzUsXCIuLi9zcHJpdGVzL1Nwcml0ZVwiOjEwMCxcIi4uL3RleHR1cmVzL1JlbmRlclRleHR1cmVcIjoxMTAsXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCI6MTEyLFwiLi4vdXRpbHNcIjoxMjAsXCIuL0dyYXBoaWNzRGF0YVwiOjUyLFwiLi91dGlscy9iZXppZXJDdXJ2ZVRvXCI6NTR9XSw1MjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLGksbyxzLGEsdSxsKXtuKHRoaXMsdCksdGhpcy5saW5lV2lkdGg9ZSx0aGlzLm5hdGl2ZUxpbmVzPXUsdGhpcy5saW5lQ29sb3I9cix0aGlzLmxpbmVBbHBoYT1pLHRoaXMuX2xpbmVUaW50PXIsdGhpcy5maWxsQ29sb3I9byx0aGlzLmZpbGxBbHBoYT1zLHRoaXMuX2ZpbGxUaW50PW8sdGhpcy5maWxsPWEsdGhpcy5ob2xlcz1bXSx0aGlzLnNoYXBlPWwsdGhpcy50eXBlPWwudHlwZX1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5saW5lV2lkdGgsdGhpcy5saW5lQ29sb3IsdGhpcy5saW5lQWxwaGEsdGhpcy5maWxsQ29sb3IsdGhpcy5maWxsQWxwaGEsdGhpcy5maWxsLHRoaXMubmF0aXZlTGluZXMsdGhpcy5zaGFwZSl9LHQucHJvdG90eXBlLmFkZEhvbGU9ZnVuY3Rpb24odCl7dGhpcy5ob2xlcy5wdXNoKHQpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zaGFwZT1udWxsLHRoaXMuaG9sZXM9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9aX0se31dLDUzOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoXCIuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXCIpLHM9bihvKSxhPXQoXCIuLi8uLi9jb25zdFwiKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKHRoaXMsdCksdGhpcy5yZW5kZXJlcj1lfXJldHVybiB0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPWUuY29udGV4dCxuPXQud29ybGRBbHBoYSxpPXQudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLG89ZS5yZXNvbHV0aW9uO3RoaXMuX3ByZXZUaW50IT09dGhpcy50aW50JiYodGhpcy5kaXJ0eT0hMCksci5zZXRUcmFuc2Zvcm0oaS5hKm8saS5iKm8saS5jKm8saS5kKm8saS50eCpvLGkudHkqbyksdC5kaXJ0eSYmKHRoaXMudXBkYXRlR3JhcGhpY3NUaW50KHQpLHQuZGlydHk9ITEpLGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKTtmb3IodmFyIHM9MDtzPHQuZ3JhcGhpY3NEYXRhLmxlbmd0aDtzKyspe3ZhciB1PXQuZ3JhcGhpY3NEYXRhW3NdLGw9dS5zaGFwZSxoPXUuX2ZpbGxUaW50LGM9dS5fbGluZVRpbnQ7aWYoci5saW5lV2lkdGg9dS5saW5lV2lkdGgsdS50eXBlPT09YS5TSEFQRVMuUE9MWSl7ci5iZWdpblBhdGgoKSx0aGlzLnJlbmRlclBvbHlnb24obC5wb2ludHMsbC5jbG9zZWQscik7Zm9yKHZhciBmPTA7Zjx1LmhvbGVzLmxlbmd0aDtmKyspdGhpcy5yZW5kZXJQb2x5Z29uKHUuaG9sZXNbZl0ucG9pbnRzLCEwLHIpO3UuZmlsbCYmKHIuZ2xvYmFsQWxwaGE9dS5maWxsQWxwaGEqbixyLmZpbGxTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGgpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxyLmZpbGwoKSksdS5saW5lV2lkdGgmJihyLmdsb2JhbEFscGhhPXUubGluZUFscGhhKm4sci5zdHJva2VTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGMpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxyLnN0cm9rZSgpKX1lbHNlIGlmKHUudHlwZT09PWEuU0hBUEVTLlJFQ1QpKHUuZmlsbENvbG9yfHwwPT09dS5maWxsQ29sb3IpJiYoci5nbG9iYWxBbHBoYT11LmZpbGxBbHBoYSpuLHIuZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8aCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLHIuZmlsbFJlY3QobC54LGwueSxsLndpZHRoLGwuaGVpZ2h0KSksdS5saW5lV2lkdGgmJihyLmdsb2JhbEFscGhhPXUubGluZUFscGhhKm4sci5zdHJva2VTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGMpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxyLnN0cm9rZVJlY3QobC54LGwueSxsLndpZHRoLGwuaGVpZ2h0KSk7ZWxzZSBpZih1LnR5cGU9PT1hLlNIQVBFUy5DSVJDKXIuYmVnaW5QYXRoKCksci5hcmMobC54LGwueSxsLnJhZGl1cywwLDIqTWF0aC5QSSksci5jbG9zZVBhdGgoKSx1LmZpbGwmJihyLmdsb2JhbEFscGhhPXUuZmlsbEFscGhhKm4sci5maWxsU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxoKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5maWxsKCkpLHUubGluZVdpZHRoJiYoci5nbG9iYWxBbHBoYT11LmxpbmVBbHBoYSpuLHIuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxjKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5zdHJva2UoKSk7ZWxzZSBpZih1LnR5cGU9PT1hLlNIQVBFUy5FTElQKXt2YXIgZD0yKmwud2lkdGgscD0yKmwuaGVpZ2h0LHY9bC54LWQvMix5PWwueS1wLzI7ci5iZWdpblBhdGgoKTt2YXIgZz0uNTUyMjg0OCxtPWQvMipnLF89cC8yKmcsYj12K2QseD15K3AsVD12K2QvMix3PXkrcC8yO3IubW92ZVRvKHYsdyksci5iZXppZXJDdXJ2ZVRvKHYsdy1fLFQtbSx5LFQseSksci5iZXppZXJDdXJ2ZVRvKFQrbSx5LGIsdy1fLGIsdyksci5iZXppZXJDdXJ2ZVRvKGIsdytfLFQrbSx4LFQseCksci5iZXppZXJDdXJ2ZVRvKFQtbSx4LHYsdytfLHYsdyksci5jbG9zZVBhdGgoKSx1LmZpbGwmJihyLmdsb2JhbEFscGhhPXUuZmlsbEFscGhhKm4sci5maWxsU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxoKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5maWxsKCkpLHUubGluZVdpZHRoJiYoci5nbG9iYWxBbHBoYT11LmxpbmVBbHBoYSpuLHIuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxjKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5zdHJva2UoKSl9ZWxzZSBpZih1LnR5cGU9PT1hLlNIQVBFUy5SUkVDKXt2YXIgRT1sLngsUz1sLnksTz1sLndpZHRoLFA9bC5oZWlnaHQsTT1sLnJhZGl1cyxDPU1hdGgubWluKE8sUCkvMnwwO009TT5DP0M6TSxyLmJlZ2luUGF0aCgpLHIubW92ZVRvKEUsUytNKSxyLmxpbmVUbyhFLFMrUC1NKSxyLnF1YWRyYXRpY0N1cnZlVG8oRSxTK1AsRStNLFMrUCksci5saW5lVG8oRStPLU0sUytQKSxyLnF1YWRyYXRpY0N1cnZlVG8oRStPLFMrUCxFK08sUytQLU0pLHIubGluZVRvKEUrTyxTK00pLHIucXVhZHJhdGljQ3VydmVUbyhFK08sUyxFK08tTSxTKSxyLmxpbmVUbyhFK00sUyksci5xdWFkcmF0aWNDdXJ2ZVRvKEUsUyxFLFMrTSksci5jbG9zZVBhdGgoKSwodS5maWxsQ29sb3J8fDA9PT11LmZpbGxDb2xvcikmJihyLmdsb2JhbEFscGhhPXUuZmlsbEFscGhhKm4sci5maWxsU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxoKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5maWxsKCkpLHUubGluZVdpZHRoJiYoci5nbG9iYWxBbHBoYT11LmxpbmVBbHBoYSpuLHIuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxjKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksci5zdHJva2UoKSl9fX0sdC5wcm90b3R5cGUudXBkYXRlR3JhcGhpY3NUaW50PWZ1bmN0aW9uKHQpe3QuX3ByZXZUaW50PXQudGludDtmb3IodmFyIGU9KHQudGludD4+MTYmMjU1KS8yNTUscj0odC50aW50Pj44JjI1NSkvMjU1LG49KDI1NSZ0LnRpbnQpLzI1NSxpPTA7aTx0LmdyYXBoaWNzRGF0YS5sZW5ndGg7KytpKXt2YXIgbz10LmdyYXBoaWNzRGF0YVtpXSxzPTB8by5maWxsQ29sb3IsYT0wfG8ubGluZUNvbG9yO28uX2ZpbGxUaW50PSgocz4+MTYmMjU1KS8yNTUqZSoyNTU8PDE2KSsoKHM+PjgmMjU1KS8yNTUqcioyNTU8PDgpKygyNTUmcykvMjU1Km4qMjU1LG8uX2xpbmVUaW50PSgoYT4+MTYmMjU1KS8yNTUqZSoyNTU8PDE2KSsoKGE+PjgmMjU1KS8yNTUqcioyNTU8PDgpKygyNTUmYSkvMjU1Km4qMjU1fX0sdC5wcm90b3R5cGUucmVuZGVyUG9seWdvbj1mdW5jdGlvbih0LGUscil7ci5tb3ZlVG8odFswXSx0WzFdKTtmb3IodmFyIG49MTtuPHQubGVuZ3RoLzI7KytuKXIubGluZVRvKHRbMipuXSx0WzIqbisxXSk7ZSYmci5jbG9zZVBhdGgoKX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXI9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9dSxzLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oXCJncmFwaGljc1wiLHUpfSx7XCIuLi8uLi9jb25zdFwiOjQ0LFwiLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclwiOjc1fV0sNTQ6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxyLG4saSxvLHMsYSl7dmFyIHU9YXJndW1lbnRzLmxlbmd0aD44JiZ2b2lkIDAhPT1hcmd1bWVudHNbOF0/YXJndW1lbnRzWzhdOltdLGw9MjAsaD0wLGM9MCxmPTAsZD0wLHA9MDt1LnB1c2godCxlKTtmb3IodmFyIHY9MSx5PTA7djw9bDsrK3YpeT12L2wsaD0xLXksYz1oKmgsZj1jKmgsZD15KnkscD1kKnksdS5wdXNoKGYqdCszKmMqeSpyKzMqaCpkKmkrcCpzLGYqZSszKmMqeSpuKzMqaCpkKm8rcCphKTtyZXR1cm4gdX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW59LHt9XSw1NTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi8uLi91dGlsc1wiKSx1PXQoXCIuLi8uLi9jb25zdFwiKSxsPXQoXCIuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXJcIiksaD1uKGwpLGM9dChcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyXCIpLGY9bihjKSxkPXQoXCIuL1dlYkdMR3JhcGhpY3NEYXRhXCIpLHA9bihkKSx2PXQoXCIuL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyXCIpLHk9bih2KSxnPXQoXCIuL3V0aWxzL2J1aWxkUG9seVwiKSxtPW4oZyksXz10KFwiLi91dGlscy9idWlsZFJlY3RhbmdsZVwiKSxiPW4oXykseD10KFwiLi91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGVcIiksVD1uKHgpLHc9dChcIi4vdXRpbHMvYnVpbGRDaXJjbGVcIiksRT1uKHcpLFM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpKHRoaXMsZSk7dmFyIG49byh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gbi5ncmFwaGljc0RhdGFQb29sPVtdLG4ucHJpbWl0aXZlU2hhZGVyPW51bGwsbi5nbD1yLmdsLG4uQ09OVEVYVF9VSUQ9MCxufXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5nbD10aGlzLnJlbmRlcmVyLmdsLHRoaXMuQ09OVEVYVF9VSUQ9dGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCx0aGlzLnByaW1pdGl2ZVNoYWRlcj1uZXcgeS5kZWZhdWx0KHRoaXMuZ2wpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aC5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7Zm9yKHZhciB0PTA7dDx0aGlzLmdyYXBoaWNzRGF0YVBvb2wubGVuZ3RoOysrdCl0aGlzLmdyYXBoaWNzRGF0YVBvb2xbdF0uZGVzdHJveSgpO3RoaXMuZ3JhcGhpY3NEYXRhUG9vbD1udWxsfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPWUuZ2wsbj12b2lkIDAsaT10Ll93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtpJiZ0LmRpcnR5PT09aS5kaXJ0eXx8KHRoaXMudXBkYXRlR3JhcGhpY3ModCksaT10Ll93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXSk7dmFyIG89dGhpcy5wcmltaXRpdmVTaGFkZXI7ZS5iaW5kU2hhZGVyKG8pLGUuc3RhdGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKTtmb3IodmFyIHM9MCx1PWkuZGF0YS5sZW5ndGg7czx1O3MrKyl7bj1pLmRhdGFbc107dmFyIGw9bi5zaGFkZXI7ZS5iaW5kU2hhZGVyKGwpLGwudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXg9dC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSghMCksbC51bmlmb3Jtcy50aW50PSgwLGEuaGV4MnJnYikodC50aW50KSxsLnVuaWZvcm1zLmFscGhhPXQud29ybGRBbHBoYSxlLmJpbmRWYW8obi52YW8pLHQubmF0aXZlTGluZXM/ci5kcmF3QXJyYXlzKHIuTElORVMsMCxuLnBvaW50cy5sZW5ndGgvNik6bi52YW8uZHJhdyhyLlRSSUFOR0xFX1NUUklQLG4uaW5kaWNlcy5sZW5ndGgpfX0sZS5wcm90b3R5cGUudXBkYXRlR3JhcGhpY3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlci5nbCxyPXQuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO2lmKHJ8fChyPXQuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdPXtsYXN0SW5kZXg6MCxkYXRhOltdLGdsOmUsY2xlYXJEaXJ0eTotMSxkaXJ0eTotMX0pLHIuZGlydHk9dC5kaXJ0eSx0LmNsZWFyRGlydHkhPT1yLmNsZWFyRGlydHkpe3IuY2xlYXJEaXJ0eT10LmNsZWFyRGlydHk7Zm9yKHZhciBuPTA7bjxyLmRhdGEubGVuZ3RoO24rKyl0aGlzLmdyYXBoaWNzRGF0YVBvb2wucHVzaChyLmRhdGFbbl0pO3IuZGF0YS5sZW5ndGg9MCxyLmxhc3RJbmRleD0wfWZvcih2YXIgaT12b2lkIDAsbz1yLmxhc3RJbmRleDtvPHQuZ3JhcGhpY3NEYXRhLmxlbmd0aDtvKyspe3ZhciBzPXQuZ3JhcGhpY3NEYXRhW29dO2k9dGhpcy5nZXRXZWJHTERhdGEociwwKSxzLnR5cGU9PT11LlNIQVBFUy5QT0xZJiYoMCxtLmRlZmF1bHQpKHMsaSkscy50eXBlPT09dS5TSEFQRVMuUkVDVD8oMCxiLmRlZmF1bHQpKHMsaSk6cy50eXBlPT09dS5TSEFQRVMuQ0lSQ3x8cy50eXBlPT09dS5TSEFQRVMuRUxJUD8oMCxFLmRlZmF1bHQpKHMsaSk6cy50eXBlPT09dS5TSEFQRVMuUlJFQyYmKDAsVC5kZWZhdWx0KShzLGkpLHIubGFzdEluZGV4Kyt9dGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO2Zvcih2YXIgYT0wO2E8ci5kYXRhLmxlbmd0aDthKyspaT1yLmRhdGFbYV0saS5kaXJ0eSYmaS51cGxvYWQoKX0sZS5wcm90b3R5cGUuZ2V0V2ViR0xEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5kYXRhW3QuZGF0YS5sZW5ndGgtMV07cmV0dXJuKCFyfHxyLnBvaW50cy5sZW5ndGg+MzJlNCkmJihyPXRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5wb3AoKXx8bmV3IHAuZGVmYXVsdCh0aGlzLnJlbmRlcmVyLmdsLHRoaXMucHJpbWl0aXZlU2hhZGVyLHRoaXMucmVuZGVyZXIuc3RhdGUuYXR0cmlic1N0YXRlKSxyLnJlc2V0KGUpLHQuZGF0YS5wdXNoKHIpKSxyLmRpcnR5PSEwLHJ9LGV9KGguZGVmYXVsdCk7ci5kZWZhdWx0PVMsZi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKFwiZ3JhcGhpY3NcIixTKX0se1wiLi4vLi4vY29uc3RcIjo0NCxcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyXCI6ODIsXCIuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXJcIjo5MixcIi4uLy4uL3V0aWxzXCI6MTIwLFwiLi9XZWJHTEdyYXBoaWNzRGF0YVwiOjU2LFwiLi9zaGFkZXJzL1ByaW1pdGl2ZVNoYWRlclwiOjU3LFwiLi91dGlscy9idWlsZENpcmNsZVwiOjU4LFwiLi91dGlscy9idWlsZFBvbHlcIjo2MCxcIi4vdXRpbHMvYnVpbGRSZWN0YW5nbGVcIjo2MSxcIi4vdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlXCI6NjJ9XSw1NjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwicGl4aS1nbC1jb3JlXCIpLHM9bihvKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsbil7aSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmNvbG9yPVswLDAsMF0sdGhpcy5wb2ludHM9W10sdGhpcy5pbmRpY2VzPVtdLHRoaXMuYnVmZmVyPXMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZSksdGhpcy5pbmRleEJ1ZmZlcj1zLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZSksdGhpcy5kaXJ0eT0hMCx0aGlzLmdsUG9pbnRzPW51bGwsdGhpcy5nbEluZGljZXM9bnVsbCx0aGlzLnNoYWRlcj1yLHRoaXMudmFvPW5ldyBzLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZSxuKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbixlLkZMT0FULCExLDI0LDApLmFkZEF0dHJpYnV0ZSh0aGlzLmJ1ZmZlcixyLmF0dHJpYnV0ZXMuYUNvbG9yLGUuRkxPQVQsITEsMjQsOCl9cmV0dXJuIHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5wb2ludHMubGVuZ3RoPTAsdGhpcy5pbmRpY2VzLmxlbmd0aD0wfSx0LnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24oKXt0aGlzLmdsUG9pbnRzPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5wb2ludHMpLHRoaXMuYnVmZmVyLnVwbG9hZCh0aGlzLmdsUG9pbnRzKSx0aGlzLmdsSW5kaWNlcz1uZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKSx0aGlzLmluZGV4QnVmZmVyLnVwbG9hZCh0aGlzLmdsSW5kaWNlcyksdGhpcy5kaXJ0eT0hMX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY29sb3I9bnVsbCx0aGlzLnBvaW50cz1udWxsLHRoaXMuaW5kaWNlcz1udWxsLHRoaXMudmFvLmRlc3Ryb3koKSx0aGlzLmJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5nbD1udWxsLHRoaXMuYnVmZmVyPW51bGwsdGhpcy5pbmRleEJ1ZmZlcj1udWxsLHRoaXMuZ2xQb2ludHM9bnVsbCx0aGlzLmdsSW5kaWNlcz1udWxsfSx0fSgpO3IuZGVmYXVsdD1hfSx7XCJwaXhpLWdsLWNvcmVcIjoxMn1dLDU3OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcIi4uLy4uLy4uL1NoYWRlclwiKSx1PW4oYSksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3JldHVybiBpKHRoaXMsZSksbyh0aGlzLHQuY2FsbCh0aGlzLHIsW1wiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzQgYUNvbG9yO1wiLFwidW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1wiLFwidW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XCIsXCJ1bmlmb3JtIGZsb2F0IGFscGhhO1wiLFwidW5pZm9ybSB2ZWMzIHRpbnQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpe1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcIixcIiAgIHZDb2xvciA9IGFDb2xvciAqIHZlYzQodGludCAqIGFscGhhLCBhbHBoYSk7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksW1widmFyeWluZyB2ZWM0IHZDb2xvcjtcIixcInZvaWQgbWFpbih2b2lkKXtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcIixcIn1cIl0uam9pbihcIlxcblwiKSkpfXJldHVybiBzKGUsdCksZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9bH0se1wiLi4vLi4vLi4vU2hhZGVyXCI6NDJ9XSw1ODpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXt2YXIgcj10LnNoYXBlLG49ci54LGk9ci55LG89dm9pZCAwLGw9dm9pZCAwO2lmKHQudHlwZT09PWEuU0hBUEVTLkNJUkM/KG89ci5yYWRpdXMsbD1yLnJhZGl1cyk6KG89ci53aWR0aCxsPXIuaGVpZ2h0KSwwIT09byYmMCE9PWwpe3ZhciBoPU1hdGguZmxvb3IoMzAqTWF0aC5zcXJ0KHIucmFkaXVzKSl8fE1hdGguZmxvb3IoMTUqTWF0aC5zcXJ0KHIud2lkdGgrci5oZWlnaHQpKSxjPTIqTWF0aC5QSS9oO2lmKHQuZmlsbCl7dmFyIGY9KDAsdS5oZXgycmdiKSh0LmZpbGxDb2xvciksZD10LmZpbGxBbHBoYSxwPWZbMF0qZCx2PWZbMV0qZCx5PWZbMl0qZCxnPWUucG9pbnRzLG09ZS5pbmRpY2VzLF89Zy5sZW5ndGgvNjttLnB1c2goXyk7Zm9yKHZhciBiPTA7YjxoKzE7YisrKWcucHVzaChuLGkscCx2LHksZCksZy5wdXNoKG4rTWF0aC5zaW4oYypiKSpvLGkrTWF0aC5jb3MoYypiKSpsLHAsdix5LGQpLG0ucHVzaChfKyssXysrKTttLnB1c2goXy0xKX1pZih0LmxpbmVXaWR0aCl7dmFyIHg9dC5wb2ludHM7dC5wb2ludHM9W107Zm9yKHZhciBUPTA7VDxoKzE7VCsrKXQucG9pbnRzLnB1c2gobitNYXRoLnNpbihjKlQpKm8saStNYXRoLmNvcyhjKlQpKmwpOygwLHMuZGVmYXVsdCkodCxlKSx0LnBvaW50cz14fX19ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1pO3ZhciBvPXQoXCIuL2J1aWxkTGluZVwiKSxzPW4obyksYT10KFwiLi4vLi4vLi4vY29uc3RcIiksdT10KFwiLi4vLi4vLi4vdXRpbHNcIil9LHtcIi4uLy4uLy4uL2NvbnN0XCI6NDQsXCIuLi8uLi8uLi91dGlsc1wiOjEyMCxcIi4vYnVpbGRMaW5lXCI6NTl9XSw1OTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXt2YXIgcj10LnBvaW50cztpZigwIT09ci5sZW5ndGgpe3ZhciBuPW5ldyBvLlBvaW50KHJbMF0sclsxXSksaT1uZXcgby5Qb2ludChyW3IubGVuZ3RoLTJdLHJbci5sZW5ndGgtMV0pO2lmKG4ueD09PWkueCYmbi55PT09aS55KXtyPXIuc2xpY2UoKSxyLnBvcCgpLHIucG9wKCksaT1uZXcgby5Qb2ludChyW3IubGVuZ3RoLTJdLHJbci5sZW5ndGgtMV0pO3ZhciBhPWkueCsuNSoobi54LWkueCksdT1pLnkrLjUqKG4ueS1pLnkpO3IudW5zaGlmdChhLHUpLHIucHVzaChhLHUpfXZhciBsPWUucG9pbnRzLGg9ZS5pbmRpY2VzLGM9ci5sZW5ndGgvMixmPXIubGVuZ3RoLGQ9bC5sZW5ndGgvNixwPXQubGluZVdpZHRoLzIsdj0oMCxzLmhleDJyZ2IpKHQubGluZUNvbG9yKSx5PXQubGluZUFscGhhLGc9dlswXSp5LG09dlsxXSp5LF89dlsyXSp5LGI9clswXSx4PXJbMV0sVD1yWzJdLHc9clszXSxFPTAsUz0wLE89LSh4LXcpLFA9Yi1ULE09MCxDPTAsUj0wLEE9MCxJPU1hdGguc3FydChPKk8rUCpQKTtPLz1JLFAvPUksTyo9cCxQKj1wLGwucHVzaChiLU8seC1QLGcsbSxfLHkpLGwucHVzaChiK08seCtQLGcsbSxfLHkpO2Zvcih2YXIgRD0xO0Q8Yy0xOysrRCl7Yj1yWzIqKEQtMSldLHg9clsyKihELTEpKzFdLFQ9clsyKkRdLHc9clsyKkQrMV0sRT1yWzIqKEQrMSldLFM9clsyKihEKzEpKzFdLE89LSh4LXcpLFA9Yi1ULEk9TWF0aC5zcXJ0KE8qTytQKlApLE8vPUksUC89SSxPKj1wLFAqPXAsTT0tKHctUyksQz1ULUUsST1NYXRoLnNxcnQoTSpNK0MqQyksTS89SSxDLz1JLE0qPXAsQyo9cDt2YXIgTD0tUCt4LSgtUCt3KSxOPS1PK1QtKC1PK2IpLEY9KC1PK2IpKigtUCt3KS0oLU8rVCkqKC1QK3gpLGo9LUMrUy0oLUMrdyksQj0tTStULSgtTStFKSxrPSgtTStFKSooLUMrdyktKC1NK1QpKigtQytTKSxVPUwqQi1qKk47aWYoTWF0aC5hYnMoVSk8LjEpVSs9MTAuMSxsLnB1c2goVC1PLHctUCxnLG0sXyx5KSxsLnB1c2goVCtPLHcrUCxnLG0sXyx5KTtlbHNle3ZhciBYPShOKmstQipGKS9VLEc9KGoqRi1MKmspL1UsVz0oWC1UKSooWC1UKSsoRy13KSooRy13KTtXPjE5NipwKnA/KFI9Ty1NLEE9UC1DLEk9TWF0aC5zcXJ0KFIqUitBKkEpLFIvPUksQS89SSxSKj1wLEEqPXAsbC5wdXNoKFQtUix3LUEpLGwucHVzaChnLG0sXyx5KSxsLnB1c2goVCtSLHcrQSksbC5wdXNoKGcsbSxfLHkpLGwucHVzaChULVIsdy1BKSxsLnB1c2goZyxtLF8seSksZisrKToobC5wdXNoKFgsRyksbC5wdXNoKGcsbSxfLHkpLGwucHVzaChULShYLVQpLHctKEctdykpLGwucHVzaChnLG0sXyx5KSl9fWI9clsyKihjLTIpXSx4PXJbMiooYy0yKSsxXSxUPXJbMiooYy0xKV0sdz1yWzIqKGMtMSkrMV0sTz0tKHgtdyksUD1iLVQsST1NYXRoLnNxcnQoTypPK1AqUCksTy89SSxQLz1JLE8qPXAsUCo9cCxsLnB1c2goVC1PLHctUCksbC5wdXNoKGcsbSxfLHkpLGwucHVzaChUK08sdytQKSxsLnB1c2goZyxtLF8seSksaC5wdXNoKGQpO2Zvcih2YXIgSD0wO0g8ZjsrK0gpaC5wdXNoKGQrKyk7aC5wdXNoKGQtMSl9fWZ1bmN0aW9uIGkodCxlKXt2YXIgcj0wLG49dC5wb2ludHM7aWYoMCE9PW4ubGVuZ3RoKXt2YXIgaT1lLnBvaW50cyxvPW4ubGVuZ3RoLzIsYT0oMCxzLmhleDJyZ2IpKHQubGluZUNvbG9yKSx1PXQubGluZUFscGhhLGw9YVswXSp1LGg9YVsxXSp1LGM9YVsyXSp1O2ZvcihyPTE7cjxvO3IrKyl7dmFyIGY9blsyKihyLTEpXSxkPW5bMiooci0xKSsxXSxwPW5bMipyXSx2PW5bMipyKzFdO2kucHVzaChmLGQpLGkucHVzaChsLGgsYyx1KSxpLnB1c2gocCx2KSxpLnB1c2gobCxoLGMsdSl9fX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWZ1bmN0aW9uKHQsZSl7dC5uYXRpdmVMaW5lcz9pKHQsZSk6bih0LGUpfTt2YXIgbz10KFwiLi4vLi4vLi4vbWF0aFwiKSxzPXQoXCIuLi8uLi8uLi91dGlsc1wiKX0se1wiLi4vLi4vLi4vbWF0aFwiOjY4LFwiLi4vLi4vLi4vdXRpbHNcIjoxMjB9XSw2MDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXt0LnBvaW50cz10LnNoYXBlLnBvaW50cy5zbGljZSgpO3ZhciByPXQucG9pbnRzO2lmKHQuZmlsbCYmci5sZW5ndGg+PTYpe2Zvcih2YXIgbj1bXSxpPXQuaG9sZXMsbz0wO288aS5sZW5ndGg7bysrKXt2YXIgdT1pW29dO24ucHVzaChyLmxlbmd0aC8yKSxyPXIuY29uY2F0KHUucG9pbnRzKX12YXIgaD1lLnBvaW50cyxjPWUuaW5kaWNlcyxmPXIubGVuZ3RoLzIsZD0oMCxhLmhleDJyZ2IpKHQuZmlsbENvbG9yKSxwPXQuZmlsbEFscGhhLHY9ZFswXSpwLHk9ZFsxXSpwLGc9ZFsyXSpwLG09KDAsbC5kZWZhdWx0KShyLG4sMik7aWYoIW0pcmV0dXJuO2Zvcih2YXIgXz1oLmxlbmd0aC82LGI9MDtiPG0ubGVuZ3RoO2IrPTMpYy5wdXNoKG1bYl0rXyksYy5wdXNoKG1bYl0rXyksYy5wdXNoKG1bYisxXStfKSxjLnB1c2gobVtiKzJdK18pLGMucHVzaChtW2IrMl0rXyk7Zm9yKHZhciB4PTA7eDxmO3grKyloLnB1c2goclsyKnhdLHJbMip4KzFdLHYseSxnLHApfXQubGluZVdpZHRoPjAmJigwLHMuZGVmYXVsdCkodCxlKX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWk7dmFyIG89dChcIi4vYnVpbGRMaW5lXCIpLHM9bihvKSxhPXQoXCIuLi8uLi8uLi91dGlsc1wiKSx1PXQoXCJlYXJjdXRcIiksbD1uKHUpfSx7XCIuLi8uLi8uLi91dGlsc1wiOjEyMCxcIi4vYnVpbGRMaW5lXCI6NTksZWFyY3V0OjJ9XSw2MTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXt2YXIgcj10LnNoYXBlLG49ci54LGk9ci55LG89ci53aWR0aCx1PXIuaGVpZ2h0O2lmKHQuZmlsbCl7dmFyIGw9KDAsYS5oZXgycmdiKSh0LmZpbGxDb2xvciksaD10LmZpbGxBbHBoYSxjPWxbMF0qaCxmPWxbMV0qaCxkPWxbMl0qaCxwPWUucG9pbnRzLHY9ZS5pbmRpY2VzLHk9cC5sZW5ndGgvNjtwLnB1c2gobixpKSxwLnB1c2goYyxmLGQsaCkscC5wdXNoKG4rbyxpKSxwLnB1c2goYyxmLGQsaCkscC5wdXNoKG4saSt1KSxwLnB1c2goYyxmLGQsaCkscC5wdXNoKG4rbyxpK3UpLHAucHVzaChjLGYsZCxoKSx2LnB1c2goeSx5LHkrMSx5KzIseSszLHkrMyl9aWYodC5saW5lV2lkdGgpe3ZhciBnPXQucG9pbnRzO3QucG9pbnRzPVtuLGksbitvLGksbitvLGkrdSxuLGkrdSxuLGldLCgwLHMuZGVmYXVsdCkodCxlKSx0LnBvaW50cz1nfX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWk7dmFyIG89dChcIi4vYnVpbGRMaW5lXCIpLHM9bihvKSxhPXQoXCIuLi8uLi8uLi91dGlsc1wiKX0se1wiLi4vLi4vLi4vdXRpbHNcIjoxMjAsXCIuL2J1aWxkTGluZVwiOjU5fV0sNjI6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7dmFyIHI9dC5zaGFwZSxuPXIueCxpPXIueSxvPXIud2lkdGgsYT1yLmhlaWdodCxsPXIucmFkaXVzLGY9W107aWYoZi5wdXNoKG4saStsKSxzKG4saSthLWwsbixpK2EsbitsLGkrYSxmKSxzKG4rby1sLGkrYSxuK28saSthLG4rbyxpK2EtbCxmKSxzKG4rbyxpK2wsbitvLGksbitvLWwsaSxmKSxzKG4rbCxpLG4saSxuLGkrbCsxZS0xMCxmKSx0LmZpbGwpe2Zvcih2YXIgZD0oMCxjLmhleDJyZ2IpKHQuZmlsbENvbG9yKSxwPXQuZmlsbEFscGhhLHY9ZFswXSpwLHk9ZFsxXSpwLGc9ZFsyXSpwLG09ZS5wb2ludHMsXz1lLmluZGljZXMsYj1tLmxlbmd0aC82LHg9KDAsdS5kZWZhdWx0KShmLG51bGwsMiksVD0wLHc9eC5sZW5ndGg7VDx3O1QrPTMpXy5wdXNoKHhbVF0rYiksXy5wdXNoKHhbVF0rYiksXy5wdXNoKHhbVCsxXStiKSxfLnB1c2goeFtUKzJdK2IpLF8ucHVzaCh4W1QrMl0rYik7Zm9yKHZhciBFPTAsUz1mLmxlbmd0aDtFPFM7RSsrKW0ucHVzaChmW0VdLGZbKytFXSx2LHksZyxwKX1pZih0LmxpbmVXaWR0aCl7dmFyIE89dC5wb2ludHM7dC5wb2ludHM9ZiwoMCxoLmRlZmF1bHQpKHQsZSksdC5wb2ludHM9T319ZnVuY3Rpb24gbyh0LGUscil7dmFyIG49ZS10O3JldHVybiB0K24qcn1mdW5jdGlvbiBzKHQsZSxyLG4saSxzKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aD42JiZ2b2lkIDAhPT1hcmd1bWVudHNbNl0/YXJndW1lbnRzWzZdOltdLHU9MjAsbD1hLGg9MCxjPTAsZj0wLGQ9MCxwPTAsdj0wLHk9MCxnPTA7eTw9dTsrK3kpZz15L3UsaD1vKHQscixnKSxjPW8oZSxuLGcpLGY9byhyLGksZyksZD1vKG4scyxnKSxwPW8oaCxmLGcpLHY9byhjLGQsZyksbC5wdXNoKHAsdik7cmV0dXJuIGx9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1pO3ZhciBhPXQoXCJlYXJjdXRcIiksdT1uKGEpLGw9dChcIi4vYnVpbGRMaW5lXCIpLGg9bihsKSxjPXQoXCIuLi8uLi8uLi91dGlsc1wiKX0se1wiLi4vLi4vLi4vdXRpbHNcIjoxMjAsXCIuL2J1aWxkTGluZVwiOjU5LGVhcmN1dDoyfV0sNjM6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITAsci5hdXRvRGV0ZWN0UmVuZGVyZXI9ci5BcHBsaWNhdGlvbj1yLkZpbHRlcj1yLlNwcml0ZU1hc2tGaWx0ZXI9ci5RdWFkPXIuUmVuZGVyVGFyZ2V0PXIuT2JqZWN0UmVuZGVyZXI9ci5XZWJHTE1hbmFnZXI9ci5TaGFkZXI9ci5DYW52YXNSZW5kZXJUYXJnZXQ9ci5UZXh0dXJlVXZzPXIuVmlkZW9CYXNlVGV4dHVyZT1yLkJhc2VSZW5kZXJUZXh0dXJlPXIuUmVuZGVyVGV4dHVyZT1yLkJhc2VUZXh0dXJlPXIuVGV4dHVyZT1yLlNwcml0ZXNoZWV0PXIuQ2FudmFzR3JhcGhpY3NSZW5kZXJlcj1yLkdyYXBoaWNzUmVuZGVyZXI9ci5HcmFwaGljc0RhdGE9ci5HcmFwaGljcz1yLlRleHRTdHlsZT1yLlRleHQ9ci5TcHJpdGVSZW5kZXJlcj1yLkNhbnZhc1RpbnRlcj1yLkNhbnZhc1Nwcml0ZVJlbmRlcmVyPXIuU3ByaXRlPXIuVHJhbnNmb3JtQmFzZT1yLlRyYW5zZm9ybVN0YXRpYz1yLlRyYW5zZm9ybT1yLkNvbnRhaW5lcj1yLkRpc3BsYXlPYmplY3Q9ci5Cb3VuZHM9ci5nbENvcmU9ci5XZWJHTFJlbmRlcmVyPXIuQ2FudmFzUmVuZGVyZXI9ci50aWNrZXI9ci51dGlscz1yLnNldHRpbmdzPXZvaWQgMDt2YXIgbz10KFwiLi9jb25zdFwiKTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiZPYmplY3QuZGVmaW5lUHJvcGVydHkocix0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvW3RdfX0pfSk7dmFyIHM9dChcIi4vbWF0aFwiKTtPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiZPYmplY3QuZGVmaW5lUHJvcGVydHkocix0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzW3RdfX0pfSk7dmFyIGE9dChcInBpeGktZ2wtY29yZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImdsQ29yZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcIi4vZGlzcGxheS9Cb3VuZHNcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJCb3VuZHNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSh1KS5kZWZhdWx0fX0pO3ZhciBsPXQoXCIuL2Rpc3BsYXkvRGlzcGxheU9iamVjdFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkRpc3BsYXlPYmplY3RcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShsKS5kZWZhdWx0fX0pO3ZhciBoPXQoXCIuL2Rpc3BsYXkvQ29udGFpbmVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiQ29udGFpbmVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoaCkuZGVmYXVsdH19KTt2YXIgYz10KFwiLi9kaXNwbGF5L1RyYW5zZm9ybVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlRyYW5zZm9ybVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGMpLmRlZmF1bHR9fSk7dmFyIGY9dChcIi4vZGlzcGxheS9UcmFuc2Zvcm1TdGF0aWNcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJUcmFuc2Zvcm1TdGF0aWNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShmKS5kZWZhdWx0fX0pO3ZhciBkPXQoXCIuL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlRyYW5zZm9ybUJhc2VcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShkKS5kZWZhdWx0fX0pO3ZhciBwPXQoXCIuL3Nwcml0ZXMvU3ByaXRlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiU3ByaXRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkocCkuZGVmYXVsdH19KTt2YXIgdj10KFwiLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNTcHJpdGVSZW5kZXJlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkNhbnZhc1Nwcml0ZVJlbmRlcmVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodikuZGVmYXVsdH19KTt2YXIgeT10KFwiLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJDYW52YXNUaW50ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSh5KS5kZWZhdWx0fX0pO3ZhciBnPXQoXCIuL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJTcHJpdGVSZW5kZXJlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGcpLmRlZmF1bHR9fSk7dmFyIG09dChcIi4vdGV4dC9UZXh0XCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiVGV4dFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKG0pLmRlZmF1bHR9fSk7dmFyIF89dChcIi4vdGV4dC9UZXh0U3R5bGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlRleHRTdHlsZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKF8pLmRlZmF1bHR9fSk7dmFyIGI9dChcIi4vZ3JhcGhpY3MvR3JhcGhpY3NcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJHcmFwaGljc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGIpLmRlZmF1bHR9fSk7dmFyIHg9dChcIi4vZ3JhcGhpY3MvR3JhcGhpY3NEYXRhXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiR3JhcGhpY3NEYXRhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoeCkuZGVmYXVsdH19KTt2YXIgVD10KFwiLi9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiR3JhcGhpY3NSZW5kZXJlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFQpLmRlZmF1bHR9fSk7dmFyIHc9dChcIi4vZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJDYW52YXNHcmFwaGljc1JlbmRlcmVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodykuZGVmYXVsdH19KTt2YXIgRT10KFwiLi90ZXh0dXJlcy9TcHJpdGVzaGVldFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlNwcml0ZXNoZWV0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoRSkuZGVmYXVsdH19KTt2YXIgUz10KFwiLi90ZXh0dXJlcy9UZXh0dXJlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiVGV4dHVyZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFMpLmRlZmF1bHR9fSk7dmFyIE89dChcIi4vdGV4dHVyZXMvQmFzZVRleHR1cmVcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJCYXNlVGV4dHVyZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKE8pLmRlZmF1bHR9fSk7dmFyIFA9dChcIi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlJlbmRlclRleHR1cmVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShQKS5kZWZhdWx0fX0pO3ZhciBNPXQoXCIuL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiQmFzZVJlbmRlclRleHR1cmVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShNKS5kZWZhdWx0fX0pO3ZhciBDPXQoXCIuL3RleHR1cmVzL1ZpZGVvQmFzZVRleHR1cmVcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJWaWRlb0Jhc2VUZXh0dXJlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoQykuZGVmYXVsdH19KTt2YXIgUj10KFwiLi90ZXh0dXJlcy9UZXh0dXJlVXZzXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiVGV4dHVyZVV2c1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFIpLmRlZmF1bHR9fSk7dmFyIEE9dChcIi4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNSZW5kZXJUYXJnZXRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJDYW52YXNSZW5kZXJUYXJnZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShBKS5kZWZhdWx0fX0pO3ZhciBJPXQoXCIuL1NoYWRlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlNoYWRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEkpLmRlZmF1bHR9fSk7dmFyIEQ9dChcIi4vcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIldlYkdMTWFuYWdlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEQpLmRlZmF1bHR9fSk7dmFyIEw9dChcIi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiT2JqZWN0UmVuZGVyZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShMKS5kZWZhdWx0fX0pO3ZhciBOPXQoXCIuL3JlbmRlcmVycy93ZWJnbC91dGlscy9SZW5kZXJUYXJnZXRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJSZW5kZXJUYXJnZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShOKS5kZWZhdWx0fX0pO3ZhciBGPXQoXCIuL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiUXVhZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKEYpLmRlZmF1bHR9fSk7dmFyIGo9dChcIi4vcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiU3ByaXRlTWFza0ZpbHRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGopLmRlZmF1bHR9fSk7dmFyIEI9dChcIi4vcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvRmlsdGVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiRmlsdGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoQikuZGVmYXVsdH19KTt2YXIgaz10KFwiLi9BcHBsaWNhdGlvblwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkFwcGxpY2F0aW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoaykuZGVmYXVsdH19KTt2YXIgVT10KFwiLi9hdXRvRGV0ZWN0UmVuZGVyZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJhdXRvRGV0ZWN0UmVuZGVyZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVS5hdXRvRGV0ZWN0UmVuZGVyZXJ9fSk7dmFyIFg9dChcIi4vdXRpbHNcIiksRz1uKFgpLFc9dChcIi4vdGlja2VyXCIpLEg9bihXKSxWPXQoXCIuL3NldHRpbmdzXCIpLFk9aShWKSx6PXQoXCIuL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXJcIikscT1pKHopLEs9dChcIi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXJcIiksWj1pKEspO3Iuc2V0dGluZ3M9WS5kZWZhdWx0LHIudXRpbHM9RyxyLnRpY2tlcj1ILHIuQ2FudmFzUmVuZGVyZXI9cS5kZWZhdWx0LHIuV2ViR0xSZW5kZXJlcj1aLmRlZmF1bHR9LHtcIi4vQXBwbGljYXRpb25cIjo0MSxcIi4vU2hhZGVyXCI6NDIsXCIuL2F1dG9EZXRlY3RSZW5kZXJlclwiOjQzLFwiLi9jb25zdFwiOjQ0LFwiLi9kaXNwbGF5L0JvdW5kc1wiOjQ1LFwiLi9kaXNwbGF5L0NvbnRhaW5lclwiOjQ2LFwiLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RcIjo0NyxcIi4vZGlzcGxheS9UcmFuc2Zvcm1cIjo0OCxcIi4vZGlzcGxheS9UcmFuc2Zvcm1CYXNlXCI6NDksXCIuL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljXCI6NTAsXCIuL2dyYXBoaWNzL0dyYXBoaWNzXCI6NTEsXCIuL2dyYXBoaWNzL0dyYXBoaWNzRGF0YVwiOjUyLFwiLi9ncmFwaGljcy9jYW52YXMvQ2FudmFzR3JhcGhpY3NSZW5kZXJlclwiOjUzLFwiLi9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyXCI6NTUsXCIuL21hdGhcIjo2OCxcIi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclwiOjc1LFwiLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldFwiOjc3LFwiLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclwiOjgyLFwiLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXJcIjo4NCxcIi4vcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyXCI6ODcsXCIuL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9XZWJHTE1hbmFnZXJcIjo5MSxcIi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyXCI6OTIsXCIuL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkXCI6OTMsXCIuL3JlbmRlcmVycy93ZWJnbC91dGlscy9SZW5kZXJUYXJnZXRcIjo5NCxcIi4vc2V0dGluZ3NcIjo5OSxcIi4vc3ByaXRlcy9TcHJpdGVcIjoxMDAsXCIuL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyXCI6MTAxLFwiLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXJcIjoxMDIsXCIuL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXJcIjoxMDQsXCIuL3RleHQvVGV4dFwiOjEwNixcIi4vdGV4dC9UZXh0U3R5bGVcIjoxMDcsXCIuL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlXCI6MTA4LFwiLi90ZXh0dXJlcy9CYXNlVGV4dHVyZVwiOjEwOSxcIi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZVwiOjExMCxcIi4vdGV4dHVyZXMvU3ByaXRlc2hlZXRcIjoxMTEsXCIuL3RleHR1cmVzL1RleHR1cmVcIjoxMTIsXCIuL3RleHR1cmVzL1RleHR1cmVVdnNcIjoxMTMsXCIuL3RleHR1cmVzL1ZpZGVvQmFzZVRleHR1cmVcIjoxMTQsXCIuL3RpY2tlclwiOjExNixcIi4vdXRpbHNcIjoxMjAsXCJwaXhpLWdsLWNvcmVcIjoxMn1dLDY0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdDwwPy0xOnQ+MD8xOjB9ZnVuY3Rpb24gbygpe2Zvcih2YXIgdD0wO3Q8MTY7dCsrKXt2YXIgZT1bXTtkLnB1c2goZSk7Zm9yKHZhciByPTA7cjwxNjtyKyspZm9yKHZhciBuPWkodVt0XSp1W3JdK2hbdF0qbFtyXSksbz1pKGxbdF0qdVtyXStjW3RdKmxbcl0pLHM9aSh1W3RdKmhbcl0raFt0XSpjW3JdKSxwPWkobFt0XSpoW3JdK2NbdF0qY1tyXSksdj0wO3Y8MTY7disrKWlmKHVbdl09PT1uJiZsW3ZdPT09byYmaFt2XT09PXMmJmNbdl09PT1wKXtlLnB1c2godik7YnJlYWt9fWZvcih2YXIgeT0wO3k8MTY7eSsrKXt2YXIgZz1uZXcgYS5kZWZhdWx0O2cuc2V0KHVbeV0sbFt5XSxoW3ldLGNbeV0sMCwwKSxmLnB1c2goZyl9fXIuX19lc01vZHVsZT0hMDt2YXIgcz10KFwiLi9NYXRyaXhcIiksYT1uKHMpLHU9WzEsMSwwLC0xLC0xLC0xLDAsMSwxLDEsMCwtMSwtMSwtMSwwLDFdLGw9WzAsMSwxLDEsMCwtMSwtMSwtMSwwLDEsMSwxLDAsLTEsLTEsLTFdLGg9WzAsLTEsLTEsLTEsMCwxLDEsMSwwLDEsMSwxLDAsLTEsLTEsLTFdLGM9WzEsMSwwLC0xLC0xLC0xLDAsMSwtMSwtMSwwLDEsMSwxLDAsLTFdLGY9W10sZD1bXTtvKCk7dmFyIHA9e0U6MCxTRToxLFM6MixTVzozLFc6NCxOVzo1LE46NixORTo3LE1JUlJPUl9WRVJUSUNBTDo4LE1JUlJPUl9IT1JJWk9OVEFMOjEyLHVYOmZ1bmN0aW9uKHQpe3JldHVybiB1W3RdfSx1WTpmdW5jdGlvbih0KXtyZXR1cm4gbFt0XX0sdlg6ZnVuY3Rpb24odCl7cmV0dXJuIGhbdF19LHZZOmZ1bmN0aW9uKHQpe3JldHVybiBjW3RdfSxpbnY6ZnVuY3Rpb24odCl7cmV0dXJuIDgmdD8xNSZ0OjcmLXR9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiBkW3RdW2VdfSxzdWI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZFt0XVtwLmludihlKV19LHJvdGF0ZTE4MDpmdW5jdGlvbih0KXtyZXR1cm4gNF50fSxpc1N3YXBXaWR0aEhlaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gMj09PSgzJnQpfSxieURpcmVjdGlvbjpmdW5jdGlvbih0LGUpe3JldHVybiAyKk1hdGguYWJzKHQpPD1NYXRoLmFicyhlKT9lPj0wP3AuUzpwLk46MipNYXRoLmFicyhlKTw9TWF0aC5hYnModCk/dD4wP3AuRTpwLlc6ZT4wP3Q+MD9wLlNFOnAuU1c6dD4wP3AuTkU6cC5OV30sbWF0cml4QXBwZW5kUm90YXRpb25JbnY6ZnVuY3Rpb24odCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowLGk9ZltwLmludihlKV07aS50eD1yLGkudHk9bix0LmFwcGVuZChpKX19O3IuZGVmYXVsdD1wfSx7XCIuL01hdHJpeFwiOjY1fV0sNjU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxzPXQoXCIuL1BvaW50XCIpLGE9bihzKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxLHM9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjAsYT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MDtpKHRoaXMsdCksdGhpcy5hPWUsdGhpcy5iPXIsdGhpcy5jPW4sdGhpcy5kPW8sdGhpcy50eD1zLHRoaXMudHk9YSx0aGlzLmFycmF5PW51bGx9cmV0dXJuIHQucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbih0KXt0aGlzLmE9dFswXSx0aGlzLmI9dFsxXSx0aGlzLmM9dFszXSx0aGlzLmQ9dFs0XSx0aGlzLnR4PXRbMl0sdGhpcy50eT10WzVdfSx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLHIsbixpLG8pe3JldHVybiB0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLmM9cix0aGlzLmQ9bix0aGlzLnR4PWksdGhpcy50eT1vLHRoaXN9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXt0aGlzLmFycmF5fHwodGhpcy5hcnJheT1uZXcgRmxvYXQzMkFycmF5KDkpKTt2YXIgcj1lfHx0aGlzLmFycmF5O3JldHVybiB0PyhyWzBdPXRoaXMuYSxyWzFdPXRoaXMuYixyWzJdPTAsclszXT10aGlzLmMscls0XT10aGlzLmQscls1XT0wLHJbNl09dGhpcy50eCxyWzddPXRoaXMudHkscls4XT0xKTooclswXT10aGlzLmEsclsxXT10aGlzLmMsclsyXT10aGlzLnR4LHJbM109dGhpcy5iLHJbNF09dGhpcy5kLHJbNV09dGhpcy50eSxyWzZdPTAscls3XT0wLHJbOF09MSkscn0sdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxlKXtlPWV8fG5ldyBhLmRlZmF1bHQ7dmFyIHI9dC54LG49dC55O3JldHVybiBlLng9dGhpcy5hKnIrdGhpcy5jKm4rdGhpcy50eCxlLnk9dGhpcy5iKnIrdGhpcy5kKm4rdGhpcy50eSxlfSx0LnByb3RvdHlwZS5hcHBseUludmVyc2U9ZnVuY3Rpb24odCxlKXtlPWV8fG5ldyBhLmRlZmF1bHQ7dmFyIHI9MS8odGhpcy5hKnRoaXMuZCt0aGlzLmMqLXRoaXMuYiksbj10LngsaT10Lnk7cmV0dXJuIGUueD10aGlzLmQqcipuKy10aGlzLmMqcippKyh0aGlzLnR5KnRoaXMuYy10aGlzLnR4KnRoaXMuZCkqcixlLnk9dGhpcy5hKnIqaSstdGhpcy5iKnIqbisoLXRoaXMudHkqdGhpcy5hK3RoaXMudHgqdGhpcy5iKSpyLGV9LHQucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnR4Kz10LHRoaXMudHkrPWUsdGhpc30sdC5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hKj10LHRoaXMuZCo9ZSx0aGlzLmMqPXQsdGhpcy5iKj1lLHRoaXMudHgqPXQsdGhpcy50eSo9ZSx0aGlzfSx0LnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KSxuPXRoaXMuYSxpPXRoaXMuYyxvPXRoaXMudHg7cmV0dXJuIHRoaXMuYT1uKmUtdGhpcy5iKnIsdGhpcy5iPW4qcit0aGlzLmIqZSx0aGlzLmM9aSplLXRoaXMuZCpyLHRoaXMuZD1pKnIrdGhpcy5kKmUsdGhpcy50eD1vKmUtdGhpcy50eSpyLHRoaXMudHk9bypyK3RoaXMudHkqZSx0aGlzfSx0LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hLHI9dGhpcy5iLG49dGhpcy5jLGk9dGhpcy5kO3JldHVybiB0aGlzLmE9dC5hKmUrdC5iKm4sdGhpcy5iPXQuYSpyK3QuYippLHRoaXMuYz10LmMqZSt0LmQqbix0aGlzLmQ9dC5jKnIrdC5kKmksdGhpcy50eD10LnR4KmUrdC50eSpuK3RoaXMudHgsdGhpcy50eT10LnR4KnIrdC50eSppK3RoaXMudHksdGhpc30sdC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxyLG4saSxvLHMsYSx1KXt2YXIgbD1NYXRoLnNpbihzKSxoPU1hdGguY29zKHMpLGM9TWF0aC5jb3ModSksZj1NYXRoLnNpbih1KSxkPS1NYXRoLnNpbihhKSxwPU1hdGguY29zKGEpLHY9aCppLHk9bCppLGc9LWwqbyxtPWgqbztyZXR1cm4gdGhpcy5hPWMqditmKmcsdGhpcy5iPWMqeStmKm0sdGhpcy5jPWQqditwKmcsdGhpcy5kPWQqeStwKm0sdGhpcy50eD10KyhyKnYrbipnKSx0aGlzLnR5PWUrKHIqeStuKm0pLHRoaXN9LHQucHJvdG90eXBlLnByZXBlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50eDtpZigxIT09dC5hfHwwIT09dC5ifHwwIT09dC5jfHwxIT09dC5kKXt2YXIgcj10aGlzLmEsbj10aGlzLmM7dGhpcy5hPXIqdC5hK3RoaXMuYip0LmMsdGhpcy5iPXIqdC5iK3RoaXMuYip0LmQsdGhpcy5jPW4qdC5hK3RoaXMuZCp0LmMsdGhpcy5kPW4qdC5iK3RoaXMuZCp0LmR9cmV0dXJuIHRoaXMudHg9ZSp0LmErdGhpcy50eSp0LmMrdC50eCx0aGlzLnR5PWUqdC5iK3RoaXMudHkqdC5kK3QudHksdGhpc30sdC5wcm90b3R5cGUuZGVjb21wb3NlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYSxyPXRoaXMuYixuPXRoaXMuYyxpPXRoaXMuZCxvPS1NYXRoLmF0YW4yKC1uLGkpLHM9TWF0aC5hdGFuMihyLGUpLGE9TWF0aC5hYnMobytzKTtyZXR1cm4gYTwxZS01Pyh0LnJvdGF0aW9uPXMsZTwwJiZpPj0wJiYodC5yb3RhdGlvbis9dC5yb3RhdGlvbjw9MD9NYXRoLlBJOi1NYXRoLlBJKSx0LnNrZXcueD10LnNrZXcueT0wKToodC5za2V3Lng9byx0LnNrZXcueT1zKSx0LnNjYWxlLng9TWF0aC5zcXJ0KGUqZStyKnIpLHQuc2NhbGUueT1NYXRoLnNxcnQobipuK2kqaSksdC5wb3NpdGlvbi54PXRoaXMudHgsdC5wb3NpdGlvbi55PXRoaXMudHksdH0sdC5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hLGU9dGhpcy5iLHI9dGhpcy5jLG49dGhpcy5kLGk9dGhpcy50eCxvPXQqbi1lKnI7cmV0dXJuIHRoaXMuYT1uL28sdGhpcy5iPS1lL28sdGhpcy5jPS1yL28sdGhpcy5kPXQvbyx0aGlzLnR4PShyKnRoaXMudHktbippKS9vLHRoaXMudHk9LSh0KnRoaXMudHktZSppKS9vLHRoaXN9LHQucHJvdG90eXBlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT0xLHRoaXMuYj0wLHRoaXMuYz0wLHRoaXMuZD0xLHRoaXMudHg9MCx0aGlzLnR5PTAsdGhpc30sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdDtyZXR1cm4gZS5hPXRoaXMuYSxlLmI9dGhpcy5iLGUuYz10aGlzLmMsZS5kPXRoaXMuZCxlLnR4PXRoaXMudHgsZS50eT10aGlzLnR5LGV9LHQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYT10aGlzLmEsdC5iPXRoaXMuYix0LmM9dGhpcy5jLHQuZD10aGlzLmQsdC50eD10aGlzLnR4LHQudHk9dGhpcy50eSx0fSxvKHQsbnVsbCxbe2tleTpcIklERU5USVRZXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fX0se2tleTpcIlRFTVBfTUFUUklYXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0fX1dKSx0fSgpO3IuZGVmYXVsdD11fSx7XCIuL1BvaW50XCI6Njd9XSw2NjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtuKHRoaXMsdCksdGhpcy5feD1pLHRoaXMuX3k9byx0aGlzLmNiPWUsdGhpcy5zY29wZT1yfXJldHVybiB0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10fHwwLG49ZXx8KDAhPT1lP3I6MCk7dGhpcy5feD09PXImJnRoaXMuX3k9PT1ufHwodGhpcy5feD1yLHRoaXMuX3k9bix0aGlzLmNiLmNhbGwodGhpcy5zY29wZSkpfSx0LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3RoaXMuX3g9PT10LngmJnRoaXMuX3k9PT10Lnl8fCh0aGlzLl94PXQueCx0aGlzLl95PXQueSx0aGlzLmNiLmNhbGwodGhpcy5zY29wZSkpfSxpKHQsW3trZXk6XCJ4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbih0KXt0aGlzLl94IT09dCYmKHRoaXMuX3g9dCx0aGlzLmNiLmNhbGwodGhpcy5zY29wZSkpfX0se2tleTpcInlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3khPT10JiYodGhpcy5feT10LHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKSl9fV0pLHR9KCk7ci5kZWZhdWx0PW99LHt9XSw2NzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO24odGhpcyx0KSx0aGlzLng9ZSx0aGlzLnk9cn1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy54LHRoaXMueSl9LHQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7dGhpcy5zZXQodC54LHQueSl9LHQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9LHQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMueD10fHwwLHRoaXMueT1lfHwoMCE9PWU/dGhpcy54OjApfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sNjg6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcIi4vUG9pbnRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJQb2ludFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGkpLmRlZmF1bHR9fSk7dmFyIG89dChcIi4vT2JzZXJ2YWJsZVBvaW50XCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiT2JzZXJ2YWJsZVBvaW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFwiLi9NYXRyaXhcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJNYXRyaXhcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihzKS5kZWZhdWx0fX0pO3ZhciBhPXQoXCIuL0dyb3VwRDhcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJHcm91cEQ4XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oYSkuZGVmYXVsdH19KTt2YXIgdT10KFwiLi9zaGFwZXMvQ2lyY2xlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiQ2lyY2xlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4odSkuZGVmYXVsdH19KTt2YXIgbD10KFwiLi9zaGFwZXMvRWxsaXBzZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkVsbGlwc2VcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihsKS5kZWZhdWx0fX0pO3ZhciBoPXQoXCIuL3NoYXBlcy9Qb2x5Z29uXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiUG9seWdvblwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGgpLmRlZmF1bHR9fSk7dmFyIGM9dChcIi4vc2hhcGVzL1JlY3RhbmdsZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlJlY3RhbmdsZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGMpLmRlZmF1bHR9fSk7dmFyIGY9dChcIi4vc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGVcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJSb3VuZGVkUmVjdGFuZ2xlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oZikuZGVmYXVsdH19KX0se1wiLi9Hcm91cEQ4XCI6NjQsXCIuL01hdHJpeFwiOjY1LFwiLi9PYnNlcnZhYmxlUG9pbnRcIjo2NixcIi4vUG9pbnRcIjo2NyxcIi4vc2hhcGVzL0NpcmNsZVwiOjY5LFwiLi9zaGFwZXMvRWxsaXBzZVwiOjcwLFwiLi9zaGFwZXMvUG9seWdvblwiOjcxLFwiLi9zaGFwZXMvUmVjdGFuZ2xlXCI6NzIsXCIuL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlXCI6NzN9XSw2OTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwiLi9SZWN0YW5nbGVcIikscz1uKG8pLGE9dChcIi4uLy4uL2NvbnN0XCIpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowO2kodGhpcyx0KSx0aGlzLng9ZSx0aGlzLnk9cix0aGlzLnJhZGl1cz1uLHRoaXMudHlwZT1hLlNIQVBFUy5DSVJDfXJldHVybiB0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMucmFkaXVzKX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnJhZGl1czw9MClyZXR1cm4hMTt2YXIgcj10aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyxuPXRoaXMueC10LGk9dGhpcy55LWU7cmV0dXJuIG4qPW4saSo9aSxuK2k8PXJ9LHQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBuZXcgcy5kZWZhdWx0KHRoaXMueC10aGlzLnJhZGl1cyx0aGlzLnktdGhpcy5yYWRpdXMsMip0aGlzLnJhZGl1cywyKnRoaXMucmFkaXVzKX0sdH0oKTtyLmRlZmF1bHQ9dX0se1wiLi4vLi4vY29uc3RcIjo0NCxcIi4vUmVjdGFuZ2xlXCI6NzJ9XSw3MDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwiLi9SZWN0YW5nbGVcIikscz1uKG8pLGE9dChcIi4uLy4uL2NvbnN0XCIpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7aSh0aGlzLHQpLHRoaXMueD1lLHRoaXMueT1yLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1vLHRoaXMudHlwZT1hLlNIQVBFUy5FTElQfXJldHVybiB0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe2lmKHRoaXMud2lkdGg8PTB8fHRoaXMuaGVpZ2h0PD0wKXJldHVybiExO3ZhciByPSh0LXRoaXMueCkvdGhpcy53aWR0aCxuPShlLXRoaXMueSkvdGhpcy5oZWlnaHQ7cmV0dXJuIHIqPXIsbio9bixyK248PTF9LHQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBuZXcgcy5kZWZhdWx0KHRoaXMueC10aGlzLndpZHRoLHRoaXMueS10aGlzLmhlaWdodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sdH0oKTtyLmRlZmF1bHQ9dX0se1wiLi4vLi4vY29uc3RcIjo0NCxcIi4vUmVjdGFuZ2xlXCI6NzJ9XSw3MTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwiLi4vUG9pbnRcIikscz1uKG8pLGE9dChcIi4uLy4uL2NvbnN0XCIpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShlKSxuPTA7bjxlO24rKylyW25dPWFyZ3VtZW50c1tuXTtpZihpKHRoaXMsdCksQXJyYXkuaXNBcnJheShyWzBdKSYmKHI9clswXSksclswXWluc3RhbmNlb2Ygcy5kZWZhdWx0KXtmb3IodmFyIG89W10sdT0wLGw9ci5sZW5ndGg7dTxsO3UrKylvLnB1c2goclt1XS54LHJbdV0ueSk7cj1vfXRoaXMuY2xvc2VkPSEwLHRoaXMucG9pbnRzPXIsdGhpcy50eXBlPWEuU0hBUEVTLlBPTFl9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMucG9pbnRzLnNsaWNlKCkpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnRzO3RbMF09PT10W3QubGVuZ3RoLTJdJiZ0WzFdPT09dFt0Lmxlbmd0aC0xXXx8dC5wdXNoKHRbMF0sdFsxXSl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPSExLG49dGhpcy5wb2ludHMubGVuZ3RoLzIsaT0wLG89bi0xO2k8bjtvPWkrKyl7dmFyIHM9dGhpcy5wb2ludHNbMippXSxhPXRoaXMucG9pbnRzWzIqaSsxXSx1PXRoaXMucG9pbnRzWzIqb10sbD10aGlzLnBvaW50c1syKm8rMV0saD1hPmUhPWw+ZSYmdDwodS1zKSooKGUtYSkvKGwtYSkpK3M7aCYmKHI9IXIpfXJldHVybiByfSx0fSgpO3IuZGVmYXVsdD11fSx7XCIuLi8uLi9jb25zdFwiOjQ0LFwiLi4vUG9pbnRcIjo2N31dLDcyOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksbz10KFwiLi4vLi4vY29uc3RcIikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MDtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PXIsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXMsdGhpcy50eXBlPW8uU0hBUEVTLlJFQ1R9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpc30sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHRoaXMud2lkdGg8PTB8fHRoaXMuaGVpZ2h0PD0wKSYmKHQ+PXRoaXMueCYmdDx0aGlzLngrdGhpcy53aWR0aCYmZT49dGhpcy55JiZlPHRoaXMueSt0aGlzLmhlaWdodCl9LHQucHJvdG90eXBlLnBhZD1mdW5jdGlvbih0LGUpe3Q9dHx8MCxlPWV8fCgwIT09ZT90OjApLHRoaXMueC09dCx0aGlzLnktPWUsdGhpcy53aWR0aCs9Mip0LHRoaXMuaGVpZ2h0Kz0yKmV9LHQucHJvdG90eXBlLmZpdD1mdW5jdGlvbih0KXt0aGlzLng8dC54JiYodGhpcy53aWR0aCs9dGhpcy54LHRoaXMud2lkdGg8MCYmKHRoaXMud2lkdGg9MCksdGhpcy54PXQueCksdGhpcy55PHQueSYmKHRoaXMuaGVpZ2h0Kz10aGlzLnksdGhpcy5oZWlnaHQ8MCYmKHRoaXMuaGVpZ2h0PTApLHRoaXMueT10LnkpLHRoaXMueCt0aGlzLndpZHRoPnQueCt0LndpZHRoJiYodGhpcy53aWR0aD10LndpZHRoLXRoaXMueCx0aGlzLndpZHRoPDAmJih0aGlzLndpZHRoPTApKSx0aGlzLnkrdGhpcy5oZWlnaHQ+dC55K3QuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dC5oZWlnaHQtdGhpcy55LHRoaXMuaGVpZ2h0PDAmJih0aGlzLmhlaWdodD0wKSl9LHQucHJvdG90eXBlLmVubGFyZ2U9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5taW4odGhpcy54LHQueCkscj1NYXRoLm1heCh0aGlzLngrdGhpcy53aWR0aCx0LngrdC53aWR0aCksbj1NYXRoLm1pbih0aGlzLnksdC55KSxpPU1hdGgubWF4KHRoaXMueSt0aGlzLmhlaWdodCx0LnkrdC5oZWlnaHQpO3RoaXMueD1lLHRoaXMud2lkdGg9ci1lLHRoaXMueT1uLHRoaXMuaGVpZ2h0PWktbn0saSh0LFt7a2V5OlwibGVmdFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnh9fSx7a2V5OlwicmlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMud2lkdGh9fSx7a2V5OlwidG9wXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueX19LHtrZXk6XCJib3R0b21cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55K3RoaXMuaGVpZ2h0fX1dLFt7a2V5OlwiRU1QVFlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoMCwwLDAsMCl9fV0pLHR9KCk7ci5kZWZhdWx0PXN9LHtcIi4uLy4uL2NvbnN0XCI6NDR9XSw3MzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi4vLi4vY29uc3RcIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MCxhPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XToyMDtuKHRoaXMsdCksdGhpcy54PWUsdGhpcy55PXIsdGhpcy53aWR0aD1vLHRoaXMuaGVpZ2h0PXMsdGhpcy5yYWRpdXM9YSx0aGlzLnR5cGU9aS5TSEFQRVMuUlJFQ31yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMucmFkaXVzKX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MClyZXR1cm4hMTtpZih0Pj10aGlzLngmJnQ8PXRoaXMueCt0aGlzLndpZHRoJiZlPj10aGlzLnkmJmU8PXRoaXMueSt0aGlzLmhlaWdodCl7aWYoZT49dGhpcy55K3RoaXMucmFkaXVzJiZlPD10aGlzLnkrdGhpcy5oZWlnaHQtdGhpcy5yYWRpdXN8fHQ+PXRoaXMueCt0aGlzLnJhZGl1cyYmdDw9dGhpcy54K3RoaXMud2lkdGgtdGhpcy5yYWRpdXMpcmV0dXJuITA7dmFyIHI9dC0odGhpcy54K3RoaXMucmFkaXVzKSxuPWUtKHRoaXMueSt0aGlzLnJhZGl1cyksaT10aGlzLnJhZGl1cyp0aGlzLnJhZGl1cztpZihyKnIrbipuPD1pKXJldHVybiEwO2lmKHI9dC0odGhpcy54K3RoaXMud2lkdGgtdGhpcy5yYWRpdXMpLHIqcituKm48PWkpcmV0dXJuITA7aWYobj1lLSh0aGlzLnkrdGhpcy5oZWlnaHQtdGhpcy5yYWRpdXMpLHIqcituKm48PWkpcmV0dXJuITA7aWYocj10LSh0aGlzLngrdGhpcy5yYWRpdXMpLHIqcituKm48PWkpcmV0dXJuITB9cmV0dXJuITF9LHR9KCk7ci5kZWZhdWx0PW99LHtcIi4uLy4uL2NvbnN0XCI6NDR9XSw3NDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFwiLi4vdXRpbHNcIiksbD10KFwiLi4vbWF0aFwiKSxoPXQoXCIuLi9jb25zdFwiKSxjPXQoXCIuLi9zZXR0aW5nc1wiKSxmPW4oYyksZD10KFwiLi4vZGlzcGxheS9Db250YWluZXJcIikscD1uKGQpLHY9dChcIi4uL3RleHR1cmVzL1JlbmRlclRleHR1cmVcIikseT1uKHYpLGc9dChcImV2ZW50ZW1pdHRlcjNcIiksbT1uKGcpLF89bmV3IGwuTWF0cml4LGI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4scyxhKXtpKHRoaXMsZSk7dmFyIGM9byh0aGlzLHQuY2FsbCh0aGlzKSk7aWYoKDAsdS5zYXlIZWxsbykociksYSlmb3IodmFyIGQgaW4gZi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TKVwidW5kZWZpbmVkXCI9PXR5cGVvZiBhW2RdJiYoYVtkXT1mLmRlZmF1bHQuUkVOREVSX09QVElPTlNbZF0pO2Vsc2UgYT1mLmRlZmF1bHQuUkVOREVSX09QVElPTlM7cmV0dXJuIGMudHlwZT1oLlJFTkRFUkVSX1RZUEUuVU5LTk9XTixjLnNjcmVlbj1uZXcgbC5SZWN0YW5nbGUoMCwwLG58fDgwMCxzfHw2MDApLGMudmlldz1hLnZpZXd8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksYy5yZXNvbHV0aW9uPWEucmVzb2x1dGlvbnx8Zi5kZWZhdWx0LlJFU09MVVRJT04sYy50cmFuc3BhcmVudD1hLnRyYW5zcGFyZW50LGMuYXV0b1Jlc2l6ZT1hLmF1dG9SZXNpemV8fCExLGMuYmxlbmRNb2Rlcz1udWxsLGMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWEucHJlc2VydmVEcmF3aW5nQnVmZmVyLGMuY2xlYXJCZWZvcmVSZW5kZXI9YS5jbGVhckJlZm9yZVJlbmRlcixjLnJvdW5kUGl4ZWxzPWEucm91bmRQaXhlbHMsYy5fYmFja2dyb3VuZENvbG9yPTAsYy5fYmFja2dyb3VuZENvbG9yUmdiYT1bMCwwLDAsMF0sYy5fYmFja2dyb3VuZENvbG9yU3RyaW5nPVwiIzAwMDAwMFwiLGMuYmFja2dyb3VuZENvbG9yPWEuYmFja2dyb3VuZENvbG9yfHxjLl9iYWNrZ3JvdW5kQ29sb3IsYy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ9bmV3IHAuZGVmYXVsdCxjLl9sYXN0T2JqZWN0UmVuZGVyZWQ9Yy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQsY31yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMuc2NyZWVuLndpZHRoPXQsdGhpcy5zY3JlZW4uaGVpZ2h0PWUsdGhpcy52aWV3LndpZHRoPXQqdGhpcy5yZXNvbHV0aW9uLHRoaXMudmlldy5oZWlnaHQ9ZSp0aGlzLnJlc29sdXRpb24sdGhpcy5hdXRvUmVzaXplJiYodGhpcy52aWV3LnN0eWxlLndpZHRoPXQrXCJweFwiLHRoaXMudmlldy5zdHlsZS5oZWlnaHQ9ZStcInB4XCIpfSxlLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQuZ2V0TG9jYWxCb3VuZHMoKSxpPXkuZGVmYXVsdC5jcmVhdGUoMHxuLndpZHRoLDB8bi5oZWlnaHQsZSxyKTtyZXR1cm4gXy50eD0tbi54LF8udHk9LW4ueSx0aGlzLnJlbmRlcih0LGksITEsXywhMCksaX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt0JiZ0aGlzLnZpZXcucGFyZW50Tm9kZSYmdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KSx0aGlzLnR5cGU9aC5SRU5ERVJFUl9UWVBFLlVOS05PV04sdGhpcy52aWV3PW51bGwsdGhpcy5zY3JlZW49bnVsbCx0aGlzLnJlc29sdXRpb249MCx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYXV0b1Jlc2l6ZT0hMSx0aGlzLmJsZW5kTW9kZXM9bnVsbCx0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj0hMSx0aGlzLmNsZWFyQmVmb3JlUmVuZGVyPSExLHRoaXMucm91bmRQaXhlbHM9ITEsdGhpcy5fYmFja2dyb3VuZENvbG9yPTAsdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYT1udWxsLHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZz1udWxsLHRoaXMuYmFja2dyb3VuZENvbG9yPTAsdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ9bnVsbCx0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQ9bnVsbH0sYShlLFt7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LndpZHRofX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuaGVpZ2h0fX0se2tleTpcImJhY2tncm91bmRDb2xvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3J9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9iYWNrZ3JvdW5kQ29sb3I9dCx0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc9KDAsdS5oZXgyc3RyaW5nKSh0KSwoMCx1LmhleDJyZ2IpKHQsdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSl9fV0pLGV9KG0uZGVmYXVsdCk7ci5kZWZhdWx0PWJ9LHtcIi4uL2NvbnN0XCI6NDQsXCIuLi9kaXNwbGF5L0NvbnRhaW5lclwiOjQ2LFwiLi4vbWF0aFwiOjY4LFwiLi4vc2V0dGluZ3NcIjo5OSxcIi4uL3RleHR1cmVzL1JlbmRlclRleHR1cmVcIjoxMTAsXCIuLi91dGlsc1wiOjEyMCxldmVudGVtaXR0ZXIzOjN9XSw3NTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi9TeXN0ZW1SZW5kZXJlclwiKSx1PW4oYSksbD10KFwiLi91dGlscy9DYW52YXNNYXNrTWFuYWdlclwiKSxoPW4obCksYz10KFwiLi91dGlscy9DYW52YXNSZW5kZXJUYXJnZXRcIiksZj1uKGMpLGQ9dChcIi4vdXRpbHMvbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aVwiKSxwPW4oZCksdj10KFwiLi4vLi4vdXRpbHNcIikseT10KFwiLi4vLi4vY29uc3RcIiksZz10KFwiLi4vLi4vc2V0dGluZ3NcIiksbT1uKGcpLF89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpKHRoaXMsZSk7dmFyIGE9byh0aGlzLHQuY2FsbCh0aGlzLFwiQ2FudmFzXCIscixuLHMpKTtyZXR1cm4gYS50eXBlPXkuUkVOREVSRVJfVFlQRS5DQU5WQVMsYS5yb290Q29udGV4dD1hLnZpZXcuZ2V0Q29udGV4dChcIjJkXCIse2FscGhhOmEudHJhbnNwYXJlbnR9KSxhLnJlZnJlc2g9ITAsYS5tYXNrTWFuYWdlcj1uZXcgaC5kZWZhdWx0KGEpLGEuc21vb3RoUHJvcGVydHk9XCJpbWFnZVNtb290aGluZ0VuYWJsZWRcIixhLnJvb3RDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZHx8KGEucm9vdENvbnRleHQud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkP2Euc21vb3RoUHJvcGVydHk9XCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWRcIjphLnJvb3RDb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZD9hLnNtb290aFByb3BlcnR5PVwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkXCI6YS5yb290Q29udGV4dC5vSW1hZ2VTbW9vdGhpbmdFbmFibGVkP2Euc21vb3RoUHJvcGVydHk9XCJvSW1hZ2VTbW9vdGhpbmdFbmFibGVkXCI6YS5yb290Q29udGV4dC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCYmKGEuc21vb3RoUHJvcGVydHk9XCJtc0ltYWdlU21vb3RoaW5nRW5hYmxlZFwiKSksYS5pbml0UGx1Z2lucygpLGEuYmxlbmRNb2Rlcz0oMCxwLmRlZmF1bHQpKCksYS5fYWN0aXZlQmxlbmRNb2RlPW51bGwsYS5jb250ZXh0PW51bGwsYS5yZW5kZXJpbmdUb1NjcmVlbj0hMSxhLnJlc2l6ZShyLG4pLGF9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLHIsbixpKXtpZih0aGlzLnZpZXcpe3RoaXMucmVuZGVyaW5nVG9TY3JlZW49IWUsdGhpcy5lbWl0KFwicHJlcmVuZGVyXCIpO3ZhciBvPXRoaXMucmVzb2x1dGlvbjtlPyhlPWUuYmFzZVRleHR1cmV8fGUsZS5fY2FudmFzUmVuZGVyVGFyZ2V0fHwoZS5fY2FudmFzUmVuZGVyVGFyZ2V0PW5ldyBmLmRlZmF1bHQoZS53aWR0aCxlLmhlaWdodCxlLnJlc29sdXRpb24pLGUuc291cmNlPWUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXMsZS52YWxpZD0hMCksdGhpcy5jb250ZXh0PWUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0LHRoaXMucmVzb2x1dGlvbj1lLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbik6dGhpcy5jb250ZXh0PXRoaXMucm9vdENvbnRleHQ7dmFyIHM9dGhpcy5jb250ZXh0O2lmKGV8fCh0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQ9dCksIWkpe3ZhciBhPXQucGFyZW50LHU9dGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO24/KG4uY29weSh1KSx0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0uX3dvcmxkSUQ9LTEpOnUuaWRlbnRpdHkoKSx0LnBhcmVudD10aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQucGFyZW50PWF9cy5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHMuZ2xvYmFsQWxwaGE9MSxzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj10aGlzLmJsZW5kTW9kZXNbeS5CTEVORF9NT0RFUy5OT1JNQUxdLG5hdmlnYXRvci5pc0NvY29vbkpTJiZ0aGlzLnZpZXcuc2NyZWVuY2FudmFzJiYocy5maWxsU3R5bGU9XCJibGFja1wiLHMuY2xlYXIoKSksKHZvaWQgMCE9PXI/cjp0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSYmdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiYmKHRoaXMudHJhbnNwYXJlbnQ/cy5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpOihzLmZpbGxTdHlsZT10aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcscy5maWxsUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCkpKTt2YXIgbD10aGlzLmNvbnRleHQ7dGhpcy5jb250ZXh0PXMsdC5yZW5kZXJDYW52YXModGhpcyksdGhpcy5jb250ZXh0PWwsdGhpcy5yZXNvbHV0aW9uPW8sdGhpcy5lbWl0KFwicG9zdHJlbmRlclwiKX19LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dDt0PXR8fHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZywhdGhpcy50cmFuc3BhcmVudCYmdD8oZS5maWxsU3R5bGU9dCxlLmZpbGxSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSk6ZS5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9ZnVuY3Rpb24odCl7dGhpcy5fYWN0aXZlQmxlbmRNb2RlIT09dCYmKHRoaXMuX2FjdGl2ZUJsZW5kTW9kZT10LHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dGhpcy5ibGVuZE1vZGVzW3RdKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXt0aGlzLmRlc3Ryb3lQbHVnaW5zKCksdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsZSksdGhpcy5jb250ZXh0PW51bGwsdGhpcy5yZWZyZXNoPSEwLHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpLHRoaXMubWFza01hbmFnZXI9bnVsbCx0aGlzLnNtb290aFByb3BlcnR5PW51bGx9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLHIpe3QucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsZSxyKSx0aGlzLnNtb290aFByb3BlcnR5JiYodGhpcy5yb290Q29udGV4dFt0aGlzLnNtb290aFByb3BlcnR5XT1tLmRlZmF1bHQuU0NBTEVfTU9ERT09PXkuU0NBTEVfTU9ERVMuTElORUFSKX0sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9Xyx2LnBsdWdpblRhcmdldC5taXhpbihfKX0se1wiLi4vLi4vY29uc3RcIjo0NCxcIi4uLy4uL3NldHRpbmdzXCI6OTksXCIuLi8uLi91dGlsc1wiOjEyMCxcIi4uL1N5c3RlbVJlbmRlcmVyXCI6NzQsXCIuL3V0aWxzL0NhbnZhc01hc2tNYW5hZ2VyXCI6NzYsXCIuL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldFwiOjc3LFwiLi91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpXCI6Nzl9XSw3NjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi4vLi4vLi4vY29uc3RcIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMucmVuZGVyZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaE1hc2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcjtlLmNvbnRleHQuc2F2ZSgpO3ZhciByPXQuYWxwaGEsbj10LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxpPWUucmVzb2x1dGlvbjtlLmNvbnRleHQuc2V0VHJhbnNmb3JtKG4uYSppLG4uYippLG4uYyppLG4uZCppLG4udHgqaSxuLnR5KmkpLHQuX3RleHR1cmV8fCh0aGlzLnJlbmRlckdyYXBoaWNzU2hhcGUodCksZS5jb250ZXh0LmNsaXAoKSksdC53b3JsZEFscGhhPXJ9LHQucHJvdG90eXBlLnJlbmRlckdyYXBoaWNzU2hhcGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlci5jb250ZXh0LHI9dC5ncmFwaGljc0RhdGEubGVuZ3RoO2lmKDAhPT1yKXtlLmJlZ2luUGF0aCgpO2Zvcih2YXIgbj0wO248cjtuKyspe3ZhciBvPXQuZ3JhcGhpY3NEYXRhW25dLHM9by5zaGFwZTtpZihvLnR5cGU9PT1pLlNIQVBFUy5QT0xZKXt2YXIgYT1zLnBvaW50cztlLm1vdmVUbyhhWzBdLGFbMV0pO2Zvcih2YXIgdT0xO3U8YS5sZW5ndGgvMjt1KyspZS5saW5lVG8oYVsyKnVdLGFbMip1KzFdKTthWzBdPT09YVthLmxlbmd0aC0yXSYmYVsxXT09PWFbYS5sZW5ndGgtMV0mJmUuY2xvc2VQYXRoKCl9ZWxzZSBpZihvLnR5cGU9PT1pLlNIQVBFUy5SRUNUKWUucmVjdChzLngscy55LHMud2lkdGgscy5oZWlnaHQpLGUuY2xvc2VQYXRoKCk7ZWxzZSBpZihvLnR5cGU9PT1pLlNIQVBFUy5DSVJDKWUuYXJjKHMueCxzLnkscy5yYWRpdXMsMCwyKk1hdGguUEkpLGUuY2xvc2VQYXRoKCk7ZWxzZSBpZihvLnR5cGU9PT1pLlNIQVBFUy5FTElQKXt2YXIgbD0yKnMud2lkdGgsaD0yKnMuaGVpZ2h0LGM9cy54LWwvMixmPXMueS1oLzIsZD0uNTUyMjg0OCxwPWwvMipkLHY9aC8yKmQseT1jK2wsZz1mK2gsbT1jK2wvMixfPWYraC8yO2UubW92ZVRvKGMsXyksZS5iZXppZXJDdXJ2ZVRvKGMsXy12LG0tcCxmLG0sZiksZS5iZXppZXJDdXJ2ZVRvKG0rcCxmLHksXy12LHksXyksZS5iZXppZXJDdXJ2ZVRvKHksXyt2LG0rcCxnLG0sZyksZS5iZXppZXJDdXJ2ZVRvKG0tcCxnLGMsXyt2LGMsXyksZS5jbG9zZVBhdGgoKX1lbHNlIGlmKG8udHlwZT09PWkuU0hBUEVTLlJSRUMpe3ZhciBiPXMueCx4PXMueSxUPXMud2lkdGgsdz1zLmhlaWdodCxFPXMucmFkaXVzLFM9TWF0aC5taW4oVCx3KS8yfDA7RT1FPlM/UzpFLGUubW92ZVRvKGIseCtFKSxlLmxpbmVUbyhiLHgrdy1FKSxlLnF1YWRyYXRpY0N1cnZlVG8oYix4K3csYitFLHgrdyksZS5saW5lVG8oYitULUUseCt3KSxlLnF1YWRyYXRpY0N1cnZlVG8oYitULHgrdyxiK1QseCt3LUUpLGUubGluZVRvKGIrVCx4K0UpLGUucXVhZHJhdGljQ3VydmVUbyhiK1QseCxiK1QtRSx4KSxlLmxpbmVUbyhiK0UseCksZS5xdWFkcmF0aWNDdXJ2ZVRvKGIseCxiLHgrRSksZS5jbG9zZVBhdGgoKX19fX0sdC5wcm90b3R5cGUucG9wTWFzaz1mdW5jdGlvbih0KXt0LmNvbnRleHQucmVzdG9yZSgpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSx0fSgpO3IuZGVmYXVsdD1vfSx7XCIuLi8uLi8uLi9jb25zdFwiOjQ0fV0sNzc6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxzPXQoXCIuLi8uLi8uLi9zZXR0aW5nc1wiKSxhPW4ocyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4pe2kodGhpcyx0KSx0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5yZXNvbHV0aW9uPW58fGEuZGVmYXVsdC5SRVNPTFVUSU9OLHRoaXMucmVzaXplKGUscil9cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy5jYW52YXMud2lkdGg9dCp0aGlzLnJlc29sdXRpb24sdGhpcy5jYW52YXMuaGVpZ2h0PWUqdGhpcy5yZXNvbHV0aW9ufSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0PW51bGwsdGhpcy5jYW52YXM9bnVsbH0sbyh0LFt7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMud2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLmNhbnZhcy53aWR0aD10fX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmNhbnZhcy5oZWlnaHQ9dH19XSksdH0oKTtyLmRlZmF1bHQ9dX0se1wiLi4vLi4vLi4vc2V0dGluZ3NcIjo5OX1dLDc4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9NixlLmhlaWdodD0xO3ZhciByPWUuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiByLmZpbGxTdHlsZT10LHIuZmlsbFJlY3QoMCwwLDYsMSksZX1mdW5jdGlvbiBpKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50KXJldHVybiExO3ZhciB0PW4oXCIjZmYwMGZmXCIpLGU9bihcIiNmZmZmMDBcIikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Iud2lkdGg9NixyLmhlaWdodD0xO3ZhciBpPXIuZ2V0Q29udGV4dChcIjJkXCIpO2kuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwibXVsdGlwbHlcIixpLmRyYXdJbWFnZSh0LDAsMCksaS5kcmF3SW1hZ2UoZSwyLDApO3ZhciBvPWkuZ2V0SW1hZ2VEYXRhKDIsMCwxLDEpO2lmKCFvKXJldHVybiExO3ZhciBzPW8uZGF0YTtyZXR1cm4gMjU1PT09c1swXSYmMD09PXNbMV0mJjA9PT1zWzJdfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aX0se31dLDc5OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4oMCxhLmRlZmF1bHQpKCk/KHRbby5CTEVORF9NT0RFUy5OT1JNQUxdPVwic291cmNlLW92ZXJcIix0W28uQkxFTkRfTU9ERVMuQUREXT1cImxpZ2h0ZXJcIix0W28uQkxFTkRfTU9ERVMuTVVMVElQTFldPVwibXVsdGlwbHlcIix0W28uQkxFTkRfTU9ERVMuU0NSRUVOXT1cInNjcmVlblwiLHRbby5CTEVORF9NT0RFUy5PVkVSTEFZXT1cIm92ZXJsYXlcIix0W28uQkxFTkRfTU9ERVMuREFSS0VOXT1cImRhcmtlblwiLHRbby5CTEVORF9NT0RFUy5MSUdIVEVOXT1cImxpZ2h0ZW5cIix0W28uQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdPVwiY29sb3ItZG9kZ2VcIix0W28uQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl09XCJjb2xvci1idXJuXCIsdFtvLkJMRU5EX01PREVTLkhBUkRfTElHSFRdPVwiaGFyZC1saWdodFwiLHRbby5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXT1cInNvZnQtbGlnaHRcIix0W28uQkxFTkRfTU9ERVMuRElGRkVSRU5DRV09XCJkaWZmZXJlbmNlXCIsdFtvLkJMRU5EX01PREVTLkVYQ0xVU0lPTl09XCJleGNsdXNpb25cIix0W28uQkxFTkRfTU9ERVMuSFVFXT1cImh1ZVwiLHRbby5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXT1cInNhdHVyYXRlXCIsdFtvLkJMRU5EX01PREVTLkNPTE9SXT1cImNvbG9yXCIsdFtvLkJMRU5EX01PREVTLkxVTUlOT1NJVFldPVwibHVtaW5vc2l0eVwiKToodFtvLkJMRU5EX01PREVTLk5PUk1BTF09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5BRERdPVwibGlnaHRlclwiLHRbby5CTEVORF9NT0RFUy5NVUxUSVBMWV09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5TQ1JFRU5dPVwic291cmNlLW92ZXJcIix0W28uQkxFTkRfTU9ERVMuT1ZFUkxBWV09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5EQVJLRU5dPVwic291cmNlLW92ZXJcIix0W28uQkxFTkRfTU9ERVMuTElHSFRFTl09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5DT0xPUl9CVVJOXT1cInNvdXJjZS1vdmVyXCIsdFtvLkJMRU5EX01PREVTLkhBUkRfTElHSFRdPVwic291cmNlLW92ZXJcIix0W28uQkxFTkRfTU9ERVMuU09GVF9MSUdIVF09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5ESUZGRVJFTkNFXT1cInNvdXJjZS1vdmVyXCIsdFtvLkJMRU5EX01PREVTLkVYQ0xVU0lPTl09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5IVUVdPVwic291cmNlLW92ZXJcIix0W28uQkxFTkRfTU9ERVMuU0FUVVJBVElPTl09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5DT0xPUl09XCJzb3VyY2Utb3ZlclwiLHRbby5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXT1cInNvdXJjZS1vdmVyXCIpLHR9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1pO3ZhciBvPXQoXCIuLi8uLi8uLi9jb25zdFwiKSxzPXQoXCIuL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXNcIiksYT1uKHMpfSx7XCIuLi8uLi8uLi9jb25zdFwiOjQ0LFwiLi9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXCI6Nzh9XSw4MDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwiLi4vLi4vY29uc3RcIikscz10KFwiLi4vLi4vc2V0dGluZ3NcIiksYT1uKHMpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLnJlbmRlcmVyPWUsdGhpcy5jb3VudD0wLHRoaXMuY2hlY2tDb3VudD0wLHRoaXMubWF4SWRsZT1hLmRlZmF1bHQuR0NfTUFYX0lETEUsdGhpcy5jaGVja0NvdW50TWF4PWEuZGVmYXVsdC5HQ19NQVhfQ0hFQ0tfQ09VTlQsdGhpcy5tb2RlPWEuZGVmYXVsdC5HQ19NT0RFfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmNvdW50KyssXG50aGlzLm1vZGUhPT1vLkdDX01PREVTLk1BTlVBTCYmKHRoaXMuY2hlY2tDb3VudCsrLHRoaXMuY2hlY2tDb3VudD50aGlzLmNoZWNrQ291bnRNYXgmJih0aGlzLmNoZWNrQ291bnQ9MCx0aGlzLnJ1bigpKSl9LHQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyLGU9dC5fbWFuYWdlZFRleHR1cmVzLHI9ITEsbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dOyFpLl9nbFJlbmRlclRhcmdldHMmJnRoaXMuY291bnQtaS50b3VjaGVkPnRoaXMubWF4SWRsZSYmKHQuZGVzdHJveVRleHR1cmUoaSwhMCksZVtuXT1udWxsLHI9ITApfWlmKHIpe2Zvcih2YXIgbz0wLHM9MDtzPGUubGVuZ3RoO3MrKyludWxsIT09ZVtzXSYmKGVbbysrXT1lW3NdKTtlLmxlbmd0aD1vfX0sdC5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7dC5fdGV4dHVyZSYmdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzJiZlLmRlc3Ryb3lUZXh0dXJlKHQuX3RleHR1cmUsITApO2Zvcih2YXIgcj10LmNoaWxkcmVuLmxlbmd0aC0xO3I+PTA7ci0tKXRoaXMudW5sb2FkKHQuY2hpbGRyZW5bcl0pfSx0fSgpO3IuZGVmYXVsdD11fSx7XCIuLi8uLi9jb25zdFwiOjQ0LFwiLi4vLi4vc2V0dGluZ3NcIjo5OX1dLDgxOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoXCJwaXhpLWdsLWNvcmVcIikscz10KFwiLi4vLi4vY29uc3RcIiksYT10KFwiLi91dGlscy9SZW5kZXJUYXJnZXRcIiksdT1uKGEpLGw9dChcIi4uLy4uL3V0aWxzXCIpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLnJlbmRlcmVyPWUsdGhpcy5nbD1lLmdsLHRoaXMuX21hbmFnZWRUZXh0dXJlcz1bXX1yZXR1cm4gdC5wcm90b3R5cGUuYmluZFRleHR1cmU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmdldFRleHR1cmU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmdsLG49ISF0Ll9nbFJlbmRlclRhcmdldHM7aWYoIXQuaGFzTG9hZGVkKXJldHVybiBudWxsO3ZhciBpPXRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlcztpZih2b2lkIDA9PT1lKXtlPTA7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDsrK2EpaWYoaVthXT09PXQpe2U9YTticmVha319aVtlXT10LHIuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUwK2UpO3ZhciBsPXQuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07aWYobCluP3QuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS5yZXNpemUodC53aWR0aCx0LmhlaWdodCk6bC51cGxvYWQodC5zb3VyY2UpO2Vsc2V7aWYobil7dmFyIGg9bmV3IHUuZGVmYXVsdCh0aGlzLmdsLHQud2lkdGgsdC5oZWlnaHQsdC5zY2FsZU1vZGUsdC5yZXNvbHV0aW9uKTtoLnJlc2l6ZSh0LndpZHRoLHQuaGVpZ2h0KSx0Ll9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF09aCxsPWgudGV4dHVyZX1lbHNlIGw9bmV3IG8uR0xUZXh0dXJlKHRoaXMuZ2wsbnVsbCxudWxsLG51bGwsbnVsbCksbC5iaW5kKGUpLGwucHJlbXVsdGlwbHlBbHBoYT0hMCxsLnVwbG9hZCh0LnNvdXJjZSk7dC5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXT1sLHQub24oXCJ1cGRhdGVcIix0aGlzLnVwZGF0ZVRleHR1cmUsdGhpcyksdC5vbihcImRpc3Bvc2VcIix0aGlzLmRlc3Ryb3lUZXh0dXJlLHRoaXMpLHRoaXMuX21hbmFnZWRUZXh0dXJlcy5wdXNoKHQpLHQuaXNQb3dlck9mVHdvPyh0Lm1pcG1hcCYmbC5lbmFibGVNaXBtYXAoKSx0LndyYXBNb2RlPT09cy5XUkFQX01PREVTLkNMQU1QP2wuZW5hYmxlV3JhcENsYW1wKCk6dC53cmFwTW9kZT09PXMuV1JBUF9NT0RFUy5SRVBFQVQ/bC5lbmFibGVXcmFwUmVwZWF0KCk6bC5lbmFibGVXcmFwTWlycm9yUmVwZWF0KCkpOmwuZW5hYmxlV3JhcENsYW1wKCksdC5zY2FsZU1vZGU9PT1zLlNDQUxFX01PREVTLk5FQVJFU1Q/bC5lbmFibGVOZWFyZXN0U2NhbGluZygpOmwuZW5hYmxlTGluZWFyU2NhbGluZygpfXJldHVybiBsfSx0LnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZT1mdW5jdGlvbih0LGUpe2lmKHQ9dC5iYXNlVGV4dHVyZXx8dCx0Lmhhc0xvYWRlZCYmdC5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSYmKHRoaXMucmVuZGVyZXIudW5iaW5kVGV4dHVyZSh0KSx0Ll9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLmRlc3Ryb3koKSx0Lm9mZihcInVwZGF0ZVwiLHRoaXMudXBkYXRlVGV4dHVyZSx0aGlzKSx0Lm9mZihcImRpc3Bvc2VcIix0aGlzLmRlc3Ryb3lUZXh0dXJlLHRoaXMpLGRlbGV0ZSB0Ll9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLCFlKSl7dmFyIHI9dGhpcy5fbWFuYWdlZFRleHR1cmVzLmluZGV4T2YodCk7ciE9PS0xJiYoMCxsLnJlbW92ZUl0ZW1zKSh0aGlzLl9tYW5hZ2VkVGV4dHVyZXMsciwxKX19LHQucHJvdG90eXBlLnJlbW92ZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsrK3Qpe3ZhciBlPXRoaXMuX21hbmFnZWRUZXh0dXJlc1t0XTtlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdJiZkZWxldGUgZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX21hbmFnZWRUZXh0dXJlcy5sZW5ndGg7Kyt0KXt2YXIgZT10aGlzLl9tYW5hZ2VkVGV4dHVyZXNbdF07dGhpcy5kZXN0cm95VGV4dHVyZShlLCEwKSxlLm9mZihcInVwZGF0ZVwiLHRoaXMudXBkYXRlVGV4dHVyZSx0aGlzKSxlLm9mZihcImRpc3Bvc2VcIix0aGlzLmRlc3Ryb3lUZXh0dXJlLHRoaXMpfXRoaXMuX21hbmFnZWRUZXh0dXJlcz1udWxsfSx0fSgpO3IuZGVmYXVsdD1ofSx7XCIuLi8uLi9jb25zdFwiOjQ0LFwiLi4vLi4vdXRpbHNcIjoxMjAsXCIuL3V0aWxzL1JlbmRlclRhcmdldFwiOjk0LFwicGl4aS1nbC1jb3JlXCI6MTJ9XSw4MjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi9TeXN0ZW1SZW5kZXJlclwiKSx1PW4oYSksbD10KFwiLi9tYW5hZ2Vycy9NYXNrTWFuYWdlclwiKSxoPW4obCksYz10KFwiLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlclwiKSxmPW4oYyksZD10KFwiLi9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyXCIpLHA9bihkKSx2PXQoXCIuL3V0aWxzL1JlbmRlclRhcmdldFwiKSx5PW4odiksZz10KFwiLi91dGlscy9PYmplY3RSZW5kZXJlclwiKSxtPW4oZyksXz10KFwiLi9UZXh0dXJlTWFuYWdlclwiKSxiPW4oXykseD10KFwiLi4vLi4vdGV4dHVyZXMvQmFzZVRleHR1cmVcIiksVD1uKHgpLHc9dChcIi4vVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3JcIiksRT1uKHcpLFM9dChcIi4vV2ViR0xTdGF0ZVwiKSxPPW4oUyksUD10KFwiLi91dGlscy9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aVwiKSxNPW4oUCksQz10KFwiLi91dGlscy92YWxpZGF0ZUNvbnRleHRcIiksUj1uKEMpLEE9dChcIi4uLy4uL3V0aWxzXCIpLEk9dChcInBpeGktZ2wtY29yZVwiKSxEPW4oSSksTD10KFwiLi4vLi4vY29uc3RcIiksTj0wLEY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpKHRoaXMsZSk7dmFyIGE9byh0aGlzLHQuY2FsbCh0aGlzLFwiV2ViR0xcIixyLG4scykpO3JldHVybiBhLmxlZ2FjeT0hIXMubGVnYWN5LGEubGVnYWN5JiYoRC5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRT0hMCksYS50eXBlPUwuUkVOREVSRVJfVFlQRS5XRUJHTCxhLmhhbmRsZUNvbnRleHRMb3N0PWEuaGFuZGxlQ29udGV4dExvc3QuYmluZChhKSxhLmhhbmRsZUNvbnRleHRSZXN0b3JlZD1hLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKGEpLGEudmlldy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLGEuaGFuZGxlQ29udGV4dExvc3QsITEpLGEudmlldy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIixhLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwhMSksYS5fY29udGV4dE9wdGlvbnM9e2FscGhhOmEudHJhbnNwYXJlbnQsYW50aWFsaWFzOnMuYW50aWFsaWFzLHByZW11bHRpcGxpZWRBbHBoYTphLnRyYW5zcGFyZW50JiZcIm5vdE11bHRpcGxpZWRcIiE9PWEudHJhbnNwYXJlbnQsc3RlbmNpbDohMCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6cy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXJ9LGEuX2JhY2tncm91bmRDb2xvclJnYmFbM109YS50cmFuc3BhcmVudD8wOjEsYS5tYXNrTWFuYWdlcj1uZXcgaC5kZWZhdWx0KGEpLGEuc3RlbmNpbE1hbmFnZXI9bmV3IGYuZGVmYXVsdChhKSxhLmVtcHR5UmVuZGVyZXI9bmV3IG0uZGVmYXVsdChhKSxhLmN1cnJlbnRSZW5kZXJlcj1hLmVtcHR5UmVuZGVyZXIsYS5pbml0UGx1Z2lucygpLHMuY29udGV4dCYmKDAsUi5kZWZhdWx0KShzLmNvbnRleHQpLGEuZ2w9cy5jb250ZXh0fHxELmRlZmF1bHQuY3JlYXRlQ29udGV4dChhLnZpZXcsYS5fY29udGV4dE9wdGlvbnMpLGEuQ09OVEVYVF9VSUQ9TisrLGEuc3RhdGU9bmV3IE8uZGVmYXVsdChhLmdsKSxhLnJlbmRlcmluZ1RvU2NyZWVuPSEwLGEuYm91bmRUZXh0dXJlcz1udWxsLGEuX2FjdGl2ZVNoYWRlcj1udWxsLGEuX2FjdGl2ZVZhbz1udWxsLGEuX2FjdGl2ZVJlbmRlclRhcmdldD1udWxsLGEuX2luaXRDb250ZXh0KCksYS5maWx0ZXJNYW5hZ2VyPW5ldyBwLmRlZmF1bHQoYSksYS5kcmF3TW9kZXM9KDAsTS5kZWZhdWx0KShhLmdsKSxhLl9uZXh0VGV4dHVyZUxvY2F0aW9uPTAsYS5zZXRCbGVuZE1vZGUoMCksYX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLl9pbml0Q29udGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5pc0NvbnRleHRMb3N0KCkmJnQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpJiZ0LmdldEV4dGVuc2lvbihcIldFQkdMX2xvc2VfY29udGV4dFwiKS5yZXN0b3JlQ29udGV4dCgpO3ZhciBlPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO3RoaXMuYm91bmRUZXh0dXJlcz1uZXcgQXJyYXkoZSksdGhpcy5lbXB0eVRleHR1cmVzPW5ldyBBcnJheShlKSx0aGlzLnRleHR1cmVNYW5hZ2VyPW5ldyBiLmRlZmF1bHQodGhpcyksdGhpcy50ZXh0dXJlR0M9bmV3IEUuZGVmYXVsdCh0aGlzKSx0aGlzLnN0YXRlLnJlc2V0VG9EZWZhdWx0KCksdGhpcy5yb290UmVuZGVyVGFyZ2V0PW5ldyB5LmRlZmF1bHQodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LG51bGwsdGhpcy5yZXNvbHV0aW9uLCghMCkpLHRoaXMucm9vdFJlbmRlclRhcmdldC5jbGVhckNvbG9yPXRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEsdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHRoaXMucm9vdFJlbmRlclRhcmdldCk7dmFyIHI9bmV3IEQuZGVmYXVsdC5HTFRleHR1cmUuZnJvbURhdGEodCxudWxsLDEsMSksbj17X2dsVGV4dHVyZXM6e319O24uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF09e307Zm9yKHZhciBpPTA7aTxlO2krKyl7dmFyIG89bmV3IFQuZGVmYXVsdDtvLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdPXIsdGhpcy5ib3VuZFRleHR1cmVzW2ldPW4sdGhpcy5lbXB0eVRleHR1cmVzW2ldPW8sdGhpcy5iaW5kVGV4dHVyZShudWxsLGkpfXRoaXMuZW1pdChcImNvbnRleHRcIix0KSx0aGlzLnJlc2l6ZSh0aGlzLnNjcmVlbi53aWR0aCx0aGlzLnNjcmVlbi5oZWlnaHQpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLHIsbixpKXtpZih0aGlzLnJlbmRlcmluZ1RvU2NyZWVuPSFlLHRoaXMuZW1pdChcInByZXJlbmRlclwiKSx0aGlzLmdsJiYhdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpe2lmKHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb249MCxlfHwodGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkPXQpLCFpKXt2YXIgbz10LnBhcmVudDt0LnBhcmVudD10aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCx0LnVwZGF0ZVRyYW5zZm9ybSgpLHQucGFyZW50PW99dGhpcy5iaW5kUmVuZGVyVGV4dHVyZShlLG4pLHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCksKHZvaWQgMCE9PXI/cjp0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSYmdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKCksdC5yZW5kZXJXZWJHTCh0aGlzKSx0aGlzLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpLHRoaXMudGV4dHVyZUdDLnVwZGF0ZSgpLHRoaXMuZW1pdChcInBvc3RyZW5kZXJcIil9fSxlLnByb3RvdHlwZS5zZXRPYmplY3RSZW5kZXJlcj1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRSZW5kZXJlciE9PXQmJih0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCksdGhpcy5jdXJyZW50UmVuZGVyZXI9dCx0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpKX0sZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcil9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3UuZGVmYXVsdC5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0LGUpLHRoaXMucm9vdFJlbmRlclRhcmdldC5yZXNpemUodCxlKSx0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQ9PT10aGlzLnJvb3RSZW5kZXJUYXJnZXQmJih0aGlzLnJvb3RSZW5kZXJUYXJnZXQuYWN0aXZhdGUoKSx0aGlzLl9hY3RpdmVTaGFkZXImJih0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD10aGlzLnJvb3RSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KCEwKSkpfSxlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5zZXRCbGVuZE1vZGUodCl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC5jbGVhcih0KX0sZS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtPWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm09dH0sZS5wcm90b3R5cGUuY2xlYXJSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5iYXNlVGV4dHVyZSxuPXIuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtyZXR1cm4gbiYmbi5jbGVhcihlKSx0aGlzfSxlLnByb3RvdHlwZS5iaW5kUmVuZGVyVGV4dHVyZT1mdW5jdGlvbih0LGUpe3ZhciByPXZvaWQgMDtpZih0KXt2YXIgbj10LmJhc2VUZXh0dXJlO24uX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXXx8dGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKG4sMCksdGhpcy51bmJpbmRUZXh0dXJlKG4pLHI9bi5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdLHIuc2V0RnJhbWUodC5mcmFtZSl9ZWxzZSByPXRoaXMucm9vdFJlbmRlclRhcmdldDtyZXR1cm4gci50cmFuc2Zvcm09ZSx0aGlzLmJpbmRSZW5kZXJUYXJnZXQociksdGhpc30sZS5wcm90b3R5cGUuYmluZFJlbmRlclRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCYmKHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldD10LHQuYWN0aXZhdGUoKSx0aGlzLl9hY3RpdmVTaGFkZXImJih0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD10LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSghMCkpLHRoaXMuc3RlbmNpbE1hbmFnZXIuc2V0TWFza1N0YWNrKHQuc3RlbmNpbE1hc2tTdGFjaykpLHRoaXN9LGUucHJvdG90eXBlLmJpbmRTaGFkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWN0aXZlU2hhZGVyIT09dCYmKHRoaXMuX2FjdGl2ZVNoYWRlcj10LHQuYmluZCgpLGUhPT0hMSYmKHQudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeD10aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KCEwKSkpLHRoaXN9LGUucHJvdG90eXBlLmJpbmRUZXh0dXJlPWZ1bmN0aW9uKHQsZSxyKXtpZih0PXR8fHRoaXMuZW1wdHlUZXh0dXJlc1tlXSx0PXQuYmFzZVRleHR1cmV8fHQsdC50b3VjaGVkPXRoaXMudGV4dHVyZUdDLmNvdW50LHIpZT1lfHwwO2Vsc2V7Zm9yKHZhciBuPTA7bjx0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoO24rKylpZih0aGlzLmJvdW5kVGV4dHVyZXNbbl09PT10KXJldHVybiBuO3ZvaWQgMD09PWUmJih0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uKyssdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiU9dGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCxlPXRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGgtdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbi0xKX12YXIgaT10aGlzLmdsLG89dC5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtyZXR1cm4gbz8odGhpcy5ib3VuZFRleHR1cmVzW2VdPXQsaS5hY3RpdmVUZXh0dXJlKGkuVEVYVFVSRTArZSksaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsby50ZXh0dXJlKSk6dGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKHQsZSksZX0sZS5wcm90b3R5cGUudW5iaW5kVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO3Q9dC5iYXNlVGV4dHVyZXx8dDtmb3IodmFyIHI9MDtyPHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7cisrKXRoaXMuYm91bmRUZXh0dXJlc1tyXT09PXQmJih0aGlzLmJvdW5kVGV4dHVyZXNbcl09dGhpcy5lbXB0eVRleHR1cmVzW3JdLGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwK3IpLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMuZW1wdHlUZXh0dXJlc1tyXS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKSk7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmNyZWF0ZVZhbz1mdW5jdGlvbigpe3JldHVybiBuZXcgRC5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KHRoaXMuZ2wsdGhpcy5zdGF0ZS5hdHRyaWJTdGF0ZSl9LGUucHJvdG90eXBlLmJpbmRWYW89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVZhbz09PXQ/dGhpczoodD90LmJpbmQoKTp0aGlzLl9hY3RpdmVWYW8mJnRoaXMuX2FjdGl2ZVZhby51bmJpbmQoKSx0aGlzLl9hY3RpdmVWYW89dCx0aGlzKX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpLHRoaXMuX2FjdGl2ZVNoYWRlcj1udWxsLHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldD10aGlzLnJvb3RSZW5kZXJUYXJnZXQsdGhpcy5yb290UmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCksdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpLHRoaXN9LGUucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0PWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUuaGFuZGxlQ29udGV4dFJlc3RvcmVkPWZ1bmN0aW9uKCl7dGhpcy5faW5pdENvbnRleHQoKSx0aGlzLnRleHR1cmVNYW5hZ2VyLnJlbW92ZUFsbCgpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe3RoaXMuZGVzdHJveVBsdWdpbnMoKSx0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLmhhbmRsZUNvbnRleHRMb3N0KSx0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpLHRoaXMudGV4dHVyZU1hbmFnZXIuZGVzdHJveSgpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLGUpLHRoaXMudWlkPTAsdGhpcy5tYXNrTWFuYWdlci5kZXN0cm95KCksdGhpcy5zdGVuY2lsTWFuYWdlci5kZXN0cm95KCksdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLm1hc2tNYW5hZ2VyPW51bGwsdGhpcy5maWx0ZXJNYW5hZ2VyPW51bGwsdGhpcy50ZXh0dXJlTWFuYWdlcj1udWxsLHRoaXMuY3VycmVudFJlbmRlcmVyPW51bGwsdGhpcy5oYW5kbGVDb250ZXh0TG9zdD1udWxsLHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkPW51bGwsdGhpcy5fY29udGV4dE9wdGlvbnM9bnVsbCx0aGlzLmdsLnVzZVByb2dyYW0obnVsbCksdGhpcy5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIikmJnRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpLmxvc2VDb250ZXh0KCksdGhpcy5nbD1udWxsfSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1GLEEucGx1Z2luVGFyZ2V0Lm1peGluKEYpfSx7XCIuLi8uLi9jb25zdFwiOjQ0LFwiLi4vLi4vdGV4dHVyZXMvQmFzZVRleHR1cmVcIjoxMDksXCIuLi8uLi91dGlsc1wiOjEyMCxcIi4uL1N5c3RlbVJlbmRlcmVyXCI6NzQsXCIuL1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yXCI6ODAsXCIuL1RleHR1cmVNYW5hZ2VyXCI6ODEsXCIuL1dlYkdMU3RhdGVcIjo4MyxcIi4vbWFuYWdlcnMvRmlsdGVyTWFuYWdlclwiOjg4LFwiLi9tYW5hZ2Vycy9NYXNrTWFuYWdlclwiOjg5LFwiLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlclwiOjkwLFwiLi91dGlscy9PYmplY3RSZW5kZXJlclwiOjkyLFwiLi91dGlscy9SZW5kZXJUYXJnZXRcIjo5NCxcIi4vdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGlcIjo5NyxcIi4vdXRpbHMvdmFsaWRhdGVDb250ZXh0XCI6OTgsXCJwaXhpLWdsLWNvcmVcIjoxMn1dLDgzOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoXCIuL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVwiKSxzPW4obyksYT0wLHU9MSxsPTIsaD0zLGM9NCxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKHRoaXMsdCksdGhpcy5hY3RpdmVTdGF0ZT1uZXcgVWludDhBcnJheSgxNiksdGhpcy5kZWZhdWx0U3RhdGU9bmV3IFVpbnQ4QXJyYXkoMTYpLHRoaXMuZGVmYXVsdFN0YXRlWzBdPTEsdGhpcy5zdGFja0luZGV4PTAsdGhpcy5zdGFjaz1bXSx0aGlzLmdsPWUsdGhpcy5tYXhBdHRyaWJzPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1ZFUlRFWF9BVFRSSUJTKSx0aGlzLmF0dHJpYlN0YXRlPXt0ZW1wQXR0cmliU3RhdGU6bmV3IEFycmF5KHRoaXMubWF4QXR0cmlicyksYXR0cmliU3RhdGU6bmV3IEFycmF5KHRoaXMubWF4QXR0cmlicyl9LHRoaXMuYmxlbmRNb2Rlcz0oMCxzLmRlZmF1bHQpKGUpLHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uPWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdFwiKX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhY2tbdGhpcy5zdGFja0luZGV4XTt0fHwodD10aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF09bmV3IFVpbnQ4QXJyYXkoMTYpKSwrK3RoaXMuc3RhY2tJbmRleDtmb3IodmFyIGU9MDtlPHRoaXMuYWN0aXZlU3RhdGUubGVuZ3RoO2UrKyl0W2VdPXRoaXMuYWN0aXZlU3RhdGVbZV19LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhY2tbLS10aGlzLnN0YWNrSW5kZXhdO3RoaXMuc2V0U3RhdGUodCl9LHQucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuc2V0QmxlbmQodFthXSksdGhpcy5zZXREZXB0aFRlc3QodFt1XSksdGhpcy5zZXRGcm9udEZhY2UodFtsXSksdGhpcy5zZXRDdWxsRmFjZSh0W2hdKSx0aGlzLnNldEJsZW5kTW9kZSh0W2NdKX0sdC5wcm90b3R5cGUuc2V0QmxlbmQ9ZnVuY3Rpb24odCl7dD10PzE6MCx0aGlzLmFjdGl2ZVN0YXRlW2FdIT09dCYmKHRoaXMuYWN0aXZlU3RhdGVbYV09dCx0aGlzLmdsW3Q/XCJlbmFibGVcIjpcImRpc2FibGVcIl0odGhpcy5nbC5CTEVORCkpfSx0LnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9ZnVuY3Rpb24odCl7dCE9PXRoaXMuYWN0aXZlU3RhdGVbY10mJih0aGlzLmFjdGl2ZVN0YXRlW2NdPXQsdGhpcy5nbC5ibGVuZEZ1bmModGhpcy5ibGVuZE1vZGVzW3RdWzBdLHRoaXMuYmxlbmRNb2Rlc1t0XVsxXSkpfSx0LnByb3RvdHlwZS5zZXREZXB0aFRlc3Q9ZnVuY3Rpb24odCl7dD10PzE6MCx0aGlzLmFjdGl2ZVN0YXRlW3VdIT09dCYmKHRoaXMuYWN0aXZlU3RhdGVbdV09dCx0aGlzLmdsW3Q/XCJlbmFibGVcIjpcImRpc2FibGVcIl0odGhpcy5nbC5ERVBUSF9URVNUKSl9LHQucHJvdG90eXBlLnNldEN1bGxGYWNlPWZ1bmN0aW9uKHQpe3Q9dD8xOjAsdGhpcy5hY3RpdmVTdGF0ZVtoXSE9PXQmJih0aGlzLmFjdGl2ZVN0YXRlW2hdPXQsdGhpcy5nbFt0P1wiZW5hYmxlXCI6XCJkaXNhYmxlXCJdKHRoaXMuZ2wuQ1VMTF9GQUNFKSl9LHQucHJvdG90eXBlLnNldEZyb250RmFjZT1mdW5jdGlvbih0KXt0PXQ/MTowLHRoaXMuYWN0aXZlU3RhdGVbbF0hPT10JiYodGhpcy5hY3RpdmVTdGF0ZVtsXT10LHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdD9cIkNXXCI6XCJDQ1dcIl0pKX0sdC5wcm90b3R5cGUucmVzZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7dCsrKXRoaXMuYXR0cmliU3RhdGUudGVtcEF0dHJpYlN0YXRlW3RdPTA7Zm9yKHZhciBlPTA7ZTx0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlLmxlbmd0aDtlKyspdGhpcy5hdHRyaWJTdGF0ZS5hdHRyaWJTdGF0ZVtlXT0wO2Zvcih2YXIgcj0xO3I8dGhpcy5tYXhBdHRyaWJzO3IrKyl0aGlzLmdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShyKX0sdC5wcm90b3R5cGUucmVzZXRUb0RlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiYmdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKG51bGwpLHRoaXMucmVzZXRBdHRyaWJ1dGVzKCk7Zm9yKHZhciB0PTA7dDx0aGlzLmFjdGl2ZVN0YXRlLmxlbmd0aDsrK3QpdGhpcy5hY3RpdmVTdGF0ZVt0XT0zMjt0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMSksdGhpcy5zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSl9LHR9KCk7ci5kZWZhdWx0PWZ9LHtcIi4vdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXCI6OTZ9XSw4NDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHM9dChcIi4vZXh0cmFjdFVuaWZvcm1zRnJvbVNyY1wiKSxhPW4ocyksdT10KFwiLi4vLi4vLi4vdXRpbHNcIiksbD10KFwiLi4vLi4vLi4vY29uc3RcIiksaD10KFwiLi4vLi4vLi4vc2V0dGluZ3NcIiksYz1uKGgpLGY9e30sZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4pe2kodGhpcyx0KSx0aGlzLnZlcnRleFNyYz1lfHx0LmRlZmF1bHRWZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYz1yfHx0LmRlZmF1bHRGcmFnbWVudFNyYyx0aGlzLmJsZW5kTW9kZT1sLkJMRU5EX01PREVTLk5PUk1BTCx0aGlzLnVuaWZvcm1EYXRhPW58fCgwLGEuZGVmYXVsdCkodGhpcy52ZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYyxcInByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJcIiksdGhpcy51bmlmb3Jtcz17fTtmb3IodmFyIG8gaW4gdGhpcy51bmlmb3JtRGF0YSl0aGlzLnVuaWZvcm1zW29dPXRoaXMudW5pZm9ybURhdGFbb10udmFsdWU7dGhpcy5nbFNoYWRlcnM9e30sZlt0aGlzLnZlcnRleFNyYyt0aGlzLmZyYWdtZW50U3JjXXx8KGZbdGhpcy52ZXJ0ZXhTcmMrdGhpcy5mcmFnbWVudFNyY109KDAsdS51aWQpKCkpLHRoaXMuZ2xTaGFkZXJLZXk9Zlt0aGlzLnZlcnRleFNyYyt0aGlzLmZyYWdtZW50U3JjXSx0aGlzLnBhZGRpbmc9NCx0aGlzLnJlc29sdXRpb249Yy5kZWZhdWx0LlJFU09MVVRJT04sdGhpcy5lbmFibGVkPSEwfXJldHVybiB0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LGUscixuLGkpe3QuYXBwbHlGaWx0ZXIodGhpcyxlLHIsbil9LG8odCxudWxsLFt7a2V5OlwiZGVmYXVsdFZlcnRleFNyY1wiLGdldDpmdW5jdGlvbigpe3JldHVybltcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJ1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcIixcInVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XCIsXCJ2b2lkIG1haW4odm9pZCl7XCIsXCIgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcIixcIiAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcIixcIiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkIDtcIixcIn1cIl0uam9pbihcIlxcblwiKX19LHtrZXk6XCJkZWZhdWx0RnJhZ21lbnRTcmNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5bXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInVuaWZvcm0gc2FtcGxlcjJEIGZpbHRlclNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCl7XCIsXCIgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKGZpbHRlclNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XCIsXCIgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XCIsXCIgICB2ZWM0IGNvbG9yO1wiLFwiICAgaWYobW9kKHZGaWx0ZXJDb29yZC54LCAxLjApID4gMC41KVwiLFwiICAge1wiLFwiICAgICBjb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTtcIixcIiAgIH1cIixcIiAgIGVsc2VcIixcIiAgIHtcIixcIiAgICAgY29sb3IgPSB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCk7XCIsXCIgICB9XCIsXCIgICBnbF9GcmFnQ29sb3IgPSBtaXgoc2FtcGxlLCBtYXNreSwgMC41KTtcIixcIiAgIGdsX0ZyYWdDb2xvciAqPSBzYW1wbGUuYTtcIixcIn1cIl0uam9pbihcIlxcblwiKX19XSksdH0oKTtyLmRlZmF1bHQ9ZH0se1wiLi4vLi4vLi4vY29uc3RcIjo0NCxcIi4uLy4uLy4uL3NldHRpbmdzXCI6OTksXCIuLi8uLi8uLi91dGlsc1wiOjEyMCxcIi4vZXh0cmFjdFVuaWZvcm1zRnJvbVNyY1wiOjg1fV0sODU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSxyKXt2YXIgbj1vKHQsciksaT1vKGUscik7cmV0dXJuIE9iamVjdC5hc3NpZ24obixpKX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT1uZXcgUmVnRXhwKFwiXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfGZpbHRlckFyZWF8ZmlsdGVyQ2xhbXApJFwiKSxyPXt9LG49dm9pZCAwLGk9dC5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnNwbGl0KC9cXHMqO1xccyovKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWlbb10udHJpbSgpO2lmKHMuaW5kZXhPZihcInVuaWZvcm1cIik+LTEpe3ZhciBhPXMuc3BsaXQoXCIgXCIpLGw9YVsxXSxoPWFbMl0sYz0xO2guaW5kZXhPZihcIltcIik+LTEmJihuPWguc3BsaXQoL1xcW3xdLyksaD1uWzBdLGMqPU51bWJlcihuWzFdKSksaC5tYXRjaChlKXx8KHJbaF09e3ZhbHVlOnUobCxjKSxuYW1lOmgsdHlwZTpsfSl9fXJldHVybiByfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aTt2YXIgcz10KFwicGl4aS1nbC1jb3JlXCIpLGE9bihzKSx1PWEuZGVmYXVsdC5zaGFkZXIuZGVmYXVsdFZhbHVlfSx7XCJwaXhpLWdsLWNvcmVcIjoxMn1dLDg2OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUscil7dmFyIG49dC5pZGVudGl0eSgpO3JldHVybiBuLnRyYW5zbGF0ZShlLngvci53aWR0aCxlLnkvci5oZWlnaHQpLG4uc2NhbGUoci53aWR0aCxyLmhlaWdodCksbn1mdW5jdGlvbiBpKHQsZSxyKXt2YXIgbj10LmlkZW50aXR5KCk7bi50cmFuc2xhdGUoZS54L3Iud2lkdGgsZS55L3IuaGVpZ2h0KTt2YXIgaT1yLndpZHRoL2Uud2lkdGgsbz1yLmhlaWdodC9lLmhlaWdodDtyZXR1cm4gbi5zY2FsZShpLG8pLG59ZnVuY3Rpb24gbyh0LGUscixuKXt2YXIgaT1uLndvcmxkVHJhbnNmb3JtLmNvcHkocy5NYXRyaXguVEVNUF9NQVRSSVgpLG89bi5fdGV4dHVyZS5iYXNlVGV4dHVyZSxhPXQuaWRlbnRpdHkoKSx1PXIuaGVpZ2h0L3Iud2lkdGg7YS50cmFuc2xhdGUoZS54L3Iud2lkdGgsZS55L3IuaGVpZ2h0KSxhLnNjYWxlKDEsdSk7dmFyIGw9ci53aWR0aC9vLndpZHRoLGg9ci5oZWlnaHQvby5oZWlnaHQ7cmV0dXJuIGkudHgvPW8ud2lkdGgqbCxpLnR5Lz1vLndpZHRoKmwsaS5pbnZlcnQoKSxhLnByZXBlbmQoaSksYS5zY2FsZSgxLDEvdSksYS5zY2FsZShsLGgpLGEudHJhbnNsYXRlKG4uYW5jaG9yLngsbi5hbmNob3IueSksYX1yLl9fZXNNb2R1bGU9ITAsci5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeD1uLHIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4PWksci5jYWxjdWxhdGVTcHJpdGVNYXRyaXg9bzt2YXIgcz10KFwiLi4vLi4vLi4vbWF0aFwiKX0se1wiLi4vLi4vLi4vbWF0aFwiOjY4fV0sODc6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFwiLi4vRmlsdGVyXCIpLHU9bihhKSxsPXQoXCIuLi8uLi8uLi8uLi9tYXRoXCIpLGg9KHQoXCJwYXRoXCIpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aSh0aGlzLGUpO3ZhciBuPW5ldyBsLk1hdHJpeCxzPW8odGhpcyx0LmNhbGwodGhpcyxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIixcInZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIC8vIGNoZWNrIGNsaXAhIHRoaXMgd2lsbCBzdG9wIHRoZSBtYXNrIGJsZWVkaW5nIG91dCBmcm9tIHRoZSBlZGdlc1xcbiAgICB2ZWMyIHRleHQgPSBhYnMoIHZNYXNrQ29vcmQgLSAwLjUgKTtcXG4gICAgdGV4dCA9IHN0ZXAoMC41LCB0ZXh0KTtcXG5cXG4gICAgZmxvYXQgY2xpcCA9IDEuMCAtIG1heCh0ZXh0LnksIHRleHQueCk7XFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAobWFza3kuciAqIG1hc2t5LmEgKiBhbHBoYSAqIGNsaXApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcmlnaW5hbDtcXG59XFxuXCIpKTtyZXR1cm4gci5yZW5kZXJhYmxlPSExLHMubWFza1Nwcml0ZT1yLHMubWFza01hdHJpeD1uLHN9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5tYXNrU3ByaXRlO3RoaXMudW5pZm9ybXMubWFzaz1uLl90ZXh0dXJlLHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXg9dC5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LG4pLHRoaXMudW5pZm9ybXMuYWxwaGE9bi53b3JsZEFscGhhLHQuYXBwbHlGaWx0ZXIodGhpcyxlLHIpfSxlfSh1LmRlZmF1bHQpKTtyLmRlZmF1bHQ9aH0se1wiLi4vLi4vLi4vLi4vbWF0aFwiOjY4LFwiLi4vRmlsdGVyXCI6ODQscGF0aDoyMn1dLDg4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiBhKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHU9dChcIi4vV2ViR0xNYW5hZ2VyXCIpLGw9aSh1KSxoPXQoXCIuLi91dGlscy9SZW5kZXJUYXJnZXRcIiksYz1pKGgpLGY9dChcIi4uL3V0aWxzL1F1YWRcIiksZD1pKGYpLHA9dChcIi4uLy4uLy4uL21hdGhcIiksdj10KFwiLi4vLi4vLi4vU2hhZGVyXCIpLHk9aSh2KSxnPXQoXCIuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXNcIiksbT1uKGcpLF89dChcImJpdC10d2lkZGxlXCIpLGI9aShfKSx4PWZ1bmN0aW9uIHQoKXthKHRoaXMsdCksdGhpcy5yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLnNvdXJjZUZyYW1lPW5ldyBwLlJlY3RhbmdsZSx0aGlzLmRlc3RpbmF0aW9uRnJhbWU9bmV3IHAuUmVjdGFuZ2xlLHRoaXMuZmlsdGVycz1bXSx0aGlzLnRhcmdldD1udWxsLHRoaXMucmVzb2x1dGlvbj0xfSxUPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7YSh0aGlzLGUpO3ZhciBuPW8odGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIG4uZ2w9bi5yZW5kZXJlci5nbCxuLnF1YWQ9bmV3IGQuZGVmYXVsdChuLmdsLHIuc3RhdGUuYXR0cmliU3RhdGUpLG4uc2hhZGVyQ2FjaGU9e30sbi5wb29sPXt9LG4uZmlsdGVyRGF0YT1udWxsLG59cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5wdXNoRmlsdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5yZW5kZXJlcixuPXRoaXMuZmlsdGVyRGF0YTtpZighbil7bj10aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZmlsdGVyU3RhY2s7dmFyIGk9bmV3IHg7aS5zb3VyY2VGcmFtZT1pLmRlc3RpbmF0aW9uRnJhbWU9dGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnNpemUsaS5yZW5kZXJUYXJnZXQ9ci5fYWN0aXZlUmVuZGVyVGFyZ2V0LHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJEYXRhPW49e2luZGV4OjAsc3RhY2s6W2ldfSx0aGlzLmZpbHRlckRhdGE9bn12YXIgbz1uLnN0YWNrWysrbi5pbmRleF07b3x8KG89bi5zdGFja1tuLmluZGV4XT1uZXcgeCk7dmFyIHM9ZVswXS5yZXNvbHV0aW9uLGE9MHxlWzBdLnBhZGRpbmcsdT10LmZpbHRlckFyZWF8fHQuZ2V0Qm91bmRzKCEwKSxsPW8uc291cmNlRnJhbWUsaD1vLmRlc3RpbmF0aW9uRnJhbWU7bC54PSh1Lngqc3wwKS9zLGwueT0odS55KnN8MCkvcyxsLndpZHRoPSh1LndpZHRoKnN8MCkvcyxsLmhlaWdodD0odS5oZWlnaHQqc3wwKS9zLG4uc3RhY2tbMF0ucmVuZGVyVGFyZ2V0LnRyYW5zZm9ybXx8bC5maXQobi5zdGFja1swXS5kZXN0aW5hdGlvbkZyYW1lKSxsLnBhZChhKSxoLndpZHRoPWwud2lkdGgsaC5oZWlnaHQ9bC5oZWlnaHQ7dmFyIGM9dGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQoci5nbCxsLndpZHRoLGwuaGVpZ2h0LHMpO28udGFyZ2V0PXQsby5maWx0ZXJzPWUsby5yZXNvbHV0aW9uPXMsby5yZW5kZXJUYXJnZXQ9YyxjLnNldEZyYW1lKGgsbCksci5iaW5kUmVuZGVyVGFyZ2V0KGMpLGMuY2xlYXIoKX0sZS5wcm90b3R5cGUucG9wRmlsdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5maWx0ZXJEYXRhLGU9dC5zdGFja1t0LmluZGV4LTFdLHI9dC5zdGFja1t0LmluZGV4XTt0aGlzLnF1YWQubWFwKHIucmVuZGVyVGFyZ2V0LnNpemUsci5zb3VyY2VGcmFtZSkudXBsb2FkKCk7dmFyIG49ci5maWx0ZXJzO2lmKDE9PT1uLmxlbmd0aCluWzBdLmFwcGx5KHRoaXMsci5yZW5kZXJUYXJnZXQsZS5yZW5kZXJUYXJnZXQsITEsciksdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KHIucmVuZGVyVGFyZ2V0KTtlbHNle3ZhciBpPXIucmVuZGVyVGFyZ2V0LG89dGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCxyLnNvdXJjZUZyYW1lLndpZHRoLHIuc291cmNlRnJhbWUuaGVpZ2h0LHIucmVzb2x1dGlvbik7by5zZXRGcmFtZShyLmRlc3RpbmF0aW9uRnJhbWUsci5zb3VyY2VGcmFtZSksby5jbGVhcigpO3ZhciBzPTA7Zm9yKHM9MDtzPG4ubGVuZ3RoLTE7KytzKXtuW3NdLmFwcGx5KHRoaXMsaSxvLCEwLHIpO3ZhciBhPWk7aT1vLG89YX1uW3NdLmFwcGx5KHRoaXMsaSxlLnJlbmRlclRhcmdldCwhMSxyKSx0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQoaSksdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KG8pfXQuaW5kZXgtLSwwPT09dC5pbmRleCYmKHRoaXMuZmlsdGVyRGF0YT1udWxsKX0sZS5wcm90b3R5cGUuYXBwbHlGaWx0ZXI9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5yZW5kZXJlcixvPWkuZ2wscz10LmdsU2hhZGVyc1tpLkNPTlRFWFRfVUlEXTtzfHwodC5nbFNoYWRlcktleT8ocz10aGlzLnNoYWRlckNhY2hlW3QuZ2xTaGFkZXJLZXldLHN8fChzPW5ldyB5LmRlZmF1bHQodGhpcy5nbCx0LnZlcnRleFNyYyx0LmZyYWdtZW50U3JjKSx0LmdsU2hhZGVyc1tpLkNPTlRFWFRfVUlEXT10aGlzLnNoYWRlckNhY2hlW3QuZ2xTaGFkZXJLZXldPXMpKTpzPXQuZ2xTaGFkZXJzW2kuQ09OVEVYVF9VSURdPW5ldyB5LmRlZmF1bHQodGhpcy5nbCx0LnZlcnRleFNyYyx0LmZyYWdtZW50U3JjKSxpLmJpbmRWYW8obnVsbCksdGhpcy5xdWFkLmluaXRWYW8ocykpLGkuYmluZFZhbyh0aGlzLnF1YWQudmFvKSxpLmJpbmRSZW5kZXJUYXJnZXQociksbiYmKG8uZGlzYWJsZShvLlNDSVNTT1JfVEVTVCksaS5jbGVhcigpLG8uZW5hYmxlKG8uU0NJU1NPUl9URVNUKSkscj09PWkubWFza01hbmFnZXIuc2Npc3NvclJlbmRlclRhcmdldCYmaS5tYXNrTWFuYWdlci5wdXNoU2Npc3Nvck1hc2sobnVsbCxpLm1hc2tNYW5hZ2VyLnNjaXNzb3JEYXRhKSxpLmJpbmRTaGFkZXIocyk7dmFyIGE9dGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzWzBdO3RoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXT1hLHRoaXMuc3luY1VuaWZvcm1zKHMsdCksaS5zdGF0ZS5zZXRCbGVuZE1vZGUodC5ibGVuZE1vZGUpLG8uYWN0aXZlVGV4dHVyZShvLlRFWFRVUkUwKSxvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxlLnRleHR1cmUudGV4dHVyZSksdGhpcy5xdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLDYsMCksby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsYS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKX0sZS5wcm90b3R5cGUuc3luY1VuaWZvcm1zPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS51bmlmb3JtRGF0YSxuPWUudW5pZm9ybXMsaT0xLG89dm9pZCAwO2lmKHQudW5pZm9ybXMuZmlsdGVyQXJlYSl7bz10aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTt2YXIgcz10LnVuaWZvcm1zLmZpbHRlckFyZWE7c1swXT1vLnJlbmRlclRhcmdldC5zaXplLndpZHRoLHNbMV09by5yZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQsc1syXT1vLnNvdXJjZUZyYW1lLngsc1szXT1vLnNvdXJjZUZyYW1lLnksdC51bmlmb3Jtcy5maWx0ZXJBcmVhPXN9aWYodC51bmlmb3Jtcy5maWx0ZXJDbGFtcCl7bz1vfHx0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTt2YXIgYT10LnVuaWZvcm1zLmZpbHRlckNsYW1wO2FbMF09MCxhWzFdPTAsYVsyXT0oby5zb3VyY2VGcmFtZS53aWR0aC0xKS9vLnJlbmRlclRhcmdldC5zaXplLndpZHRoLGFbM109KG8uc291cmNlRnJhbWUuaGVpZ2h0LTEpL28ucmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0LHQudW5pZm9ybXMuZmlsdGVyQ2xhbXA9YX1mb3IodmFyIHUgaW4gcilpZihcInNhbXBsZXIyRFwiPT09clt1XS50eXBlJiYwIT09blt1XSl7aWYoblt1XS5iYXNlVGV4dHVyZSl0LnVuaWZvcm1zW3VdPXRoaXMucmVuZGVyZXIuYmluZFRleHR1cmUoblt1XS5iYXNlVGV4dHVyZSxpKTtlbHNle3QudW5pZm9ybXNbdV09aTt2YXIgbD10aGlzLnJlbmRlcmVyLmdsO3RoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1tpXT10aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbaV0sbC5hY3RpdmVUZXh0dXJlKGwuVEVYVFVSRTAraSksblt1XS50ZXh0dXJlLmJpbmQoKX1pKyt9ZWxzZSBpZihcIm1hdDNcIj09PXJbdV0udHlwZSl2b2lkIDAhPT1uW3VdLmE/dC51bmlmb3Jtc1t1XT1uW3VdLnRvQXJyYXkoITApOnQudW5pZm9ybXNbdV09blt1XTtlbHNlIGlmKFwidmVjMlwiPT09clt1XS50eXBlKWlmKHZvaWQgMCE9PW5bdV0ueCl7dmFyIGg9dC51bmlmb3Jtc1t1XXx8bmV3IEZsb2F0MzJBcnJheSgyKTtoWzBdPW5bdV0ueCxoWzFdPW5bdV0ueSx0LnVuaWZvcm1zW3VdPWh9ZWxzZSB0LnVuaWZvcm1zW3VdPW5bdV07ZWxzZVwiZmxvYXRcIj09PXJbdV0udHlwZT90LnVuaWZvcm1zLmRhdGFbdV0udmFsdWUhPT1yW3VdJiYodC51bmlmb3Jtc1t1XT1uW3VdKTp0LnVuaWZvcm1zW3VdPW5bdV19LGUucHJvdG90eXBlLmdldFJlbmRlclRhcmdldD1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdLG49dGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCxyLnNvdXJjZUZyYW1lLndpZHRoLHIuc291cmNlRnJhbWUuaGVpZ2h0LGV8fHIucmVzb2x1dGlvbik7cmV0dXJuIG4uc2V0RnJhbWUoci5kZXN0aW5hdGlvbkZyYW1lLHIuc291cmNlRnJhbWUpLG59LGUucHJvdG90eXBlLnJldHVyblJlbmRlclRhcmdldD1mdW5jdGlvbih0KXt0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQodCl9LGUucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO3JldHVybiBtLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KHQsZS5zb3VyY2VGcmFtZSxlLnJlbmRlclRhcmdldC5zaXplKX0sZS5wcm90b3R5cGUuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO3JldHVybiBtLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCh0LGUuc291cmNlRnJhbWUsZS5yZW5kZXJUYXJnZXQuc2l6ZSxlLmRlc3RpbmF0aW9uRnJhbWUpfSxlLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXg9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtyZXR1cm4gbS5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodCxyLnNvdXJjZUZyYW1lLHIucmVuZGVyVGFyZ2V0LnNpemUsZSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNoYWRlckNhY2hlPXt9LHRoaXMuZW1wdHlQb29sKCl9LGUucHJvdG90eXBlLmdldFBvdFJlbmRlclRhcmdldD1mdW5jdGlvbih0LGUscixuKXtlPWIuZGVmYXVsdC5uZXh0UG93MihlKm4pLHI9Yi5kZWZhdWx0Lm5leHRQb3cyKHIqbik7dmFyIGk9KDY1NTM1JmUpPDwxNnw2NTUzNSZyO3RoaXMucG9vbFtpXXx8KHRoaXMucG9vbFtpXT1bXSk7dmFyIG89dGhpcy5wb29sW2ldLnBvcCgpO2lmKCFvKXt2YXIgcz10aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbMF07dC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTApLG89bmV3IGMuZGVmYXVsdCh0LGUscixudWxsLDEpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHMuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSl9cmV0dXJuIG8ucmVzb2x1dGlvbj1uLG8uZGVmYXVsdEZyYW1lLndpZHRoPW8uc2l6ZS53aWR0aD1lL24sby5kZWZhdWx0RnJhbWUuaGVpZ2h0PW8uc2l6ZS5oZWlnaHQ9ci9uLG99LGUucHJvdG90eXBlLmVtcHR5UG9vbD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnBvb2wpe3ZhciBlPXRoaXMucG9vbFt0XTtpZihlKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWVbcl0uZGVzdHJveSghMCl9dGhpcy5wb29sPXt9fSxlLnByb3RvdHlwZS5mcmVlUG90UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2l6ZS53aWR0aCp0LnJlc29sdXRpb24scj10LnNpemUuaGVpZ2h0KnQucmVzb2x1dGlvbixuPSg2NTUzNSZlKTw8MTZ8NjU1MzUmcjt0aGlzLnBvb2xbbl0ucHVzaCh0KX0sZX0obC5kZWZhdWx0KTtyLmRlZmF1bHQ9VH0se1wiLi4vLi4vLi4vU2hhZGVyXCI6NDIsXCIuLi8uLi8uLi9tYXRoXCI6NjgsXCIuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXNcIjo4NixcIi4uL3V0aWxzL1F1YWRcIjo5MyxcIi4uL3V0aWxzL1JlbmRlclRhcmdldFwiOjk0LFwiLi9XZWJHTE1hbmFnZXJcIjo5MSxcImJpdC10d2lkZGxlXCI6MX1dLDg5OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcIi4vV2ViR0xNYW5hZ2VyXCIpLHU9bihhKSxsPXQoXCIuLi9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlclwiKSxoPW4obCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBuLnNjaXNzb3I9ITEsbi5zY2lzc29yRGF0YT1udWxsLG4uc2Npc3NvclJlbmRlclRhcmdldD1udWxsLG4uZW5hYmxlU2Npc3Nvcj0hMCxuLmFscGhhTWFza1Bvb2w9W10sbi5hbHBoYU1hc2tJbmRleD0wLG59cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5wdXNoTWFzaz1mdW5jdGlvbih0LGUpe2lmKGUudGV4dHVyZSl0aGlzLnB1c2hTcHJpdGVNYXNrKHQsZSk7ZWxzZSBpZih0aGlzLmVuYWJsZVNjaXNzb3ImJiF0aGlzLnNjaXNzb3ImJnRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5yb290JiYhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCYmZS5pc0Zhc3RSZWN0KCkpe3ZhciByPWUud29ybGRUcmFuc2Zvcm0sbj1NYXRoLmF0YW4yKHIuYixyLmEpO249TWF0aC5yb3VuZChuKigxODAvTWF0aC5QSSkpLG4lOTA/dGhpcy5wdXNoU3RlbmNpbE1hc2soZSk6dGhpcy5wdXNoU2Npc3Nvck1hc2sodCxlKX1lbHNlIHRoaXMucHVzaFN0ZW5jaWxNYXNrKGUpfSxlLnByb3RvdHlwZS5wb3BNYXNrPWZ1bmN0aW9uKHQsZSl7ZS50ZXh0dXJlP3RoaXMucG9wU3ByaXRlTWFzayh0LGUpOnRoaXMuZW5hYmxlU2Npc3NvciYmIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg/dGhpcy5wb3BTY2lzc29yTWFzayh0LGUpOnRoaXMucG9wU3RlbmNpbE1hc2sodCxlKX0sZS5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07cnx8KHI9dGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdPVtuZXcgaC5kZWZhdWx0KGUpXSksclswXS5yZXNvbHV0aW9uPXRoaXMucmVuZGVyZXIucmVzb2x1dGlvbixyWzBdLm1hc2tTcHJpdGU9ZSx0LmZpbHRlckFyZWE9ZS5nZXRCb3VuZHMoITApLHRoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHQsciksdGhpcy5hbHBoYU1hc2tJbmRleCsrfSxlLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpLHRoaXMuYWxwaGFNYXNrSW5kZXgtLX0sZS5wcm90b3R5cGUucHVzaFN0ZW5jaWxNYXNrPWZ1bmN0aW9uKHQpe3RoaXMucmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLnN0b3AoKSx0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnB1c2hTdGVuY2lsKHQpfSxlLnByb3RvdHlwZS5wb3BTdGVuY2lsTWFzaz1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLnN0b3AoKSx0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnBvcFN0ZW5jaWwoKX0sZS5wcm90b3R5cGUucHVzaFNjaXNzb3JNYXNrPWZ1bmN0aW9uKHQsZSl7ZS5yZW5kZXJhYmxlPSEwO3ZhciByPXRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldCxuPWUuZ2V0Qm91bmRzKCk7bi5maXQoci5zaXplKSxlLnJlbmRlcmFibGU9ITEsdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO3ZhciBpPXRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjt0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3Iobi54KmksKHIucm9vdD9yLnNpemUuaGVpZ2h0LW4ueS1uLmhlaWdodDpuLnkpKmksbi53aWR0aCppLG4uaGVpZ2h0KmkpLHRoaXMuc2Npc3NvclJlbmRlclRhcmdldD1yLHRoaXMuc2Npc3NvckRhdGE9ZSx0aGlzLnNjaXNzb3I9ITB9LGUucHJvdG90eXBlLnBvcFNjaXNzb3JNYXNrPWZ1bmN0aW9uKCl7dGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5zY2lzc29yRGF0YT1udWxsLHRoaXMuc2Npc3Nvcj0hMTt2YXIgdD10aGlzLnJlbmRlcmVyLmdsO3QuZGlzYWJsZSh0LlNDSVNTT1JfVEVTVCl9LGV9KHUuZGVmYXVsdCk7ci5kZWZhdWx0PWN9LHtcIi4uL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyXCI6ODcsXCIuL1dlYkdMTWFuYWdlclwiOjkxfV0sOTA6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFwiLi9XZWJHTE1hbmFnZXJcIiksdT1uKGEpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpKHRoaXMsZSk7dmFyIG49byh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gbi5zdGVuY2lsTWFza1N0YWNrPW51bGwsbn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnNldE1hc2tTdGFjaz1mdW5jdGlvbih0KXt0aGlzLnN0ZW5jaWxNYXNrU3RhY2s9dDt2YXIgZT10aGlzLnJlbmRlcmVyLmdsOzA9PT10Lmxlbmd0aD9lLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpOmUuZW5hYmxlKGUuU1RFTkNJTF9URVNUKX0sZS5wcm90b3R5cGUucHVzaFN0ZW5jaWw9ZnVuY3Rpb24odCl7dGhpcy5yZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpLHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5hdHRhY2hTdGVuY2lsQnVmZmVyKCk7dmFyIGU9dGhpcy5yZW5kZXJlci5nbCxyPXRoaXMuc3RlbmNpbE1hc2tTdGFjazswPT09ci5sZW5ndGgmJihlLmVuYWJsZShlLlNURU5DSUxfVEVTVCksZS5jbGVhcihlLlNURU5DSUxfQlVGRkVSX0JJVCksZS5zdGVuY2lsRnVuYyhlLkFMV0FZUywxLDEpKSxyLnB1c2godCksZS5jb2xvck1hc2soITEsITEsITEsITEpLGUuc3RlbmNpbE9wKGUuS0VFUCxlLktFRVAsZS5JTkNSKSx0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHQpLGUuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSxlLnN0ZW5jaWxGdW5jKGUuTk9URVFVQUwsMCxyLmxlbmd0aCksZS5zdGVuY2lsT3AoZS5LRUVQLGUuS0VFUCxlLktFRVApfSxlLnByb3RvdHlwZS5wb3BTdGVuY2lsPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO3ZhciB0PXRoaXMucmVuZGVyZXIuZ2wsZT10aGlzLnN0ZW5jaWxNYXNrU3RhY2sscj1lLnBvcCgpOzA9PT1lLmxlbmd0aD90LmRpc2FibGUodC5TVEVOQ0lMX1RFU1QpOih0LmNvbG9yTWFzayghMSwhMSwhMSwhMSksdC5zdGVuY2lsT3AodC5LRUVQLHQuS0VFUCx0LkRFQ1IpLHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIociksdC5jb2xvck1hc2soITAsITAsITAsITApLHQuc3RlbmNpbEZ1bmModC5OT1RFUVVBTCwwLGUubGVuZ3RoKSx0LnN0ZW5jaWxPcCh0LktFRVAsdC5LRUVQLHQuS0VFUCkpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dS5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zdGVuY2lsTWFza1N0YWNrLnN0ZW5jaWxTdGFjaz1udWxsfSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1sfSx7XCIuL1dlYkdMTWFuYWdlclwiOjkxfV0sOTE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLnJlbmRlcmVyPWUsdGhpcy5yZW5kZXJlci5vbihcImNvbnRleHRcIix0aGlzLm9uQ29udGV4dENoYW5nZSx0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7fSxcbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLm9mZihcImNvbnRleHRcIix0aGlzLm9uQ29udGV4dENoYW5nZSx0aGlzKSx0aGlzLnJlbmRlcmVyPW51bGx9LHR9KCk7ci5kZWZhdWx0PWl9LHt9XSw5MjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXJcIiksdT1uKGEpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBpKHRoaXMsZSksbyh0aGlzLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpfSxlLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQpe30sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9bH0se1wiLi4vbWFuYWdlcnMvV2ViR0xNYW5hZ2VyXCI6OTF9XSw5MzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwicGl4aS1nbC1jb3JlXCIpLHM9bihvKSxhPXQoXCIuLi8uLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHNcIiksdT1uKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7aSh0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLnZlcnRpY2VzPW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDEsLTEsMSwxLC0xLDFdKSx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDEsMSwwLDFdKSx0aGlzLmludGVybGVhdmVkPW5ldyBGbG9hdDMyQXJyYXkoMTYpO2Zvcih2YXIgbj0wO248NDtuKyspdGhpcy5pbnRlcmxlYXZlZFs0Km5dPXRoaXMudmVydGljZXNbMipuXSx0aGlzLmludGVybGVhdmVkWzQqbisxXT10aGlzLnZlcnRpY2VzWzIqbisxXSx0aGlzLmludGVybGVhdmVkWzQqbisyXT10aGlzLnV2c1syKm5dLHRoaXMuaW50ZXJsZWF2ZWRbNCpuKzNdPXRoaXMudXZzWzIqbisxXTt0aGlzLmluZGljZXM9KDAsdS5kZWZhdWx0KSgxKSx0aGlzLnZlcnRleEJ1ZmZlcj1zLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5pbnRlcmxlYXZlZCxlLlNUQVRJQ19EUkFXKSx0aGlzLmluZGV4QnVmZmVyPXMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihlLHRoaXMuaW5kaWNlcyxlLlNUQVRJQ19EUkFXKSx0aGlzLnZhbz1uZXcgcy5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGUscil9cmV0dXJuIHQucHJvdG90eXBlLmluaXRWYW89ZnVuY3Rpb24odCl7dGhpcy52YW8uY2xlYXIoKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXIsdC5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbix0aGlzLmdsLkZMT0FULCExLDE2LDApLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlcix0LmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCx0aGlzLmdsLkZMT0FULCExLDE2LDgpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgcj0wLG49MDtyZXR1cm4gdGhpcy51dnNbMF09cix0aGlzLnV2c1sxXT1uLHRoaXMudXZzWzJdPXIrZS53aWR0aC90LndpZHRoLHRoaXMudXZzWzNdPW4sdGhpcy51dnNbNF09citlLndpZHRoL3Qud2lkdGgsdGhpcy51dnNbNV09bitlLmhlaWdodC90LmhlaWdodCx0aGlzLnV2c1s2XT1yLHRoaXMudXZzWzddPW4rZS5oZWlnaHQvdC5oZWlnaHQscj1lLngsbj1lLnksdGhpcy52ZXJ0aWNlc1swXT1yLHRoaXMudmVydGljZXNbMV09bix0aGlzLnZlcnRpY2VzWzJdPXIrZS53aWR0aCx0aGlzLnZlcnRpY2VzWzNdPW4sdGhpcy52ZXJ0aWNlc1s0XT1yK2Uud2lkdGgsdGhpcy52ZXJ0aWNlc1s1XT1uK2UuaGVpZ2h0LHRoaXMudmVydGljZXNbNl09cix0aGlzLnZlcnRpY2VzWzddPW4rZS5oZWlnaHQsdGhpc30sdC5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDw0O3QrKyl0aGlzLmludGVybGVhdmVkWzQqdF09dGhpcy52ZXJ0aWNlc1syKnRdLHRoaXMuaW50ZXJsZWF2ZWRbNCp0KzFdPXRoaXMudmVydGljZXNbMip0KzFdLHRoaXMuaW50ZXJsZWF2ZWRbNCp0KzJdPXRoaXMudXZzWzIqdF0sdGhpcy5pbnRlcmxlYXZlZFs0KnQrM109dGhpcy51dnNbMip0KzFdO3JldHVybiB0aGlzLnZlcnRleEJ1ZmZlci51cGxvYWQodGhpcy5pbnRlcmxlYXZlZCksdGhpc30sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpLHQuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpfSx0fSgpO3IuZGVmYXVsdD1sfSx7XCIuLi8uLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHNcIjoxMTgsXCJwaXhpLWdsLWNvcmVcIjoxMn1dLDk0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBvPXQoXCIuLi8uLi8uLi9tYXRoXCIpLHM9dChcIi4uLy4uLy4uL2NvbnN0XCIpLGE9dChcIi4uLy4uLy4uL3NldHRpbmdzXCIpLHU9bihhKSxsPXQoXCJwaXhpLWdsLWNvcmVcIiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4sYSxoLGMpe2kodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy5mcmFtZUJ1ZmZlcj1udWxsLHRoaXMudGV4dHVyZT1udWxsLHRoaXMuY2xlYXJDb2xvcj1bMCwwLDAsMF0sdGhpcy5zaXplPW5ldyBvLlJlY3RhbmdsZSgwLDAsMSwxKSx0aGlzLnJlc29sdXRpb249aHx8dS5kZWZhdWx0LlJFU09MVVRJT04sdGhpcy5wcm9qZWN0aW9uTWF0cml4PW5ldyBvLk1hdHJpeCx0aGlzLnRyYW5zZm9ybT1udWxsLHRoaXMuZnJhbWU9bnVsbCx0aGlzLmRlZmF1bHRGcmFtZT1uZXcgby5SZWN0YW5nbGUsdGhpcy5kZXN0aW5hdGlvbkZyYW1lPW51bGwsdGhpcy5zb3VyY2VGcmFtZT1udWxsLHRoaXMuc3RlbmNpbEJ1ZmZlcj1udWxsLHRoaXMuc3RlbmNpbE1hc2tTdGFjaz1bXSx0aGlzLmZpbHRlckRhdGE9bnVsbCx0aGlzLnNjYWxlTW9kZT12b2lkIDAhPT1hP2E6dS5kZWZhdWx0LlNDQUxFX01PREUsdGhpcy5yb290PWMsdGhpcy5yb290Pyh0aGlzLmZyYW1lQnVmZmVyPW5ldyBsLkdMRnJhbWVidWZmZXIoZSwxMDAsMTAwKSx0aGlzLmZyYW1lQnVmZmVyLmZyYW1lYnVmZmVyPW51bGwpOih0aGlzLmZyYW1lQnVmZmVyPWwuR0xGcmFtZWJ1ZmZlci5jcmVhdGVSR0JBKGUsMTAwLDEwMCksdGhpcy5zY2FsZU1vZGU9PT1zLlNDQUxFX01PREVTLk5FQVJFU1Q/dGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk6dGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZUxpbmVhclNjYWxpbmcoKSx0aGlzLnRleHR1cmU9dGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlKSx0aGlzLnNldEZyYW1lKCksdGhpcy5yZXNpemUocixuKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCl7dmFyIGU9dHx8dGhpcy5jbGVhckNvbG9yO3RoaXMuZnJhbWVCdWZmZXIuY2xlYXIoZVswXSxlWzFdLGVbMl0sZVszXSl9LHQucHJvdG90eXBlLmF0dGFjaFN0ZW5jaWxCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLnJvb3R8fHRoaXMuZnJhbWVCdWZmZXIuZW5hYmxlU3RlbmNpbCgpfSx0LnByb3RvdHlwZS5zZXRGcmFtZT1mdW5jdGlvbih0LGUpe3RoaXMuZGVzdGluYXRpb25GcmFtZT10fHx0aGlzLmRlc3RpbmF0aW9uRnJhbWV8fHRoaXMuZGVmYXVsdEZyYW1lLHRoaXMuc291cmNlRnJhbWU9ZXx8dGhpcy5zb3VyY2VGcmFtZXx8dH0sdC5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3RoaXMuZnJhbWVCdWZmZXIuYmluZCgpLHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsdGhpcy5zb3VyY2VGcmFtZSksdGhpcy50cmFuc2Zvcm0mJnRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pLHRoaXMuZGVzdGluYXRpb25GcmFtZSE9PXRoaXMuc291cmNlRnJhbWU/KHQuZW5hYmxlKHQuU0NJU1NPUl9URVNUKSx0LnNjaXNzb3IoMHx0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCwwfHRoaXMuZGVzdGluYXRpb25GcmFtZS55LHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCp0aGlzLnJlc29sdXRpb258MCx0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbnwwKSk6dC5kaXNhYmxlKHQuU0NJU1NPUl9URVNUKSx0LnZpZXdwb3J0KDB8dGhpcy5kZXN0aW5hdGlvbkZyYW1lLngsMHx0aGlzLmRlc3RpbmF0aW9uRnJhbWUueSx0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGgqdGhpcy5yZXNvbHV0aW9ufDAsdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCp0aGlzLnJlc29sdXRpb258MCl9LHQucHJvdG90eXBlLmNhbGN1bGF0ZVByb2plY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLnByb2plY3Rpb25NYXRyaXg7ZT1lfHx0LHIuaWRlbnRpdHkoKSx0aGlzLnJvb3Q/KHIuYT0xL3Qud2lkdGgqMixyLmQ9LTEvdC5oZWlnaHQqMixyLnR4PS0xLWUueCpyLmEsci50eT0xLWUueSpyLmQpOihyLmE9MS90LndpZHRoKjIsci5kPTEvdC5oZWlnaHQqMixyLnR4PS0xLWUueCpyLmEsci50eT0tMS1lLnkqci5kKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7aWYodD0wfHQsZT0wfGUsdGhpcy5zaXplLndpZHRoIT09dHx8dGhpcy5zaXplLmhlaWdodCE9PWUpe3RoaXMuc2l6ZS53aWR0aD10LHRoaXMuc2l6ZS5oZWlnaHQ9ZSx0aGlzLmRlZmF1bHRGcmFtZS53aWR0aD10LHRoaXMuZGVmYXVsdEZyYW1lLmhlaWdodD1lLHRoaXMuZnJhbWVCdWZmZXIucmVzaXplKHQqdGhpcy5yZXNvbHV0aW9uLGUqdGhpcy5yZXNvbHV0aW9uKTt2YXIgcj10aGlzLmZyYW1lfHx0aGlzLnNpemU7dGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHIpfX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZnJhbWVCdWZmZXIuZGVzdHJveSgpLHRoaXMuZnJhbWVCdWZmZXI9bnVsbCx0aGlzLnRleHR1cmU9bnVsbH0sdH0oKTtyLmRlZmF1bHQ9aH0se1wiLi4vLi4vLi4vY29uc3RcIjo0NCxcIi4uLy4uLy4uL21hdGhcIjo2OCxcIi4uLy4uLy4uL3NldHRpbmdzXCI6OTksXCJwaXhpLWdsLWNvcmVcIjoxMn1dLDk1OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe3ZhciByPSFlO2lmKHIpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bi53aWR0aD0xLG4uaGVpZ2h0PTEsZT1hLmRlZmF1bHQuY3JlYXRlQ29udGV4dChuKX1mb3IodmFyIGk9ZS5jcmVhdGVTaGFkZXIoZS5GUkFHTUVOVF9TSEFERVIpOzspe3ZhciBzPXUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLG8odCkpO2lmKGUuc2hhZGVyU291cmNlKGkscyksZS5jb21waWxlU2hhZGVyKGkpLGUuZ2V0U2hhZGVyUGFyYW1ldGVyKGksZS5DT01QSUxFX1NUQVRVUykpYnJlYWs7dD10LzJ8MH1yZXR1cm4gciYmZS5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIikmJmUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpLmxvc2VDb250ZXh0KCksdH1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT1cIlwiLHI9MDtyPHQ7KytyKXI+MCYmKGUrPVwiXFxuZWxzZSBcIikscjx0LTEmJihlKz1cImlmKHRlc3QgPT0gXCIrcitcIi4wKXt9XCIpO3JldHVybiBlfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aTt2YXIgcz10KFwicGl4aS1nbC1jb3JlXCIpLGE9bihzKSx1PVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidm9pZCBtYWluKHZvaWQpe1wiLFwiZmxvYXQgdGVzdCA9IDAuMTtcIixcIiVmb3Jsb29wJVwiLFwiZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpfSx7XCJwaXhpLWdsLWNvcmVcIjoxMn1dLDk2OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGVbaS5CTEVORF9NT0RFUy5OT1JNQUxdPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5BRERdPVt0Lk9ORSx0LkRTVF9BTFBIQV0sZVtpLkJMRU5EX01PREVTLk1VTFRJUExZXT1bdC5EU1RfQ09MT1IsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuU0NSRUVOXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0NPTE9SXSxlW2kuQkxFTkRfTU9ERVMuT1ZFUkxBWV09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkRBUktFTl09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkxJR0hURU5dPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkNPTE9SX0JVUk5dPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF09W3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sZVtpLkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5FWENMVVNJT05dPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5IVUVdPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlW2kuQkxFTkRfTU9ERVMuQ09MT1JdPVt0Lk9ORSx0Lk9ORV9NSU5VU19TUkNfQUxQSEFdLGVbaS5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXT1bdC5PTkUsdC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgaT10KFwiLi4vLi4vLi4vY29uc3RcIil9LHtcIi4uLy4uLy4uL2NvbnN0XCI6NDR9XSw5NzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBlW2kuRFJBV19NT0RFUy5QT0lOVFNdPXQuUE9JTlRTLGVbaS5EUkFXX01PREVTLkxJTkVTXT10LkxJTkVTLGVbaS5EUkFXX01PREVTLkxJTkVfTE9PUF09dC5MSU5FX0xPT1AsZVtpLkRSQVdfTU9ERVMuTElORV9TVFJJUF09dC5MSU5FX1NUUklQLGVbaS5EUkFXX01PREVTLlRSSUFOR0xFU109dC5UUklBTkdMRVMsZVtpLkRSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVBdPXQuVFJJQU5HTEVfU1RSSVAsZVtpLkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOXT10LlRSSUFOR0xFX0ZBTixlfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgaT10KFwiLi4vLi4vLi4vY29uc3RcIil9LHtcIi4uLy4uLy4uL2NvbnN0XCI6NDR9XSw5ODpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9dC5nZXRDb250ZXh0QXR0cmlidXRlcygpO2Uuc3RlbmNpbHx8Y29uc29sZS53YXJuKFwiUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseVwiKX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW59LHt9XSw5OTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzXCIpLG89bihpKSxzPXQoXCIuL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXJcIiksYT1uKHMpO3IuZGVmYXVsdD17VEFSR0VUX0ZQTVM6LjA2LE1JUE1BUF9URVhUVVJFUzohMCxSRVNPTFVUSU9OOjEsRklMVEVSX1JFU09MVVRJT046MSxTUFJJVEVfTUFYX1RFWFRVUkVTOigwLG8uZGVmYXVsdCkoMzIpLFNQUklURV9CQVRDSF9TSVpFOjQwOTYsUkVUSU5BX1BSRUZJWDovQChbMC05XFwuXSspeC8sUkVOREVSX09QVElPTlM6e3ZpZXc6bnVsbCxhbnRpYWxpYXM6ITEsZm9yY2VGWEFBOiExLGF1dG9SZXNpemU6ITEsdHJhbnNwYXJlbnQ6ITEsYmFja2dyb3VuZENvbG9yOjAsY2xlYXJCZWZvcmVSZW5kZXI6ITAscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHJvdW5kUGl4ZWxzOiExfSxUUkFOU0ZPUk1fTU9ERTowLEdDX01PREU6MCxHQ19NQVhfSURMRTozNjAwLEdDX01BWF9DSEVDS19DT1VOVDo2MDAsV1JBUF9NT0RFOjAsU0NBTEVfTU9ERTowLFBSRUNJU0lPTl9WRVJURVg6XCJoaWdocFwiLFBSRUNJU0lPTl9GUkFHTUVOVDpcIm1lZGl1bXBcIixDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOigwLGEuZGVmYXVsdCkoKX19LHtcIi4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlclwiOjExNyxcIi4vdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlc1wiOjEyMX1dLDEwMDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFwiLi4vbWF0aFwiKSxsPXQoXCIuLi91dGlsc1wiKSxoPXQoXCIuLi9jb25zdFwiKSxjPXQoXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCIpLGY9bihjKSxkPXQoXCIuLi9kaXNwbGF5L0NvbnRhaW5lclwiKSxwPW4oZCksdj1uZXcgdS5Qb2ludCx5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aSh0aGlzLGUpO3ZhciBuPW8odGhpcyx0LmNhbGwodGhpcykpO3JldHVybiBuLl9hbmNob3I9bmV3IHUuT2JzZXJ2YWJsZVBvaW50KG4uX29uQW5jaG9yVXBkYXRlLG4pLG4uX3RleHR1cmU9bnVsbCxuLl93aWR0aD0wLG4uX2hlaWdodD0wLG4uX3RpbnQ9bnVsbCxuLl90aW50UkdCPW51bGwsbi50aW50PTE2Nzc3MjE1LG4uYmxlbmRNb2RlPWguQkxFTkRfTU9ERVMuTk9STUFMLG4uc2hhZGVyPW51bGwsbi5jYWNoZWRUaW50PTE2Nzc3MjE1LG4udGV4dHVyZT1yfHxmLmRlZmF1bHQuRU1QVFksbi52ZXJ0ZXhEYXRhPW5ldyBGbG9hdDMyQXJyYXkoOCksbi52ZXJ0ZXhUcmltbWVkRGF0YT1udWxsLG4uX3RyYW5zZm9ybUlEPS0xLG4uX3RleHR1cmVJRD0tMSxuLl90cmFuc2Zvcm1UcmltbWVkSUQ9LTEsbi5fdGV4dHVyZVRyaW1tZWRJRD0tMSxuLnBsdWdpbk5hbWU9XCJzcHJpdGVcIixufXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmVJRD0tMSx0aGlzLl90ZXh0dXJlVHJpbW1lZElEPS0xLHRoaXMuX3dpZHRoJiYodGhpcy5zY2FsZS54PSgwLGwuc2lnbikodGhpcy5zY2FsZS54KSp0aGlzLl93aWR0aC90aGlzLnRleHR1cmUub3JpZy53aWR0aCksdGhpcy5faGVpZ2h0JiYodGhpcy5zY2FsZS55PSgwLGwuc2lnbikodGhpcy5zY2FsZS55KSp0aGlzLl9oZWlnaHQvdGhpcy50ZXh0dXJlLm9yaWcuaGVpZ2h0KX0sZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fdHJhbnNmb3JtSUQ9LTEsdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEPS0xfSxlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcz1mdW5jdGlvbigpe2lmKHRoaXMuX3RyYW5zZm9ybUlEIT09dGhpcy50cmFuc2Zvcm0uX3dvcmxkSUR8fHRoaXMuX3RleHR1cmVJRCE9PXRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKXt0aGlzLl90cmFuc2Zvcm1JRD10aGlzLnRyYW5zZm9ybS5fd29ybGRJRCx0aGlzLl90ZXh0dXJlSUQ9dGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7dmFyIHQ9dGhpcy5fdGV4dHVyZSxlPXRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLHI9ZS5hLG49ZS5iLGk9ZS5jLG89ZS5kLHM9ZS50eCxhPWUudHksdT10aGlzLnZlcnRleERhdGEsbD10LnRyaW0saD10Lm9yaWcsYz10aGlzLl9hbmNob3IsZj0wLGQ9MCxwPTAsdj0wO2w/KGQ9bC54LWMuX3gqaC53aWR0aCxmPWQrbC53aWR0aCx2PWwueS1jLl95KmguaGVpZ2h0LHA9ditsLmhlaWdodCk6KGQ9LWMuX3gqaC53aWR0aCxmPWQraC53aWR0aCx2PS1jLl95KmguaGVpZ2h0LHA9ditoLmhlaWdodCksdVswXT1yKmQraSp2K3MsdVsxXT1vKnYrbipkK2EsdVsyXT1yKmYraSp2K3MsdVszXT1vKnYrbipmK2EsdVs0XT1yKmYraSpwK3MsdVs1XT1vKnArbipmK2EsdVs2XT1yKmQraSpwK3MsdVs3XT1vKnArbipkK2F9fSxlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnZlcnRleFRyaW1tZWREYXRhKXtpZih0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQ9PT10aGlzLnRyYW5zZm9ybS5fd29ybGRJRCYmdGhpcy5fdGV4dHVyZVRyaW1tZWRJRD09PXRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKXJldHVybn1lbHNlIHRoaXMudmVydGV4VHJpbW1lZERhdGE9bmV3IEZsb2F0MzJBcnJheSg4KTt0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQ9dGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQsdGhpcy5fdGV4dHVyZVRyaW1tZWRJRD10aGlzLl90ZXh0dXJlLl91cGRhdGVJRDt2YXIgdD10aGlzLl90ZXh0dXJlLGU9dGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSxyPXQub3JpZyxuPXRoaXMuX2FuY2hvcixpPXRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLG89aS5hLHM9aS5iLGE9aS5jLHU9aS5kLGw9aS50eCxoPWkudHksYz0tbi5feCpyLndpZHRoLGY9YytyLndpZHRoLGQ9LW4uX3kqci5oZWlnaHQscD1kK3IuaGVpZ2h0O2VbMF09bypjK2EqZCtsLGVbMV09dSpkK3MqYytoLGVbMl09bypmK2EqZCtsLGVbM109dSpkK3MqZitoLGVbNF09bypmK2EqcCtsLGVbNV09dSpwK3MqZitoLGVbNl09bypjK2EqcCtsLGVbN109dSpwK3MqYytofSxlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7dGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpLHQuc2V0T2JqZWN0UmVuZGVyZXIodC5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pLHQucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKX0sZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXt0LnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyl9LGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90ZXh0dXJlLnRyaW0sZT10aGlzLl90ZXh0dXJlLm9yaWc7IXR8fHQud2lkdGg9PT1lLndpZHRoJiZ0LmhlaWdodD09PWUuaGVpZ2h0Pyh0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCksdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKSk6KHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCksdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkpfSxlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRyZW4ubGVuZ3RoPyh0aGlzLl9ib3VuZHMubWluWD10aGlzLl90ZXh0dXJlLm9yaWcud2lkdGgqLXRoaXMuX2FuY2hvci5feCx0aGlzLl9ib3VuZHMubWluWT10aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0Ki10aGlzLl9hbmNob3IuX3ksdGhpcy5fYm91bmRzLm1heFg9dGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoKigxLXRoaXMuX2FuY2hvci5feCksdGhpcy5fYm91bmRzLm1heFk9dGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCooMS10aGlzLl9hbmNob3IuX3gpLGV8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3R8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3Q9bmV3IHUuUmVjdGFuZ2xlKSxlPXRoaXMuX2xvY2FsQm91bmRzUmVjdCksdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShlKSk6dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQpe3RoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHQsdik7dmFyIGU9dGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoLHI9dGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCxuPS1lKnRoaXMuYW5jaG9yLngsaT0wO3JldHVybiB2Lng+biYmdi54PG4rZSYmKGk9LXIqdGhpcy5hbmNob3IueSx2Lnk+aSYmdi55PGkrcil9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsZSksdGhpcy5fYW5jaG9yPW51bGw7dmFyIHI9XCJib29sZWFuXCI9PXR5cGVvZiBlP2U6ZSYmZS50ZXh0dXJlO2lmKHIpe3ZhciBuPVwiYm9vbGVhblwiPT10eXBlb2YgZT9lOmUmJmUuYmFzZVRleHR1cmU7dGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhbil9dGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuc2hhZGVyPW51bGx9LGUuZnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoZi5kZWZhdWx0LmZyb20odCkpfSxlLmZyb21GcmFtZT1mdW5jdGlvbih0KXt2YXIgcj1sLlRleHR1cmVDYWNoZVt0XTtpZighcil0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyt0KydcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO3JldHVybiBuZXcgZShyKX0sZS5mcm9tSW1hZ2U9ZnVuY3Rpb24odCxyLG4pe3JldHVybiBuZXcgZShmLmRlZmF1bHQuZnJvbUltYWdlKHQscixuKSl9LGEoZSxbe2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkqdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9KDAsbC5zaWduKSh0aGlzLnNjYWxlLngpfHwxO3RoaXMuc2NhbGUueD1lKnQvdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoLHRoaXMuX3dpZHRoPXR9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkqdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPSgwLGwuc2lnbikodGhpcy5zY2FsZS55KXx8MTt0aGlzLnNjYWxlLnk9ZSp0L3RoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQsdGhpcy5faGVpZ2h0PXR9fSx7a2V5OlwiYW5jaG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuY2hvcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2FuY2hvci5jb3B5KHQpfX0se2tleTpcInRpbnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGludH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RpbnQ9dCx0aGlzLl90aW50UkdCPSh0Pj4xNikrKDY1MjgwJnQpKygoMjU1JnQpPDwxNil9fSx7a2V5OlwidGV4dHVyZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSE9PXQmJih0aGlzLl90ZXh0dXJlPXQsdGhpcy5jYWNoZWRUaW50PTE2Nzc3MjE1LHRoaXMuX3RleHR1cmVJRD0tMSx0aGlzLl90ZXh0dXJlVHJpbW1lZElEPS0xLHQmJih0LmJhc2VUZXh0dXJlLmhhc0xvYWRlZD90aGlzLl9vblRleHR1cmVVcGRhdGUoKTp0Lm9uY2UoXCJ1cGRhdGVcIix0aGlzLl9vblRleHR1cmVVcGRhdGUsdGhpcykpKX19XSksZX0ocC5kZWZhdWx0KTtyLmRlZmF1bHQ9eX0se1wiLi4vY29uc3RcIjo0NCxcIi4uL2Rpc3BsYXkvQ29udGFpbmVyXCI6NDYsXCIuLi9tYXRoXCI6NjgsXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCI6MTEyLFwiLi4vdXRpbHNcIjoxMjB9XSwxMDE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dChcIi4uLy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXJcIikscz1uKG8pLGE9dChcIi4uLy4uL2NvbnN0XCIpLHU9dChcIi4uLy4uL21hdGhcIiksbD10KFwiLi9DYW52YXNUaW50ZXJcIiksaD1uKGwpLGM9bmV3IHUuTWF0cml4LGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLnJlbmRlcmVyPWV9cmV0dXJuIHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0KXt2YXIgZT10Ll90ZXh0dXJlLHI9dGhpcy5yZW5kZXJlcixuPWUuX2ZyYW1lLndpZHRoLGk9ZS5fZnJhbWUuaGVpZ2h0LG89dC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0scz0wLGw9MDtpZighKGUub3JpZy53aWR0aDw9MHx8ZS5vcmlnLmhlaWdodDw9MCkmJmUuYmFzZVRleHR1cmUuc291cmNlJiYoci5zZXRCbGVuZE1vZGUodC5ibGVuZE1vZGUpLGUudmFsaWQpKXtyLmNvbnRleHQuZ2xvYmFsQWxwaGE9dC53b3JsZEFscGhhO3ZhciBmPWUuYmFzZVRleHR1cmUuc2NhbGVNb2RlPT09YS5TQ0FMRV9NT0RFUy5MSU5FQVI7ci5zbW9vdGhQcm9wZXJ0eSYmci5jb250ZXh0W3Iuc21vb3RoUHJvcGVydHldIT09ZiYmKHIuY29udGV4dFtyLnNtb290aFByb3BlcnR5XT1mKSxlLnRyaW0/KHM9ZS50cmltLndpZHRoLzIrZS50cmltLngtdC5hbmNob3IueCplLm9yaWcud2lkdGgsbD1lLnRyaW0uaGVpZ2h0LzIrZS50cmltLnktdC5hbmNob3IueSplLm9yaWcuaGVpZ2h0KToocz0oLjUtdC5hbmNob3IueCkqZS5vcmlnLndpZHRoLGw9KC41LXQuYW5jaG9yLnkpKmUub3JpZy5oZWlnaHQpLGUucm90YXRlJiYoby5jb3B5KGMpLG89Yyx1Lkdyb3VwRDgubWF0cml4QXBwZW5kUm90YXRpb25JbnYobyxlLnJvdGF0ZSxzLGwpLHM9MCxsPTApLHMtPW4vMixsLT1pLzIsci5yb3VuZFBpeGVscz8oci5jb250ZXh0LnNldFRyYW5zZm9ybShvLmEsby5iLG8uYyxvLmQsby50eCpyLnJlc29sdXRpb258MCxvLnR5KnIucmVzb2x1dGlvbnwwKSxzPTB8cyxsPTB8bCk6ci5jb250ZXh0LnNldFRyYW5zZm9ybShvLmEsby5iLG8uYyxvLmQsby50eCpyLnJlc29sdXRpb24sby50eSpyLnJlc29sdXRpb24pO3ZhciBkPWUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjsxNjc3NzIxNSE9PXQudGludD8odC5jYWNoZWRUaW50IT09dC50aW50JiYodC5jYWNoZWRUaW50PXQudGludCx0LnRpbnRlZFRleHR1cmU9aC5kZWZhdWx0LmdldFRpbnRlZFRleHR1cmUodCx0LnRpbnQpKSxyLmNvbnRleHQuZHJhd0ltYWdlKHQudGludGVkVGV4dHVyZSwwLDAsbipkLGkqZCxzKnIucmVzb2x1dGlvbixsKnIucmVzb2x1dGlvbixuKnIucmVzb2x1dGlvbixpKnIucmVzb2x1dGlvbikpOnIuY29udGV4dC5kcmF3SW1hZ2UoZS5iYXNlVGV4dHVyZS5zb3VyY2UsZS5fZnJhbWUueCpkLGUuX2ZyYW1lLnkqZCxuKmQsaSpkLHMqci5yZXNvbHV0aW9uLGwqci5yZXNvbHV0aW9uLG4qci5yZXNvbHV0aW9uLGkqci5yZXNvbHV0aW9uKX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyPW51bGx9LHR9KCk7ci5kZWZhdWx0PWYscy5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKFwic3ByaXRlXCIsZil9LHtcIi4uLy4uL2NvbnN0XCI6NDQsXCIuLi8uLi9tYXRoXCI6NjgsXCIuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXCI6NzUsXCIuL0NhbnZhc1RpbnRlclwiOjEwMn1dLDEwMjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi4vLi4vdXRpbHNcIiksbz10KFwiLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXCIpLHM9bihvKSxhPXtnZXRUaW50ZWRUZXh0dXJlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dC50ZXh0dXJlO2U9YS5yb3VuZENvbG9yKGUpO3ZhciBuPVwiI1wiKyhcIjAwMDAwXCIrKDB8ZSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO2lmKHIudGludENhY2hlPXIudGludENhY2hlfHx7fSxyLnRpbnRDYWNoZVtuXSlyZXR1cm4gci50aW50Q2FjaGVbbl07dmFyIGk9YS5jYW52YXN8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aWYoYS50aW50TWV0aG9kKHIsZSxpKSxhLmNvbnZlcnRUaW50VG9JbWFnZSl7dmFyIG89bmV3IEltYWdlO28uc3JjPWkudG9EYXRhVVJMKCksci50aW50Q2FjaGVbbl09b31lbHNlIHIudGludENhY2hlW25dPWksYS5jYW52YXM9bnVsbDtyZXR1cm4gaX0sdGludFdpdGhNdWx0aXBseTpmdW5jdGlvbih0LGUscil7dmFyIG49ci5nZXRDb250ZXh0KFwiMmRcIiksaT10Ll9mcmFtZS5jbG9uZSgpLG89dC5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO2kueCo9byxpLnkqPW8saS53aWR0aCo9byxpLmhlaWdodCo9byxyLndpZHRoPU1hdGguY2VpbChpLndpZHRoKSxyLmhlaWdodD1NYXRoLmNlaWwoaS5oZWlnaHQpLG4uZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8ZSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLG4uZmlsbFJlY3QoMCwwLGkud2lkdGgsaS5oZWlnaHQpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwibXVsdGlwbHlcIixuLmRyYXdJbWFnZSh0LmJhc2VUZXh0dXJlLnNvdXJjZSxpLngsaS55LGkud2lkdGgsaS5oZWlnaHQsMCwwLGkud2lkdGgsaS5oZWlnaHQpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24tYXRvcFwiLG4uZHJhd0ltYWdlKHQuYmFzZVRleHR1cmUuc291cmNlLGkueCxpLnksaS53aWR0aCxpLmhlaWdodCwwLDAsaS53aWR0aCxpLmhlaWdodCl9LHRpbnRXaXRoT3ZlcmxheTpmdW5jdGlvbih0LGUscil7dmFyIG49ci5nZXRDb250ZXh0KFwiMmRcIiksaT10Ll9mcmFtZS5jbG9uZSgpLG89dC5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO2kueCo9byxpLnkqPW8saS53aWR0aCo9byxpLmhlaWdodCo9byxyLndpZHRoPU1hdGguY2VpbChpLndpZHRoKSxyLmhlaWdodD1NYXRoLmNlaWwoaS5oZWlnaHQpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiY29weVwiLG4uZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8ZSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLG4uZmlsbFJlY3QoMCwwLGkud2lkdGgsaS5oZWlnaHQpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24tYXRvcFwiLG4uZHJhd0ltYWdlKHQuYmFzZVRleHR1cmUuc291cmNlLGkueCxpLnksaS53aWR0aCxpLmhlaWdodCwwLDAsaS53aWR0aCxpLmhlaWdodCl9LHRpbnRXaXRoUGVyUGl4ZWw6ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXIuZ2V0Q29udGV4dChcIjJkXCIpLG89dC5fZnJhbWUuY2xvbmUoKSxzPXQuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtvLngqPXMsby55Kj1zLG8ud2lkdGgqPXMsby5oZWlnaHQqPXMsci53aWR0aD1NYXRoLmNlaWwoby53aWR0aCksci5oZWlnaHQ9TWF0aC5jZWlsKG8uaGVpZ2h0KSxuLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImNvcHlcIixuLmRyYXdJbWFnZSh0LmJhc2VUZXh0dXJlLnNvdXJjZSxvLngsby55LG8ud2lkdGgsby5oZWlnaHQsMCwwLG8ud2lkdGgsby5oZWlnaHQpO2Zvcih2YXIgYT0oMCxpLmhleDJyZ2IpKGUpLHU9YVswXSxsPWFbMV0saD1hWzJdLGM9bi5nZXRJbWFnZURhdGEoMCwwLG8ud2lkdGgsby5oZWlnaHQpLGY9Yy5kYXRhLGQ9MDtkPGYubGVuZ3RoO2QrPTQpZltkKzBdKj11LGZbZCsxXSo9bCxmW2QrMl0qPWg7bi5wdXRJbWFnZURhdGEoYywwLDApfSxyb3VuZENvbG9yOmZ1bmN0aW9uKHQpe3ZhciBlPWEuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbCxyPSgwLGkuaGV4MnJnYikodCk7cmV0dXJuIHJbMF09TWF0aC5taW4oMjU1LHJbMF0vZSplKSxyWzFdPU1hdGgubWluKDI1NSxyWzFdL2UqZSksclsyXT1NYXRoLm1pbigyNTUsclsyXS9lKmUpLCgwLGkucmdiMmhleCkocil9LGNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWw6OCxjb252ZXJ0VGludFRvSW1hZ2U6ITEsY2FuVXNlTXVsdGlwbHk6KDAscy5kZWZhdWx0KSgpLHRpbnRNZXRob2Q6MH07YS50aW50TWV0aG9kPWEuY2FuVXNlTXVsdGlwbHk/YS50aW50V2l0aE11bHRpcGx5OmEudGludFdpdGhQZXJQaXhlbCxyLmRlZmF1bHQ9YX0se1wiLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXCI6NzgsXCIuLi8uLi91dGlsc1wiOjEyMH1dLDEwMzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMudmVydGljZXM9bmV3IEFycmF5QnVmZmVyKGUpLHRoaXMuZmxvYXQzMlZpZXc9bmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzKSx0aGlzLnVpbnQzMlZpZXc9bmV3IFVpbnQzMkFycmF5KHRoaXMudmVydGljZXMpfXJldHVybiB0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNlcz1udWxsLHRoaXMucG9zaXRpb25zPW51bGwsdGhpcy51dnM9bnVsbCx0aGlzLmNvbG9ycz1udWxsfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sMTA0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlclwiKSx1PW4oYSksbD10KFwiLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXJcIiksaD1uKGwpLGM9dChcIi4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkc1wiKSxmPW4oYyksZD10KFwiLi9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlclwiKSxwPW4oZCksdj10KFwiLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlclwiKSx5PW4odiksZz10KFwiLi9CYXRjaEJ1ZmZlclwiKSxtPW4oZyksXz10KFwiLi4vLi4vc2V0dGluZ3NcIiksYj1uKF8pLHg9dChcInBpeGktZ2wtY29yZVwiKSxUPW4oeCksdz10KFwiYml0LXR3aWRkbGVcIiksRT1uKHcpLFM9MCxPPTAsUD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2kodGhpcyxlKTt2YXIgbj1vKHRoaXMsdC5jYWxsKHRoaXMscikpO24udmVydFNpemU9NSxuLnZlcnRCeXRlU2l6ZT00Km4udmVydFNpemUsbi5zaXplPWIuZGVmYXVsdC5TUFJJVEVfQkFUQ0hfU0laRSxuLmJ1ZmZlcnM9W107Zm9yKHZhciBzPTE7czw9RS5kZWZhdWx0Lm5leHRQb3cyKG4uc2l6ZSk7cyo9MiluLmJ1ZmZlcnMucHVzaChuZXcgbS5kZWZhdWx0KDQqcypuLnZlcnRCeXRlU2l6ZSkpO24uaW5kaWNlcz0oMCxmLmRlZmF1bHQpKG4uc2l6ZSksbi5zaGFkZXI9bnVsbCxuLmN1cnJlbnRJbmRleD0wLG4uZ3JvdXBzPVtdO2Zvcih2YXIgYT0wO2E8bi5zaXplO2ErKyluLmdyb3Vwc1thXT17dGV4dHVyZXM6W10sdGV4dHVyZUNvdW50OjAsaWRzOltdLHNpemU6MCxzdGFydDowLGJsZW5kOjB9O3JldHVybiBuLnNwcml0ZXM9W10sbi52ZXJ0ZXhCdWZmZXJzPVtdLG4udmFvcz1bXSxuLnZhb01heD0yLG4udmVydGV4Q291bnQ9MCxuLnJlbmRlcmVyLm9uKFwicHJlcmVuZGVyXCIsbi5vblByZXJlbmRlcixuKSxufXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbDt0aGlzLnJlbmRlcmVyLmxlZ2FjeT90aGlzLk1BWF9URVhUVVJFUz0xOih0aGlzLk1BWF9URVhUVVJFUz1NYXRoLm1pbih0LmdldFBhcmFtZXRlcih0Lk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxiLmRlZmF1bHQuU1BSSVRFX01BWF9URVhUVVJFUyksdGhpcy5NQVhfVEVYVFVSRVM9KDAseS5kZWZhdWx0KSh0aGlzLk1BWF9URVhUVVJFUyx0KSk7dmFyIGU9dGhpcy5zaGFkZXI9KDAscC5kZWZhdWx0KSh0LHRoaXMuTUFYX1RFWFRVUkVTKTt0aGlzLmluZGV4QnVmZmVyPVQuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcih0LHRoaXMuaW5kaWNlcyx0LlNUQVRJQ19EUkFXKSx0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7Zm9yKHZhciByPTA7cjx0aGlzLnZhb01heDtyKyspdGhpcy52ZXJ0ZXhCdWZmZXJzW3JdPVQuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIodCxudWxsLHQuU1RSRUFNX0RSQVcpLHRoaXMudmFvc1tyXT10aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlcnNbcl0sZS5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbix0LkZMT0FULCExLHRoaXMudmVydEJ5dGVTaXplLDApLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlcnNbcl0sZS5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsdC5VTlNJR05FRF9TSE9SVCwhMCx0aGlzLnZlcnRCeXRlU2l6ZSw4KS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXJzW3JdLGUuYXR0cmlidXRlcy5hQ29sb3IsdC5VTlNJR05FRF9CWVRFLCEwLHRoaXMudmVydEJ5dGVTaXplLDEyKSxlLmF0dHJpYnV0ZXMuYVRleHR1cmVJZCYmdGhpcy52YW9zW3JdLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlcnNbcl0sZS5hdHRyaWJ1dGVzLmFUZXh0dXJlSWQsdC5GTE9BVCwhMSx0aGlzLnZlcnRCeXRlU2l6ZSwxNik7dGhpcy52YW89dGhpcy52YW9zWzBdLHRoaXMuY3VycmVudEJsZW5kTW9kZT05OTk5OSx0aGlzLmJvdW5kVGV4dHVyZXM9bmV3IEFycmF5KHRoaXMuTUFYX1RFWFRVUkVTKX0sZS5wcm90b3R5cGUub25QcmVyZW5kZXI9ZnVuY3Rpb24oKXt0aGlzLnZlcnRleENvdW50PTB9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRJbmRleD49dGhpcy5zaXplJiZ0aGlzLmZsdXNoKCksdC5fdGV4dHVyZS5fdXZzJiYodGhpcy5zcHJpdGVzW3RoaXMuY3VycmVudEluZGV4KytdPXQpfSxlLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmN1cnJlbnRJbmRleCl7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbCxlPXRoaXMuTUFYX1RFWFRVUkVTLHI9RS5kZWZhdWx0Lm5leHRQb3cyKHRoaXMuY3VycmVudEluZGV4KSxuPUUuZGVmYXVsdC5sb2cyKHIpLGk9dGhpcy5idWZmZXJzW25dLG89dGhpcy5zcHJpdGVzLHM9dGhpcy5ncm91cHMsYT1pLmZsb2F0MzJWaWV3LHU9aS51aW50MzJWaWV3LGw9dGhpcy5ib3VuZFRleHR1cmVzLGg9dGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzLGM9dGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQsZj0wLGQ9dm9pZCAwLHA9dm9pZCAwLHY9MSx5PTAsZz1zWzBdLG09dm9pZCAwLF89dm9pZCAwLHg9b1swXS5ibGVuZE1vZGU7Zy50ZXh0dXJlQ291bnQ9MCxnLnN0YXJ0PTAsZy5ibGVuZD14LFMrKzt2YXIgdz12b2lkIDA7Zm9yKHc9MDt3PGU7Kyt3KWxbd109aFt3XSxsW3ddLl92aXJ0YWxCb3VuZElkPXc7Zm9yKHc9MDt3PHRoaXMuY3VycmVudEluZGV4Oysrdyl7dmFyIFA9b1t3XTtpZihkPVAuX3RleHR1cmUuYmFzZVRleHR1cmUseCE9PVAuYmxlbmRNb2RlJiYoeD1QLmJsZW5kTW9kZSxwPW51bGwseT1lLFMrKykscCE9PWQmJihwPWQsZC5fZW5hYmxlZCE9PVMpKXtpZih5PT09ZSYmKFMrKyxnLnNpemU9dy1nLnN0YXJ0LHk9MCxnPXNbdisrXSxnLmJsZW5kPXgsZy50ZXh0dXJlQ291bnQ9MCxnLnN0YXJ0PXcpLGQudG91Y2hlZD1jLGQuX3ZpcnRhbEJvdW5kSWQ9PT0tMSlmb3IodmFyIE09MDtNPGU7KytNKXt2YXIgQz0oTStPKSVlLFI9bFtDXTtpZihSLl9lbmFibGVkIT09Uyl7TysrLFIuX3ZpcnRhbEJvdW5kSWQ9LTEsZC5fdmlydGFsQm91bmRJZD1DLGxbQ109ZDticmVha319ZC5fZW5hYmxlZD1TLGcudGV4dHVyZUNvdW50KyssZy5pZHNbeV09ZC5fdmlydGFsQm91bmRJZCxnLnRleHR1cmVzW3krK109ZH1pZihtPVAudmVydGV4RGF0YSxfPVAuX3RleHR1cmUuX3V2cy51dnNVaW50MzIsdGhpcy5yZW5kZXJlci5yb3VuZFBpeGVscyl7dmFyIEE9dGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO2FbZl09KG1bMF0qQXwwKS9BLGFbZisxXT0obVsxXSpBfDApL0EsYVtmKzVdPShtWzJdKkF8MCkvQSxhW2YrNl09KG1bM10qQXwwKS9BLGFbZisxMF09KG1bNF0qQXwwKS9BLGFbZisxMV09KG1bNV0qQXwwKS9BLGFbZisxNV09KG1bNl0qQXwwKS9BLGFbZisxNl09KG1bN10qQXwwKS9BfWVsc2UgYVtmXT1tWzBdLGFbZisxXT1tWzFdLGFbZis1XT1tWzJdLGFbZis2XT1tWzNdLGFbZisxMF09bVs0XSxhW2YrMTFdPW1bNV0sYVtmKzE1XT1tWzZdLGFbZisxNl09bVs3XTt1W2YrMl09X1swXSx1W2YrN109X1sxXSx1W2YrMTJdPV9bMl0sdVtmKzE3XT1fWzNdLHVbZiszXT11W2YrOF09dVtmKzEzXT11W2YrMThdPVAuX3RpbnRSR0IrKDI1NSpNYXRoLm1pbihQLndvcmxkQWxwaGEsMSk8PDI0KSxhW2YrNF09YVtmKzldPWFbZisxNF09YVtmKzE5XT1kLl92aXJ0YWxCb3VuZElkLGYrPTIwfWZvcihnLnNpemU9dy1nLnN0YXJ0LGIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSP3RoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoaS52ZXJ0aWNlcywwLCEwKToodGhpcy52YW9NYXg8PXRoaXMudmVydGV4Q291bnQmJih0aGlzLnZhb01heCsrLHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XT1ULmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKHQsbnVsbCx0LlNUUkVBTV9EUkFXKSx0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF09dGhpcy5yZW5kZXJlci5jcmVhdGVWYW8oKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLHQuRkxPQVQsITEsdGhpcy52ZXJ0Qnl0ZVNpemUsMCkuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XSx0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsdC5VTlNJR05FRF9TSE9SVCwhMCx0aGlzLnZlcnRCeXRlU2l6ZSw4KS5hZGRBdHRyaWJ1dGUodGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLHQuVU5TSUdORURfQllURSwhMCx0aGlzLnZlcnRCeXRlU2l6ZSwxMiksdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUlkJiZ0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0uYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XSx0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlSWQsdC5GTE9BVCwhMSx0aGlzLnZlcnRCeXRlU2l6ZSwxNikpLHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pLHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoaS52ZXJ0aWNlcywwLCExKSx0aGlzLnZlcnRleENvdW50KyspLHc9MDt3PGU7Kyt3KWhbd10uX3ZpcnRhbEJvdW5kSWQ9LTE7Zm9yKHc9MDt3PHY7Kyt3KXtmb3IodmFyIEk9c1t3XSxEPUkudGV4dHVyZUNvdW50LEw9MDtMPEQ7TCsrKXA9SS50ZXh0dXJlc1tMXSxoW0kuaWRzW0xdXSE9PXAmJnRoaXMucmVuZGVyZXIuYmluZFRleHR1cmUocCxJLmlkc1tMXSwhMCkscC5fdmlydGFsQm91bmRJZD0tMTt0aGlzLnJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShJLmJsZW5kKSx0LmRyYXdFbGVtZW50cyh0LlRSSUFOR0xFUyw2Kkkuc2l6ZSx0LlVOU0lHTkVEX1NIT1JULDYqSS5zdGFydCoyKX10aGlzLmN1cnJlbnRJbmRleD0wfX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmJpbmRTaGFkZXIodGhpcy5zaGFkZXIpLGIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSJiYodGhpcy5yZW5kZXJlci5iaW5kVmFvKHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XSksdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLmJpbmQoKSl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmZsdXNoKCl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMudmFvTWF4O2UrKyl0aGlzLnZlcnRleEJ1ZmZlcnNbZV0mJnRoaXMudmVydGV4QnVmZmVyc1tlXS5kZXN0cm95KCksdGhpcy52YW9zW2VdJiZ0aGlzLnZhb3NbZV0uZGVzdHJveSgpO3RoaXMuaW5kZXhCdWZmZXImJnRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucmVuZGVyZXIub2ZmKFwicHJlcmVuZGVyXCIsdGhpcy5vblByZXJlbmRlcix0aGlzKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zaGFkZXImJih0aGlzLnNoYWRlci5kZXN0cm95KCksdGhpcy5zaGFkZXI9bnVsbCksdGhpcy52ZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy52YW9zPW51bGwsdGhpcy5pbmRleEJ1ZmZlcj1udWxsLHRoaXMuaW5kaWNlcz1udWxsLHRoaXMuc3ByaXRlcz1udWxsO2Zvcih2YXIgcj0wO3I8dGhpcy5idWZmZXJzLmxlbmd0aDsrK3IpdGhpcy5idWZmZXJzW3JdLmRlc3Ryb3koKX0sZX0odS5kZWZhdWx0KTtyLmRlZmF1bHQ9UCxoLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oXCJzcHJpdGVcIixQKX0se1wiLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXJcIjo4MixcIi4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlclwiOjkyLFwiLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlclwiOjk1LFwiLi4vLi4vc2V0dGluZ3NcIjo5OSxcIi4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkc1wiOjExOCxcIi4vQmF0Y2hCdWZmZXJcIjoxMDMsXCIuL2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyXCI6MTA1LFwiYml0LXR3aWRkbGVcIjoxLFwicGl4aS1nbC1jb3JlXCI6MTJ9XSwxMDU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7dmFyIHI9XCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKTtcXG59XFxuXCIsbj11O249bi5yZXBsYWNlKC8lY291bnQlL2dpLGUpLG49bi5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksbyhlKSk7Zm9yKHZhciBpPW5ldyBhLmRlZmF1bHQodCxyLG4pLHM9W10sbD0wO2w8ZTtsKyspc1tsXT1sO3JldHVybiBpLmJpbmQoKSxpLnVuaWZvcm1zLnVTYW1wbGVycz1zLGl9ZnVuY3Rpb24gbyh0KXt2YXIgZT1cIlwiO2UrPVwiXFxuXCIsZSs9XCJcXG5cIjtmb3IodmFyIHI9MDtyPHQ7cisrKXI+MCYmKGUrPVwiXFxuZWxzZSBcIikscjx0LTEmJihlKz1cImlmKHRleHR1cmVJZCA9PSBcIityK1wiLjApXCIpLGUrPVwiXFxue1wiLGUrPVwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiK3IrXCJdLCB2VGV4dHVyZUNvb3JkKTtcIixlKz1cIlxcbn1cIjtyZXR1cm4gZSs9XCJcXG5cIixlKz1cIlxcblwifXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aTt2YXIgcz10KFwiLi4vLi4vU2hhZGVyXCIpLGE9bihzKSx1PSh0KFwicGF0aFwiKSxbXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XCIsXCJ2b2lkIG1haW4odm9pZCl7XCIsXCJ2ZWM0IGNvbG9yO1wiLFwiZmxvYXQgdGV4dHVyZUlkID0gZmxvb3IodlRleHR1cmVJZCswLjUpO1wiLFwiJWZvcmxvb3AlXCIsXCJnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcIixcIn1cIl0uam9pbihcIlxcblwiKSl9LHtcIi4uLy4uL1NoYWRlclwiOjQyLHBhdGg6MjJ9XSwxMDY6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcIi4uL3Nwcml0ZXMvU3ByaXRlXCIpLGw9bih1KSxoPXQoXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCIpLGM9bihoKSxmPXQoXCIuLi9tYXRoXCIpLGQ9dChcIi4uL3V0aWxzXCIpLHA9dChcIi4uL2NvbnN0XCIpLHY9dChcIi4uL3NldHRpbmdzXCIpLHk9bih2KSxnPXQoXCIuL1RleHRTdHlsZVwiKSxtPW4oZyksXz10KFwiLi4vdXRpbHMvdHJpbUNhbnZhc1wiKSxiPW4oXykseD17dGV4dHVyZTohMCxjaGlsZHJlbjohMSxiYXNlVGV4dHVyZTohMH0sVD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixzKXtpKHRoaXMsZSkscz1zfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHMud2lkdGg9MyxzLmhlaWdodD0zO3ZhciBhPWMuZGVmYXVsdC5mcm9tQ2FudmFzKHMpO2Eub3JpZz1uZXcgZi5SZWN0YW5nbGUsYS50cmltPW5ldyBmLlJlY3RhbmdsZTt2YXIgdT1vKHRoaXMsdC5jYWxsKHRoaXMsYSkpO3JldHVybiB1LmNhbnZhcz1zLHUuY29udGV4dD11LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdS5yZXNvbHV0aW9uPXkuZGVmYXVsdC5SRVNPTFVUSU9OLHUuX3RleHQ9bnVsbCx1Ll9zdHlsZT1udWxsLHUuX3N0eWxlTGlzdGVuZXI9bnVsbCx1Ll9mb250PVwiXCIsdS50ZXh0PXIsdS5zdHlsZT1uLHUubG9jYWxTdHlsZUlEPS0xLHV9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUZXh0PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX3N0eWxlO2lmKHRoaXMubG9jYWxTdHlsZUlEIT09ci5zdHlsZUlEJiYodGhpcy5kaXJ0eT0hMCx0aGlzLmxvY2FsU3R5bGVJRD1yLnN0eWxlSUQpLHRoaXMuZGlydHl8fCF0KXt0aGlzLl9mb250PWUuZ2V0Rm9udFN0eWxlKHIpLHRoaXMuY29udGV4dC5mb250PXRoaXMuX2ZvbnQ7Zm9yKHZhciBuPXIud29yZFdyYXA/dGhpcy53b3JkV3JhcCh0aGlzLl90ZXh0KTp0aGlzLl90ZXh0LGk9bi5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyksbz1uZXcgQXJyYXkoaS5sZW5ndGgpLHM9MCxhPWUuY2FsY3VsYXRlRm9udFByb3BlcnRpZXModGhpcy5fZm9udCksdT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgbD10aGlzLmNvbnRleHQubWVhc3VyZVRleHQoaVt1XSkud2lkdGgrKGlbdV0ubGVuZ3RoLTEpKnIubGV0dGVyU3BhY2luZztvW3VdPWwscz1NYXRoLm1heChzLGwpfXZhciBoPXMrci5zdHJva2VUaGlja25lc3M7ci5kcm9wU2hhZG93JiYoaCs9ci5kcm9wU2hhZG93RGlzdGFuY2UpLHRoaXMuY2FudmFzLndpZHRoPU1hdGguY2VpbCgoaCsyKnIucGFkZGluZykqdGhpcy5yZXNvbHV0aW9uKTt2YXIgYz1yLmxpbmVIZWlnaHR8fGEuZm9udFNpemUrci5zdHJva2VUaGlja25lc3MsZj1NYXRoLm1heChjLGEuZm9udFNpemUrci5zdHJva2VUaGlja25lc3MpKyhpLmxlbmd0aC0xKSpjO3IuZHJvcFNoYWRvdyYmKGYrPXIuZHJvcFNoYWRvd0Rpc3RhbmNlKSx0aGlzLmNhbnZhcy5oZWlnaHQ9TWF0aC5jZWlsKChmKzIqci5wYWRkaW5nKSp0aGlzLnJlc29sdXRpb24pLHRoaXMuY29udGV4dC5zY2FsZSh0aGlzLnJlc29sdXRpb24sdGhpcy5yZXNvbHV0aW9uKSx0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQpLHRoaXMuY29udGV4dC5mb250PXRoaXMuX2ZvbnQsdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPXIuc3Ryb2tlLHRoaXMuY29udGV4dC5saW5lV2lkdGg9ci5zdHJva2VUaGlja25lc3MsdGhpcy5jb250ZXh0LnRleHRCYXNlbGluZT1yLnRleHRCYXNlbGluZSx0aGlzLmNvbnRleHQubGluZUpvaW49ci5saW5lSm9pbix0aGlzLmNvbnRleHQubWl0ZXJMaW1pdD1yLm1pdGVyTGltaXQ7dmFyIGQ9dm9pZCAwLHA9dm9pZCAwO2lmKHIuZHJvcFNoYWRvdyl7dGhpcy5jb250ZXh0LnNoYWRvd0JsdXI9ci5kcm9wU2hhZG93Qmx1cix0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9ci5kcm9wU2hhZG93QWxwaGEsci5kcm9wU2hhZG93Qmx1cj4wP3RoaXMuY29udGV4dC5zaGFkb3dDb2xvcj1yLmRyb3BTaGFkb3dDb2xvcjp0aGlzLmNvbnRleHQuZmlsbFN0eWxlPXIuZHJvcFNoYWRvd0NvbG9yO2Zvcih2YXIgdj1NYXRoLmNvcyhyLmRyb3BTaGFkb3dBbmdsZSkqci5kcm9wU2hhZG93RGlzdGFuY2UseT1NYXRoLnNpbihyLmRyb3BTaGFkb3dBbmdsZSkqci5kcm9wU2hhZG93RGlzdGFuY2UsZz0wO2c8aS5sZW5ndGg7ZysrKWQ9ci5zdHJva2VUaGlja25lc3MvMixwPXIuc3Ryb2tlVGhpY2tuZXNzLzIrZypjK2EuYXNjZW50LFwicmlnaHRcIj09PXIuYWxpZ24/ZCs9cy1vW2ddOlwiY2VudGVyXCI9PT1yLmFsaWduJiYoZCs9KHMtb1tnXSkvMiksci5maWxsJiYodGhpcy5kcmF3TGV0dGVyU3BhY2luZyhpW2ddLGQrdityLnBhZGRpbmcscCt5K3IucGFkZGluZyksci5zdHJva2UmJnIuc3Ryb2tlVGhpY2tuZXNzJiYodGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPXIuZHJvcFNoYWRvd0NvbG9yLHRoaXMuZHJhd0xldHRlclNwYWNpbmcoaVtnXSxkK3Yrci5wYWRkaW5nLHAreStyLnBhZGRpbmcsITApLHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT1yLnN0cm9rZSkpfXRoaXMuY29udGV4dC5zaGFkb3dCbHVyPTAsdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhPTEsdGhpcy5jb250ZXh0LmZpbGxTdHlsZT10aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShyLGkpO2Zvcih2YXIgbT0wO208aS5sZW5ndGg7bSsrKWQ9ci5zdHJva2VUaGlja25lc3MvMixwPXIuc3Ryb2tlVGhpY2tuZXNzLzIrbSpjK2EuYXNjZW50LFwicmlnaHRcIj09PXIuYWxpZ24/ZCs9cy1vW21dOlwiY2VudGVyXCI9PT1yLmFsaWduJiYoZCs9KHMtb1ttXSkvMiksci5zdHJva2UmJnIuc3Ryb2tlVGhpY2tuZXNzJiZ0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGlbbV0sZCtyLnBhZGRpbmcscCtyLnBhZGRpbmcsITApLFxuci5maWxsJiZ0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGlbbV0sZCtyLnBhZGRpbmcscCtyLnBhZGRpbmcpO3RoaXMudXBkYXRlVGV4dHVyZSgpfX0sZS5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmc9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10saT10aGlzLl9zdHlsZSxvPWkubGV0dGVyU3BhY2luZztpZigwPT09bylyZXR1cm4gdm9pZChuP3RoaXMuY29udGV4dC5zdHJva2VUZXh0KHQsZSxyKTp0aGlzLmNvbnRleHQuZmlsbFRleHQodCxlLHIpKTtmb3IodmFyIHM9U3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHQsXCJcIiksYT1lLHU9MCxsPVwiXCI7dTx0Lmxlbmd0aDspbD1zW3UrK10sbj90aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChsLGEscik6dGhpcy5jb250ZXh0LmZpbGxUZXh0KGwsYSxyKSxhKz10aGlzLmNvbnRleHQubWVhc3VyZVRleHQobCkud2lkdGgrb30sZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZT1mdW5jdGlvbigpe2lmKHRoaXMuX3N0eWxlLnRyaW0pe3ZhciB0PSgwLGIuZGVmYXVsdCkodGhpcy5jYW52YXMpO3RoaXMuY2FudmFzLndpZHRoPXQud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodC5kYXRhLDAsMCl9dmFyIGU9dGhpcy5fdGV4dHVyZSxyPXRoaXMuX3N0eWxlO2UuYmFzZVRleHR1cmUuaGFzTG9hZGVkPSEwLGUuYmFzZVRleHR1cmUucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb24sZS5iYXNlVGV4dHVyZS5yZWFsV2lkdGg9dGhpcy5jYW52YXMud2lkdGgsZS5iYXNlVGV4dHVyZS5yZWFsSGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCxlLmJhc2VUZXh0dXJlLndpZHRoPXRoaXMuY2FudmFzLndpZHRoL3RoaXMucmVzb2x1dGlvbixlLmJhc2VUZXh0dXJlLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQvdGhpcy5yZXNvbHV0aW9uLGUudHJpbS53aWR0aD1lLl9mcmFtZS53aWR0aD10aGlzLmNhbnZhcy53aWR0aC90aGlzLnJlc29sdXRpb24sZS50cmltLmhlaWdodD1lLl9mcmFtZS5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0L3RoaXMucmVzb2x1dGlvbixlLnRyaW0ueD0tci5wYWRkaW5nLGUudHJpbS55PS1yLnBhZGRpbmcsZS5vcmlnLndpZHRoPWUuX2ZyYW1lLndpZHRoLTIqci5wYWRkaW5nLGUub3JpZy5oZWlnaHQ9ZS5fZnJhbWUuaGVpZ2h0LTIqci5wYWRkaW5nLHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpLGUuYmFzZVRleHR1cmUuZW1pdChcInVwZGF0ZVwiLGUuYmFzZVRleHR1cmUpLHRoaXMuZGlydHk9ITF9LGUucHJvdG90eXBlLnJlbmRlcldlYkdMPWZ1bmN0aW9uKGUpe3RoaXMucmVzb2x1dGlvbiE9PWUucmVzb2x1dGlvbiYmKHRoaXMucmVzb2x1dGlvbj1lLnJlc29sdXRpb24sdGhpcy5kaXJ0eT0hMCksdGhpcy51cGRhdGVUZXh0KCEwKSx0LnByb3RvdHlwZS5yZW5kZXJXZWJHTC5jYWxsKHRoaXMsZSl9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24oZSl7dGhpcy5yZXNvbHV0aW9uIT09ZS5yZXNvbHV0aW9uJiYodGhpcy5yZXNvbHV0aW9uPWUucmVzb2x1dGlvbix0aGlzLmRpcnR5PSEwKSx0aGlzLnVwZGF0ZVRleHQoITApLHQucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS53b3JkV3JhcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixyPXRoaXMuX3N0eWxlLG49dC5zcGxpdChcIlxcblwiKSxpPXIud29yZFdyYXBXaWR0aCxvPTA7bzxuLmxlbmd0aDtvKyspe2Zvcih2YXIgcz1pLGE9bltvXS5zcGxpdChcIiBcIiksdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgbD10aGlzLmNvbnRleHQubWVhc3VyZVRleHQoYVt1XSkud2lkdGg7aWYoci5icmVha1dvcmRzJiZsPmkpZm9yKHZhciBoPWFbdV0uc3BsaXQoXCJcIiksYz0wO2M8aC5sZW5ndGg7YysrKXt2YXIgZj10aGlzLmNvbnRleHQubWVhc3VyZVRleHQoaFtjXSkud2lkdGg7Zj5zPyhlKz1cIlxcblwiK2hbY10scz1pLWYpOigwPT09YyYmKGUrPVwiIFwiKSxlKz1oW2NdLHMtPWYpfWVsc2V7dmFyIGQ9bCt0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoXCIgXCIpLndpZHRoOzA9PT11fHxkPnM/KHU+MCYmKGUrPVwiXFxuXCIpLGUrPWFbdV0scz1pLWwpOihzLT1kLGUrPVwiIFwiK2FbdV0pfX1vPG4ubGVuZ3RoLTEmJihlKz1cIlxcblwiKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlVGV4dCghMCksdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUZXh0KCEwKSx0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCksdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKX0sZS5wcm90b3R5cGUuX29uU3R5bGVDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwfSxlLnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGU9ZnVuY3Rpb24odCxlKXtpZighQXJyYXkuaXNBcnJheSh0LmZpbGwpKXJldHVybiB0LmZpbGw7aWYobmF2aWdhdG9yLmlzQ29jb29uSlMpcmV0dXJuIHQuZmlsbFswXTt2YXIgcj12b2lkIDAsbj12b2lkIDAsaT12b2lkIDAsbz12b2lkIDAscz10aGlzLmNhbnZhcy53aWR0aC90aGlzLnJlc29sdXRpb24sYT10aGlzLmNhbnZhcy5oZWlnaHQvdGhpcy5yZXNvbHV0aW9uLHU9dC5maWxsLnNsaWNlKCksbD10LmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7aWYoIWwubGVuZ3RoKWZvcih2YXIgaD11Lmxlbmd0aCsxLGM9MTtjPGg7KytjKWwucHVzaChjL2gpO2lmKHUudW5zaGlmdCh0LmZpbGxbMF0pLGwudW5zaGlmdCgwKSx1LnB1c2godC5maWxsW3QuZmlsbC5sZW5ndGgtMV0pLGwucHVzaCgxKSx0LmZpbGxHcmFkaWVudFR5cGU9PT1wLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKXtyPXRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChzLzIsMCxzLzIsYSksbj0odS5sZW5ndGgrMSkqZS5sZW5ndGgsaT0wO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXtpKz0xO2Zvcih2YXIgZD0wO2Q8dS5sZW5ndGg7ZCsrKW89bFtkXT9sW2RdL2UubGVuZ3RoK2YvZS5sZW5ndGg6aS9uLHIuYWRkQ29sb3JTdG9wKG8sdVtkXSksaSsrfX1lbHNle3I9dGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsYS8yLHMsYS8yKSxuPXUubGVuZ3RoKzEsaT0xO2Zvcih2YXIgdj0wO3Y8dS5sZW5ndGg7disrKW89bFt2XT9sW3ZdOmkvbixyLmFkZENvbG9yU3RvcChvLHVbdl0pLGkrK31yZXR1cm4gcn0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXtcImJvb2xlYW5cIj09dHlwZW9mIGUmJihlPXtjaGlsZHJlbjplfSksZT1PYmplY3QuYXNzaWduKHt9LHgsZSksdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsZSksdGhpcy5jb250ZXh0PW51bGwsdGhpcy5jYW52YXM9bnVsbCx0aGlzLl9zdHlsZT1udWxsfSxlLmdldEZvbnRTdHlsZT1mdW5jdGlvbih0KXt0PXR8fHt9LHQgaW5zdGFuY2VvZiBtLmRlZmF1bHR8fCh0PW5ldyBtLmRlZmF1bHQodCkpO3ZhciBlPVwibnVtYmVyXCI9PXR5cGVvZiB0LmZvbnRTaXplP3QuZm9udFNpemUrXCJweFwiOnQuZm9udFNpemUscj10LmZvbnRGYW1pbHk7QXJyYXkuaXNBcnJheSh0LmZvbnRGYW1pbHkpfHwocj10LmZvbnRGYW1pbHkuc3BsaXQoXCIsXCIpKTtmb3IodmFyIG49ci5sZW5ndGgtMTtuPj0wO24tLSl7dmFyIGk9cltuXS50cmltKCk7LyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvLnRlc3QoaSl8fChpPSdcIicraSsnXCInKSxyW25dPWl9cmV0dXJuIHQuZm9udFN0eWxlK1wiIFwiK3QuZm9udFZhcmlhbnQrXCIgXCIrdC5mb250V2VpZ2h0K1wiIFwiK2UrXCIgXCIrci5qb2luKFwiLFwiKX0sZS5jYWxjdWxhdGVGb250UHJvcGVydGllcz1mdW5jdGlvbih0KXtpZihlLmZvbnRQcm9wZXJ0aWVzQ2FjaGVbdF0pcmV0dXJuIGUuZm9udFByb3BlcnRpZXNDYWNoZVt0XTt2YXIgcj17fSxuPWUuZm9udFByb3BlcnRpZXNDYW52YXMsaT1lLmZvbnRQcm9wZXJ0aWVzQ29udGV4dDtpLmZvbnQ9dDt2YXIgbz1NYXRoLmNlaWwoaS5tZWFzdXJlVGV4dChcInxNw4lxXCIpLndpZHRoKSxzPU1hdGguY2VpbChpLm1lYXN1cmVUZXh0KFwiTVwiKS53aWR0aCksYT0yKnM7cz0xLjQqc3wwLG4ud2lkdGg9byxuLmhlaWdodD1hLGkuZmlsbFN0eWxlPVwiI2YwMFwiLGkuZmlsbFJlY3QoMCwwLG8sYSksaS5mb250PXQsaS50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsaS5maWxsU3R5bGU9XCIjMDAwXCIsaS5maWxsVGV4dChcInxNw4lxXCIsMCxzKTt2YXIgdT1pLmdldEltYWdlRGF0YSgwLDAsbyxhKS5kYXRhLGw9dS5sZW5ndGgsaD00Km8sYz0wLGY9MCxkPSExO2ZvcihjPTA7YzxzOysrYyl7Zm9yKHZhciBwPTA7cDxoO3ArPTQpaWYoMjU1IT09dVtmK3BdKXtkPSEwO2JyZWFrfWlmKGQpYnJlYWs7Zis9aH1mb3Ioci5hc2NlbnQ9cy1jLGY9bC1oLGQ9ITEsYz1hO2M+czstLWMpe2Zvcih2YXIgdj0wO3Y8aDt2Kz00KWlmKDI1NSE9PXVbZit2XSl7ZD0hMDticmVha31pZihkKWJyZWFrO2YtPWh9cmV0dXJuIHIuZGVzY2VudD1jLXMsci5mb250U2l6ZT1yLmFzY2VudCtyLmRlc2NlbnQsZS5mb250UHJvcGVydGllc0NhY2hlW3RdPXIscn0sYShlLFt7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVUZXh0KCEwKSxNYXRoLmFicyh0aGlzLnNjYWxlLngpKnRoaXMuX3RleHR1cmUub3JpZy53aWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlVGV4dCghMCk7dmFyIGU9KDAsZC5zaWduKSh0aGlzLnNjYWxlLngpfHwxO3RoaXMuc2NhbGUueD1lKnQvdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoLHRoaXMuX3dpZHRoPXR9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVGV4dCghMCksTWF0aC5hYnModGhpcy5zY2FsZS55KSp0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51cGRhdGVUZXh0KCEwKTt2YXIgZT0oMCxkLnNpZ24pKHRoaXMuc2NhbGUueSl8fDE7dGhpcy5zY2FsZS55PWUqdC90aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0LHRoaXMuX2hlaWdodD10fX0se2tleTpcInN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0eWxlfSxzZXQ6ZnVuY3Rpb24odCl7dD10fHx7fSx0IGluc3RhbmNlb2YgbS5kZWZhdWx0P3RoaXMuX3N0eWxlPXQ6dGhpcy5fc3R5bGU9bmV3IG0uZGVmYXVsdCh0KSx0aGlzLmxvY2FsU3R5bGVJRD0tMSx0aGlzLmRpcnR5PSEwfX0se2tleTpcInRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sc2V0OmZ1bmN0aW9uKHQpe3Q9U3RyaW5nKFwiXCI9PT10fHxudWxsPT09dHx8dm9pZCAwPT09dD9cIiBcIjp0KSx0aGlzLl90ZXh0IT09dCYmKHRoaXMuX3RleHQ9dCx0aGlzLmRpcnR5PSEwKX19XSksZX0obC5kZWZhdWx0KTtyLmRlZmF1bHQ9VCxULmZvbnRQcm9wZXJ0aWVzQ2FjaGU9e30sVC5mb250UHJvcGVydGllc0NhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFQuZm9udFByb3BlcnRpZXNDb250ZXh0PVQuZm9udFByb3BlcnRpZXNDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpfSx7XCIuLi9jb25zdFwiOjQ0LFwiLi4vbWF0aFwiOjY4LFwiLi4vc2V0dGluZ3NcIjo5OSxcIi4uL3Nwcml0ZXMvU3ByaXRlXCI6MTAwLFwiLi4vdGV4dHVyZXMvVGV4dHVyZVwiOjExMixcIi4uL3V0aWxzXCI6MTIwLFwiLi4vdXRpbHMvdHJpbUNhbnZhc1wiOjEyNCxcIi4vVGV4dFN0eWxlXCI6MTA3fV0sMTA3OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD8oMCxsLmhleDJzdHJpbmcpKHQpOihcInN0cmluZ1wiPT10eXBlb2YgdCYmMD09PXQuaW5kZXhPZihcIjB4XCIpJiYodD10LnJlcGxhY2UoXCIweFwiLFwiI1wiKSksdCl9ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSl0W2VdPWkodFtlXSk7cmV0dXJuIHR9cmV0dXJuIGkodCl9ZnVuY3Rpb24gcyh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpfHwhQXJyYXkuaXNBcnJheShlKSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7KytyKWlmKHRbcl0hPT1lW3JdKXJldHVybiExO3JldHVybiEwfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcIi4uL2NvbnN0XCIpLGw9dChcIi4uL3V0aWxzXCIpLGg9e2FsaWduOlwibGVmdFwiLGJyZWFrV29yZHM6ITEsZHJvcFNoYWRvdzohMSxkcm9wU2hhZG93QWxwaGE6MSxkcm9wU2hhZG93QW5nbGU6TWF0aC5QSS82LGRyb3BTaGFkb3dCbHVyOjAsZHJvcFNoYWRvd0NvbG9yOlwiIzAwMDAwMFwiLGRyb3BTaGFkb3dEaXN0YW5jZTo1LGZpbGw6XCJibGFja1wiLGZpbGxHcmFkaWVudFR5cGU6dS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxmaWxsR3JhZGllbnRTdG9wczpbXSxmb250RmFtaWx5OlwiQXJpYWxcIixmb250U2l6ZToyNixmb250U3R5bGU6XCJub3JtYWxcIixmb250VmFyaWFudDpcIm5vcm1hbFwiLGZvbnRXZWlnaHQ6XCJub3JtYWxcIixsZXR0ZXJTcGFjaW5nOjAsbGluZUhlaWdodDowLGxpbmVKb2luOlwibWl0ZXJcIixtaXRlckxpbWl0OjEwLHBhZGRpbmc6MCxzdHJva2U6XCJibGFja1wiLHN0cm9rZVRoaWNrbmVzczowLHRleHRCYXNlbGluZTpcImFscGhhYmV0aWNcIix0cmltOiExLHdvcmRXcmFwOiExLHdvcmRXcmFwV2lkdGg6MTAwfSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5zdHlsZUlEPTAsT2JqZWN0LmFzc2lnbih0aGlzLGgsZSl9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciByIGluIGgpZVtyXT10aGlzW3JdO3JldHVybiBuZXcgdChlKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtPYmplY3QuYXNzaWduKHRoaXMsaCl9LGEodCxbe2tleTpcImFsaWduXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsaWdufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYWxpZ24hPT10JiYodGhpcy5fYWxpZ249dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwiYnJlYWtXb3Jkc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9icmVha1dvcmRzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYnJlYWtXb3JkcyE9PXQmJih0aGlzLl9icmVha1dvcmRzPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcImRyb3BTaGFkb3dcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFNoYWRvd30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Ryb3BTaGFkb3chPT10JiYodGhpcy5fZHJvcFNoYWRvdz10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJkcm9wU2hhZG93QWxwaGFcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZHJvcFNoYWRvd0FscGhhIT09dCYmKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJkcm9wU2hhZG93QW5nbGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZHJvcFNoYWRvd0FuZ2xlIT09dCYmKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJkcm9wU2hhZG93Qmx1clwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Ryb3BTaGFkb3dCbHVyIT09dCYmKHRoaXMuX2Ryb3BTaGFkb3dCbHVyPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcImRyb3BTaGFkb3dDb2xvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3J9LHNldDpmdW5jdGlvbih0KXt2YXIgZT1vKHQpO3RoaXMuX2Ryb3BTaGFkb3dDb2xvciE9PWUmJih0aGlzLl9kcm9wU2hhZG93Q29sb3I9ZSx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwiZHJvcFNoYWRvd0Rpc3RhbmNlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSE9PXQmJih0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwiZmlsbFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxsfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9byh0KTt0aGlzLl9maWxsIT09ZSYmKHRoaXMuX2ZpbGw9ZSx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwiZmlsbEdyYWRpZW50VHlwZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZmlsbEdyYWRpZW50VHlwZSE9PXQmJih0aGlzLl9maWxsR3JhZGllbnRUeXBlPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcImZpbGxHcmFkaWVudFN0b3BzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzfSxzZXQ6ZnVuY3Rpb24odCl7cyh0aGlzLl9maWxsR3JhZGllbnRTdG9wcyx0KXx8KHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcImZvbnRGYW1pbHlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udEZhbWlseX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZm9udEZhbWlseSE9PXQmJih0aGlzLl9mb250RmFtaWx5PXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcImZvbnRTaXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRTaXplfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9udFNpemUhPT10JiYodGhpcy5fZm9udFNpemU9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwiZm9udFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRTdHlsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbnRTdHlsZSE9PXQmJih0aGlzLl9mb250U3R5bGU9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwiZm9udFZhcmlhbnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udFZhcmlhbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb250VmFyaWFudCE9PXQmJih0aGlzLl9mb250VmFyaWFudD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJmb250V2VpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mb250V2VpZ2h0IT09dCYmKHRoaXMuX2ZvbnRXZWlnaHQ9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5OlwibGV0dGVyU3BhY2luZ1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbGV0dGVyU3BhY2luZyE9PXQmJih0aGlzLl9sZXR0ZXJTcGFjaW5nPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcImxpbmVIZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZUhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpbmVIZWlnaHQhPT10JiYodGhpcy5fbGluZUhlaWdodD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJsaW5lSm9pblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lSm9pbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpbmVKb2luIT09dCYmKHRoaXMuX2xpbmVKb2luPXQsdGhpcy5zdHlsZUlEKyspfX0se2tleTpcIm1pdGVyTGltaXRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX21pdGVyTGltaXQhPT10JiYodGhpcy5fbWl0ZXJMaW1pdD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJwYWRkaW5nXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZGRpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYWRkaW5nIT09dCYmKHRoaXMuX3BhZGRpbmc9dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5Olwic3Ryb2tlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cm9rZX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPW8odCk7dGhpcy5fc3Ryb2tlIT09ZSYmKHRoaXMuX3N0cm9rZT1lLHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJzdHJva2VUaGlja25lc3NcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc3Ryb2tlVGhpY2tuZXNzIT09dCYmKHRoaXMuX3N0cm9rZVRoaWNrbmVzcz10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJ0ZXh0QmFzZWxpbmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dEJhc2VsaW5lIT09dCYmKHRoaXMuX3RleHRCYXNlbGluZT10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJ0cmltXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaW19LHNldDpmdW5jdGlvbih0KXt0aGlzLl90cmltIT09dCYmKHRoaXMuX3RyaW09dCx0aGlzLnN0eWxlSUQrKyl9fSx7a2V5Olwid29yZFdyYXBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29yZFdyYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93b3JkV3JhcCE9PXQmJih0aGlzLl93b3JkV3JhcD10LHRoaXMuc3R5bGVJRCsrKX19LHtrZXk6XCJ3b3JkV3JhcFdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93b3JkV3JhcFdpZHRoIT09dCYmKHRoaXMuX3dvcmRXcmFwV2lkdGg9dCx0aGlzLnN0eWxlSUQrKyl9fV0pLHR9KCk7ci5kZWZhdWx0PWN9LHtcIi4uL2NvbnN0XCI6NDQsXCIuLi91dGlsc1wiOjEyMH1dLDEwODpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuL0Jhc2VUZXh0dXJlXCIpLHU9bihhKSxsPXQoXCIuLi9zZXR0aW5nc1wiKSxoPW4obCksYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjEwMCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxMDAscz1hcmd1bWVudHNbMl0sYT1hcmd1bWVudHNbM107aSh0aGlzLGUpO3ZhciB1PW8odGhpcyx0LmNhbGwodGhpcyxudWxsLHMpKTtyZXR1cm4gdS5yZXNvbHV0aW9uPWF8fGguZGVmYXVsdC5SRVNPTFVUSU9OLHUud2lkdGg9cix1LmhlaWdodD1uLHUucmVhbFdpZHRoPXUud2lkdGgqdS5yZXNvbHV0aW9uLHUucmVhbEhlaWdodD11LmhlaWdodCp1LnJlc29sdXRpb24sdS5zY2FsZU1vZGU9dm9pZCAwIT09cz9zOmguZGVmYXVsdC5TQ0FMRV9NT0RFLHUuaGFzTG9hZGVkPSEwLHUuX2dsUmVuZGVyVGFyZ2V0cz17fSx1Ll9jYW52YXNSZW5kZXJUYXJnZXQ9bnVsbCx1LnZhbGlkPSExLHV9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0PT09dGhpcy53aWR0aCYmZT09PXRoaXMuaGVpZ2h0fHwodGhpcy52YWxpZD10PjAmJmU+MCx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnJlYWxXaWR0aD10aGlzLndpZHRoKnRoaXMucmVzb2x1dGlvbix0aGlzLnJlYWxIZWlnaHQ9dGhpcy5oZWlnaHQqdGhpcy5yZXNvbHV0aW9uLHRoaXMudmFsaWQmJnRoaXMuZW1pdChcInVwZGF0ZVwiLHRoaXMpKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCEwKSx0aGlzLnJlbmRlcmVyPW51bGx9LGV9KHUuZGVmYXVsdCk7ci5kZWZhdWx0PWN9LHtcIi4uL3NldHRpbmdzXCI6OTksXCIuL0Jhc2VUZXh0dXJlXCI6MTA5fV0sMTA5OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdT10KFwiLi4vdXRpbHNcIiksbD10KFwiLi4vc2V0dGluZ3NcIiksaD1uKGwpLGM9dChcImV2ZW50ZW1pdHRlcjNcIiksZj1uKGMpLGQ9dChcIi4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luXCIpLHA9bihkKSx2PXQoXCJiaXQtdHdpZGRsZVwiKSx5PW4odiksZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixzKXtpKHRoaXMsZSk7dmFyIGE9byh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIGEudWlkPSgwLHUudWlkKSgpLGEudG91Y2hlZD0wLGEucmVzb2x1dGlvbj1zfHxoLmRlZmF1bHQuUkVTT0xVVElPTixhLndpZHRoPTEwMCxhLmhlaWdodD0xMDAsYS5yZWFsV2lkdGg9MTAwLGEucmVhbEhlaWdodD0xMDAsYS5zY2FsZU1vZGU9dm9pZCAwIT09bj9uOmguZGVmYXVsdC5TQ0FMRV9NT0RFLGEuaGFzTG9hZGVkPSExLGEuaXNMb2FkaW5nPSExLGEuc291cmNlPW51bGwsYS5vcmlnU291cmNlPW51bGwsYS5pbWFnZVR5cGU9bnVsbCxhLnNvdXJjZVNjYWxlPTEsYS5wcmVtdWx0aXBsaWVkQWxwaGE9ITAsYS5pbWFnZVVybD1udWxsLGEuaXNQb3dlck9mVHdvPSExLGEubWlwbWFwPWguZGVmYXVsdC5NSVBNQVBfVEVYVFVSRVMsYS53cmFwTW9kZT1oLmRlZmF1bHQuV1JBUF9NT0RFLGEuX2dsVGV4dHVyZXM9e30sYS5fZW5hYmxlZD0wLGEuX3ZpcnRhbEJvdW5kSWQ9LTEsciYmYS5sb2FkU291cmNlKHIpLGEuX2Rlc3Ryb3llZD0hMSxhfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7XCJzdmdcIiE9PXRoaXMuaW1hZ2VUeXBlJiYodGhpcy5yZWFsV2lkdGg9dGhpcy5zb3VyY2UubmF0dXJhbFdpZHRofHx0aGlzLnNvdXJjZS52aWRlb1dpZHRofHx0aGlzLnNvdXJjZS53aWR0aCx0aGlzLnJlYWxIZWlnaHQ9dGhpcy5zb3VyY2UubmF0dXJhbEhlaWdodHx8dGhpcy5zb3VyY2UudmlkZW9IZWlnaHR8fHRoaXMuc291cmNlLmhlaWdodCx0aGlzLl91cGRhdGVEaW1lbnNpb25zKCkpLHRoaXMuZW1pdChcInVwZGF0ZVwiLHRoaXMpfSxlLnByb3RvdHlwZS5fdXBkYXRlRGltZW5zaW9ucz1mdW5jdGlvbigpe3RoaXMud2lkdGg9dGhpcy5yZWFsV2lkdGgvdGhpcy5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0PXRoaXMucmVhbEhlaWdodC90aGlzLnJlc29sdXRpb24sdGhpcy5pc1Bvd2VyT2ZUd289eS5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxXaWR0aCkmJnkuZGVmYXVsdC5pc1BvdzIodGhpcy5yZWFsSGVpZ2h0KX0sZS5wcm90b3R5cGUubG9hZFNvdXJjZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcy5pc0xvYWRpbmc7dGhpcy5oYXNMb2FkZWQ9ITEsdGhpcy5pc0xvYWRpbmc9ITEsciYmdGhpcy5zb3VyY2UmJih0aGlzLnNvdXJjZS5vbmxvYWQ9bnVsbCx0aGlzLnNvdXJjZS5vbmVycm9yPW51bGwpO3ZhciBuPSF0aGlzLnNvdXJjZTtpZih0aGlzLnNvdXJjZT10LCh0LnNyYyYmdC5jb21wbGV0ZXx8dC5nZXRDb250ZXh0KSYmdC53aWR0aCYmdC5oZWlnaHQpdGhpcy5fdXBkYXRlSW1hZ2VUeXBlKCksXCJzdmdcIj09PXRoaXMuaW1hZ2VUeXBlP3RoaXMuX2xvYWRTdmdTb3VyY2UoKTp0aGlzLl9zb3VyY2VMb2FkZWQoKSxuJiZ0aGlzLmVtaXQoXCJsb2FkZWRcIix0aGlzKTtlbHNlIGlmKCF0LmdldENvbnRleHQpe3ZhciBpPWZ1bmN0aW9uKCl7ZS5pc0xvYWRpbmc9ITA7dmFyIG49ZTtpZih0Lm9ubG9hZD1mdW5jdGlvbigpe2lmKG4uX3VwZGF0ZUltYWdlVHlwZSgpLHQub25sb2FkPW51bGwsdC5vbmVycm9yPW51bGwsbi5pc0xvYWRpbmcpcmV0dXJuIG4uaXNMb2FkaW5nPSExLG4uX3NvdXJjZUxvYWRlZCgpLFwic3ZnXCI9PT1uLmltYWdlVHlwZT92b2lkIG4uX2xvYWRTdmdTb3VyY2UoKTp2b2lkIG4uZW1pdChcImxvYWRlZFwiLG4pfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXt0Lm9ubG9hZD1udWxsLHQub25lcnJvcj1udWxsLG4uaXNMb2FkaW5nJiYobi5pc0xvYWRpbmc9ITEsbi5lbWl0KFwiZXJyb3JcIixuKSl9LHQuY29tcGxldGUmJnQuc3JjKXtpZih0Lm9ubG9hZD1udWxsLHQub25lcnJvcj1udWxsLFwic3ZnXCI9PT1uLmltYWdlVHlwZSlyZXR1cm4gbi5fbG9hZFN2Z1NvdXJjZSgpLHt2OnZvaWQgMH07ZS5pc0xvYWRpbmc9ITEsdC53aWR0aCYmdC5oZWlnaHQ/KGUuX3NvdXJjZUxvYWRlZCgpLHImJmUuZW1pdChcImxvYWRlZFwiLGUpKTpyJiZlLmVtaXQoXCJlcnJvclwiLGUpfX0oKTtpZihcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpP1widW5kZWZpbmVkXCI6YShpKSkpcmV0dXJuIGkudn19LGUucHJvdG90eXBlLl91cGRhdGVJbWFnZVR5cGU9ZnVuY3Rpb24oKXtpZih0aGlzLmltYWdlVXJsKXt2YXIgdD0oMCx1LmRlY29tcG9zZURhdGFVcmkpKHRoaXMuaW1hZ2VVcmwpLGU9dm9pZCAwO2lmKHQmJlwiaW1hZ2VcIj09PXQubWVkaWFUeXBlKXt2YXIgcj10LnN1YlR5cGUuc3BsaXQoXCIrXCIpWzBdO2lmKGU9KDAsdS5nZXRVcmxGaWxlRXh0ZW5zaW9uKShcIi5cIityKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGltYWdlIHR5cGUgaW4gZGF0YSBVUkkuXCIpfWVsc2UgZT0oMCx1LmdldFVybEZpbGVFeHRlbnNpb24pKHRoaXMuaW1hZ2VVcmwpLGV8fChlPVwicG5nXCIpO3RoaXMuaW1hZ2VUeXBlPWV9fSxlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZT1mdW5jdGlvbigpe2lmKFwic3ZnXCI9PT10aGlzLmltYWdlVHlwZSl7dmFyIHQ9KDAsdS5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTt0P3RoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkodCk6dGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCl9fSxlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaT1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDA7aWYoXCJiYXNlNjRcIj09PXQuZW5jb2Rpbmcpe2lmKCFhdG9iKXRocm93IG5ldyBFcnJvcihcIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLlwiKTtlPWF0b2IodC5kYXRhKX1lbHNlIGU9dC5kYXRhO3RoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhlKX0sZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ1hocj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihlLnJlYWR5U3RhdGUhPT1lLkRPTkV8fDIwMCE9PWUuc3RhdHVzKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIFNWRyB1c2luZyBYSFIuXCIpO3QuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhlLnJlc3BvbnNlKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZW1pdChcImVycm9yXCIsdCl9LGUub3BlbihcIkdFVFwiLHRoaXMuaW1hZ2VVcmwsITApLGUuc2VuZCgpfSxlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPSgwLHUuZ2V0U3ZnU2l6ZSkodCkscj1lLndpZHRoLG49ZS5oZWlnaHQ7aWYoIXJ8fCFuKXRocm93IG5ldyBFcnJvcihcIlRoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLlwiKTt0aGlzLnJlYWxXaWR0aD1NYXRoLnJvdW5kKHIqdGhpcy5zb3VyY2VTY2FsZSksdGhpcy5yZWFsSGVpZ2h0PU1hdGgucm91bmQobip0aGlzLnNvdXJjZVNjYWxlKSx0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpLndpZHRoPXRoaXMucmVhbFdpZHRoLGkuaGVpZ2h0PXRoaXMucmVhbEhlaWdodCxpLl9waXhpSWQ9XCJjYW52YXNfXCIrKDAsdS51aWQpKCksaS5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKHRoaXMuc291cmNlLDAsMCxyLG4sMCwwLHRoaXMucmVhbFdpZHRoLHRoaXMucmVhbEhlaWdodCksdGhpcy5vcmlnU291cmNlPXRoaXMuc291cmNlLHRoaXMuc291cmNlPWksdS5CYXNlVGV4dHVyZUNhY2hlW2kuX3BpeGlJZF09dGhpcyx0aGlzLmlzTG9hZGluZz0hMSx0aGlzLl9zb3VyY2VMb2FkZWQoKSx0aGlzLmVtaXQoXCJsb2FkZWRcIix0aGlzKX0sZS5wcm90b3R5cGUuX3NvdXJjZUxvYWRlZD1mdW5jdGlvbigpe3RoaXMuaGFzTG9hZGVkPSEwLHRoaXMudXBkYXRlKCl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmltYWdlVXJsJiYoZGVsZXRlIHUuQmFzZVRleHR1cmVDYWNoZVt0aGlzLmltYWdlVXJsXSxkZWxldGUgdS5UZXh0dXJlQ2FjaGVbdGhpcy5pbWFnZVVybF0sdGhpcy5pbWFnZVVybD1udWxsLG5hdmlnYXRvci5pc0NvY29vbkpTfHwodGhpcy5zb3VyY2Uuc3JjPVwiXCIpKSx0aGlzLnNvdXJjZSYmdGhpcy5zb3VyY2UuX3BpeGlJZCYmZGVsZXRlIHUuQmFzZVRleHR1cmVDYWNoZVt0aGlzLnNvdXJjZS5fcGl4aUlkXSx0aGlzLnNvdXJjZT1udWxsLHRoaXMuZGlzcG9zZSgpLHRoaXMuX2Rlc3Ryb3llZD0hMH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZW1pdChcImRpc3Bvc2VcIix0aGlzKX0sZS5wcm90b3R5cGUudXBkYXRlU291cmNlSW1hZ2U9ZnVuY3Rpb24odCl7dGhpcy5zb3VyY2Uuc3JjPXQsdGhpcy5sb2FkU291cmNlKHRoaXMuc291cmNlKX0sZS5mcm9tSW1hZ2U9ZnVuY3Rpb24odCxyLG4saSl7dmFyIG89dS5CYXNlVGV4dHVyZUNhY2hlW3RdO2lmKCFvKXt2YXIgcz1uZXcgSW1hZ2U7dm9pZCAwPT09ciYmMCE9PXQuaW5kZXhPZihcImRhdGE6XCIpJiYocy5jcm9zc09yaWdpbj0oMCxwLmRlZmF1bHQpKHQpKSxvPW5ldyBlKHMsbiksby5pbWFnZVVybD10LGkmJihvLnNvdXJjZVNjYWxlPWkpLG8ucmVzb2x1dGlvbj0oMCx1LmdldFJlc29sdXRpb25PZlVybCkodCkscy5zcmM9dCx1LkJhc2VUZXh0dXJlQ2FjaGVbdF09b31yZXR1cm4gb30sZS5mcm9tQ2FudmFzPWZ1bmN0aW9uKHQscil7dC5fcGl4aUlkfHwodC5fcGl4aUlkPVwiY2FudmFzX1wiKygwLHUudWlkKSgpKTt2YXIgbj11LkJhc2VUZXh0dXJlQ2FjaGVbdC5fcGl4aUlkXTtyZXR1cm4gbnx8KG49bmV3IGUodCxyKSx1LkJhc2VUZXh0dXJlQ2FjaGVbdC5fcGl4aUlkXT1uKSxufSxlLmZyb209ZnVuY3Rpb24odCxyLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBlLmZyb21JbWFnZSh0LHZvaWQgMCxyLG4pO2lmKHQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KXt2YXIgaT10LnNyYyxvPXUuQmFzZVRleHR1cmVDYWNoZVtpXTtyZXR1cm4gb3x8KG89bmV3IGUodCxyKSxvLmltYWdlVXJsPWksbiYmKG8uc291cmNlU2NhbGU9biksby5yZXNvbHV0aW9uPSgwLHUuZ2V0UmVzb2x1dGlvbk9mVXJsKShpKSx1LkJhc2VUZXh0dXJlQ2FjaGVbaV09byksb31yZXR1cm4gdCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50P2UuZnJvbUNhbnZhcyh0LHIpOnR9LGV9KGYuZGVmYXVsdCk7ci5kZWZhdWx0PWd9LHtcIi4uL3NldHRpbmdzXCI6OTksXCIuLi91dGlsc1wiOjEyMCxcIi4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luXCI6MTE5LFwiYml0LXR3aWRkbGVcIjoxLGV2ZW50ZW1pdHRlcjM6M31dLDExMDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuL0Jhc2VSZW5kZXJUZXh0dXJlXCIpLHU9bihhKSxsPXQoXCIuL1RleHR1cmVcIiksaD1uKGwpLGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe2kodGhpcyxlKTt2YXIgcz1udWxsO2lmKCEociBpbnN0YW5jZW9mIHUuZGVmYXVsdCkpe3ZhciBhPWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXSxoPWFyZ3VtZW50c1szXSxjPWFyZ3VtZW50c1s0XTtjb25zb2xlLndhcm4oXCJQbGVhc2UgdXNlIFJlbmRlclRleHR1cmUuY3JlYXRlKFwiK2ErXCIsIFwiK2wrXCIpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuXCIpLHM9YXJndW1lbnRzWzBdLG49bnVsbCxyPW5ldyB1LmRlZmF1bHQoYSxsLGgsYyl9dmFyIGY9byh0aGlzLHQuY2FsbCh0aGlzLHIsbikpO3JldHVybiBmLmxlZ2FjeVJlbmRlcmVyPXMsZi52YWxpZD0hMCxmLl91cGRhdGVVdnMoKSxmfXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnZhbGlkPXQ+MCYmZT4wLHRoaXMuX2ZyYW1lLndpZHRoPXRoaXMub3JpZy53aWR0aD10LHRoaXMuX2ZyYW1lLmhlaWdodD10aGlzLm9yaWcuaGVpZ2h0PWUscnx8dGhpcy5iYXNlVGV4dHVyZS5yZXNpemUodCxlKSx0aGlzLl91cGRhdGVVdnMoKX0sZS5jcmVhdGU9ZnVuY3Rpb24odCxyLG4saSl7cmV0dXJuIG5ldyBlKG5ldyB1LmRlZmF1bHQodCxyLG4saSkpfSxlfShoLmRlZmF1bHQpO3IuZGVmYXVsdD1jfSx7XCIuL0Jhc2VSZW5kZXJUZXh0dXJlXCI6MTA4LFwiLi9UZXh0dXJlXCI6MTEyfV0sMTExOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksbz10KFwiLi4vXCIpLHM9dChcIi4uL3V0aWxzXCIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7bih0aGlzLHQpLHRoaXMuYmFzZVRleHR1cmU9ZSx0aGlzLnRleHR1cmVzPXt9LHRoaXMuZGF0YT1yLHRoaXMucmVzb2x1dGlvbj10aGlzLl91cGRhdGVSZXNvbHV0aW9uKGl8fHRoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmwpLHRoaXMuX2ZyYW1lcz10aGlzLmRhdGEuZnJhbWVzLHRoaXMuX2ZyYW1lS2V5cz1PYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpLHRoaXMuX2JhdGNoSW5kZXg9MCx0aGlzLl9jYWxsYmFjaz1udWxsfXJldHVybiBpKHQsbnVsbCxbe2tleTpcIkJBVENIX1NJWkVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzfX1dKSx0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGEubWV0YS5zY2FsZSxyPSgwLHMuZ2V0UmVzb2x1dGlvbk9mVXJsKSh0LG51bGwpO3JldHVybiBudWxsPT09ciYmKHI9dm9pZCAwIT09ZT9wYXJzZUZsb2F0KGUpOjEpLDEhPT1yJiYodGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uPXIsdGhpcy5iYXNlVGV4dHVyZS51cGRhdGUoKSkscn0sdC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dGhpcy5fYmF0Y2hJbmRleD0wLHRoaXMuX2NhbGxiYWNrPWUsdGhpcy5fZnJhbWVLZXlzLmxlbmd0aDw9dC5CQVRDSF9TSVpFPyh0aGlzLl9wcm9jZXNzRnJhbWVzKDApLHRoaXMuX3BhcnNlQ29tcGxldGUoKSk6dGhpcy5fbmV4dEJhdGNoKCl9LHQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1lLG49dC5CQVRDSF9TSVpFO3ItZTxuJiZyPHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGg7KXt2YXIgaT10aGlzLl9mcmFtZUtleXNbcl0sYT10aGlzLl9mcmFtZXNbaV0uZnJhbWU7aWYoYSl7dmFyIHU9bnVsbCxsPW51bGwsaD1uZXcgby5SZWN0YW5nbGUoMCwwLHRoaXMuX2ZyYW1lc1tpXS5zb3VyY2VTaXplLncvdGhpcy5yZXNvbHV0aW9uLHRoaXMuX2ZyYW1lc1tpXS5zb3VyY2VTaXplLmgvdGhpcy5yZXNvbHV0aW9uKTt1PXRoaXMuX2ZyYW1lc1tpXS5yb3RhdGVkP25ldyBvLlJlY3RhbmdsZShhLngvdGhpcy5yZXNvbHV0aW9uLGEueS90aGlzLnJlc29sdXRpb24sYS5oL3RoaXMucmVzb2x1dGlvbixhLncvdGhpcy5yZXNvbHV0aW9uKTpuZXcgby5SZWN0YW5nbGUoYS54L3RoaXMucmVzb2x1dGlvbixhLnkvdGhpcy5yZXNvbHV0aW9uLGEudy90aGlzLnJlc29sdXRpb24sYS5oL3RoaXMucmVzb2x1dGlvbiksdGhpcy5fZnJhbWVzW2ldLnRyaW1tZWQmJihsPW5ldyBvLlJlY3RhbmdsZSh0aGlzLl9mcmFtZXNbaV0uc3ByaXRlU291cmNlU2l6ZS54L3RoaXMucmVzb2x1dGlvbix0aGlzLl9mcmFtZXNbaV0uc3ByaXRlU291cmNlU2l6ZS55L3RoaXMucmVzb2x1dGlvbixhLncvdGhpcy5yZXNvbHV0aW9uLGEuaC90aGlzLnJlc29sdXRpb24pKSx0aGlzLnRleHR1cmVzW2ldPW5ldyBvLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSx1LGgsbCx0aGlzLl9mcmFtZXNbaV0ucm90YXRlZD8yOjApLHMuVGV4dHVyZUNhY2hlW2ldPXRoaXMudGV4dHVyZXNbaV19cisrfX0sdC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jYWxsYmFjazt0aGlzLl9jYWxsYmFjaz1udWxsLHRoaXMuX2JhdGNoSW5kZXg9MCx0LmNhbGwodGhpcyx0aGlzLnRleHR1cmVzKX0sdC5wcm90b3R5cGUuX25leHRCYXRjaD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4KnQuQkFUQ0hfU0laRSksdGhpcy5fYmF0Y2hJbmRleCsrLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9iYXRjaEluZGV4KnQuQkFUQ0hfU0laRTxlLl9mcmFtZUtleXMubGVuZ3RoP2UuX25leHRCYXRjaCgpOmUuX3BhcnNlQ29tcGxldGUoKX0sMCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO2Zvcih2YXIgZSBpbiB0aGlzLnRleHR1cmVzKXRoaXMudGV4dHVyZXNbZV0uZGVzdHJveSgpO3RoaXMuX2ZyYW1lcz1udWxsLHRoaXMuX2ZyYW1lS2V5cz1udWxsLHRoaXMuZGF0YT1udWxsLHRoaXMudGV4dHVyZXM9bnVsbCx0JiZ0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmJhc2VUZXh0dXJlPW51bGx9LHR9KCk7ci5kZWZhdWx0PWF9LHtcIi4uL1wiOjYzLFwiLi4vdXRpbHNcIjoxMjB9XSwxMTI6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIGEoKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Qud2lkdGg9MTAsdC5oZWlnaHQ9MTA7dmFyIGU9dC5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIGUuZmlsbFN0eWxlPVwid2hpdGVcIixlLmZpbGxSZWN0KDAsMCwxMCwxMCksbmV3IGIobmV3IGMuZGVmYXVsdCh0KSl9ZnVuY3Rpb24gdSh0KXt0LmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LHQub249ZnVuY3Rpb24oKXt9LHQub25jZT1mdW5jdGlvbigpe30sdC5lbWl0PWZ1bmN0aW9uKCl7fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxoPXQoXCIuL0Jhc2VUZXh0dXJlXCIpLGM9bihoKSxmPXQoXCIuL1ZpZGVvQmFzZVRleHR1cmVcIiksZD1uKGYpLHA9dChcIi4vVGV4dHVyZVV2c1wiKSx2PW4ocCkseT10KFwiZXZlbnRlbWl0dGVyM1wiKSxnPW4oeSksbT10KFwiLi4vbWF0aFwiKSxfPXQoXCIuLi91dGlsc1wiKSxiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMsYSx1KXtpKHRoaXMsZSk7dmFyIGw9byh0aGlzLHQuY2FsbCh0aGlzKSk7aWYobC5ub0ZyYW1lPSExLG58fChsLm5vRnJhbWU9ITAsbj1uZXcgbS5SZWN0YW5nbGUoMCwwLDEsMSkpLHIgaW5zdGFuY2VvZiBlJiYocj1yLmJhc2VUZXh0dXJlKSxsLmJhc2VUZXh0dXJlPXIsbC5fZnJhbWU9bixsLnRyaW09YSxsLnZhbGlkPSExLGwucmVxdWlyZXNVcGRhdGU9ITEsbC5fdXZzPW51bGwsbC5vcmlnPXN8fG4sbC5fcm90YXRlPU51bWJlcih1fHwwKSx1PT09ITApbC5fcm90YXRlPTI7ZWxzZSBpZihsLl9yb3RhdGUlMiE9PTApdGhyb3cgbmV3IEVycm9yKFwiYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseVwiKTtyZXR1cm4gci5oYXNMb2FkZWQ/KGwubm9GcmFtZSYmKG49bmV3IG0uUmVjdGFuZ2xlKDAsMCxyLndpZHRoLHIuaGVpZ2h0KSxyLm9uKFwidXBkYXRlXCIsbC5vbkJhc2VUZXh0dXJlVXBkYXRlZCxsKSksbC5mcmFtZT1uKTpyLm9uY2UoXCJsb2FkZWRcIixsLm9uQmFzZVRleHR1cmVMb2FkZWQsbCksbC5fdXBkYXRlSUQ9MCxsLnRyYW5zZm9ybT1udWxsLGx9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlTG9hZGVkPWZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZUlEKyssdGhpcy5ub0ZyYW1lP3RoaXMuZnJhbWU9bmV3IG0uUmVjdGFuZ2xlKDAsMCx0LndpZHRoLHQuaGVpZ2h0KTp0aGlzLmZyYW1lPXRoaXMuX2ZyYW1lLHRoaXMuYmFzZVRleHR1cmUub24oXCJ1cGRhdGVcIix0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLHRoaXMpLHRoaXMuZW1pdChcInVwZGF0ZVwiLHRoaXMpfSxlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlVXBkYXRlZD1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVJRCsrLHRoaXMuX2ZyYW1lLndpZHRoPXQud2lkdGgsdGhpcy5fZnJhbWUuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuZW1pdChcInVwZGF0ZVwiLHRoaXMpfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3RoaXMuYmFzZVRleHR1cmUmJih0JiYoXy5UZXh0dXJlQ2FjaGVbdGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybF0mJmRlbGV0ZSBfLlRleHR1cmVDYWNoZVt0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsXSx0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKSksdGhpcy5iYXNlVGV4dHVyZS5vZmYoXCJ1cGRhdGVcIix0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLHRoaXMpLHRoaXMuYmFzZVRleHR1cmUub2ZmKFwibG9hZGVkXCIsdGhpcy5vbkJhc2VUZXh0dXJlTG9hZGVkLHRoaXMpLHRoaXMuYmFzZVRleHR1cmU9bnVsbCksdGhpcy5fZnJhbWU9bnVsbCx0aGlzLl91dnM9bnVsbCx0aGlzLnRyaW09bnVsbCx0aGlzLm9yaWc9bnVsbCx0aGlzLnZhbGlkPSExLHRoaXMub2ZmKFwiZGlzcG9zZVwiLHRoaXMuZGlzcG9zZSx0aGlzKSx0aGlzLm9mZihcInVwZGF0ZVwiLHRoaXMudXBkYXRlLHRoaXMpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmJhc2VUZXh0dXJlLHRoaXMuZnJhbWUsdGhpcy5vcmlnLHRoaXMudHJpbSx0aGlzLnJvdGF0ZSl9LGUucHJvdG90eXBlLl91cGRhdGVVdnM9ZnVuY3Rpb24oKXt0aGlzLl91dnN8fCh0aGlzLl91dnM9bmV3IHYuZGVmYXVsdCksdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSx0aGlzLmJhc2VUZXh0dXJlLHRoaXMucm90YXRlKSx0aGlzLl91cGRhdGVJRCsrfSxlLmZyb21JbWFnZT1mdW5jdGlvbih0LHIsbixpKXt2YXIgbz1fLlRleHR1cmVDYWNoZVt0XTtyZXR1cm4gb3x8KG89bmV3IGUoYy5kZWZhdWx0LmZyb21JbWFnZSh0LHIsbixpKSksXy5UZXh0dXJlQ2FjaGVbdF09byksb30sZS5mcm9tRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGU9Xy5UZXh0dXJlQ2FjaGVbdF07aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicrdCsnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUnKTtyZXR1cm4gZX0sZS5mcm9tQ2FudmFzPWZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBlKGMuZGVmYXVsdC5mcm9tQ2FudmFzKHQscikpfSxlLmZyb21WaWRlbz1mdW5jdGlvbih0LHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P2UuZnJvbVZpZGVvVXJsKHQscik6bmV3IGUoZC5kZWZhdWx0LmZyb21WaWRlbyh0LHIpKX0sZS5mcm9tVmlkZW9Vcmw9ZnVuY3Rpb24odCxyKXtyZXR1cm4gbmV3IGUoZC5kZWZhdWx0LmZyb21VcmwodCxyKSl9LGUuZnJvbT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dmFyIHI9Xy5UZXh0dXJlQ2FjaGVbdF07aWYoIXIpe3ZhciBuPW51bGwhPT10Lm1hdGNoKC9cXC4obXA0fHdlYm18b2dnfGgyNjR8YXZpfG1vdikkLyk7cmV0dXJuIG4/ZS5mcm9tVmlkZW9VcmwodCk6ZS5mcm9tSW1hZ2UodCl9cmV0dXJuIHJ9cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P25ldyBlKGMuZGVmYXVsdC5mcm9tKHQpKTp0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/ZS5mcm9tQ2FudmFzKHQpOnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P2UuZnJvbVZpZGVvKHQpOnQgaW5zdGFuY2VvZiBjLmRlZmF1bHQ/bmV3IGUodCk6dH0sZS5mcm9tTG9hZGVyPWZ1bmN0aW9uKHQscixuKXt2YXIgaT1uZXcgYy5kZWZhdWx0KHQsKHZvaWQgMCksKDAsXy5nZXRSZXNvbHV0aW9uT2ZVcmwpKHIpKSxvPW5ldyBlKGkpO3JldHVybiBpLmltYWdlVXJsPXIsbnx8KG49ciksXy5CYXNlVGV4dHVyZUNhY2hlW25dPWksXy5UZXh0dXJlQ2FjaGVbbl09byxuIT09ciYmKF8uQmFzZVRleHR1cmVDYWNoZVtyXT1pLF8uVGV4dHVyZUNhY2hlW3JdPW8pLG99LGUuYWRkVGV4dHVyZVRvQ2FjaGU9ZnVuY3Rpb24odCxlKXtfLlRleHR1cmVDYWNoZVtlXT10fSxlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGU9ZnVuY3Rpb24odCl7dmFyIGU9Xy5UZXh0dXJlQ2FjaGVbdF07cmV0dXJuIGRlbGV0ZSBfLlRleHR1cmVDYWNoZVt0XSxkZWxldGUgXy5CYXNlVGV4dHVyZUNhY2hlW3RdLGV9LGwoZSxbe2tleTpcImZyYW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZyYW1lfSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fZnJhbWU9dCx0aGlzLm5vRnJhbWU9ITEsdC54K3Qud2lkdGg+dGhpcy5iYXNlVGV4dHVyZS53aWR0aHx8dC55K3QuaGVpZ2h0PnRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0KXRocm93IG5ldyBFcnJvcihcIlRleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiBcIisoXCJYOiBcIit0LngrXCIgKyBcIit0LndpZHRoK1wiID4gXCIrdGhpcy5iYXNlVGV4dHVyZS53aWR0aCtcIiBcIikrKFwiWTogXCIrdC55K1wiICsgXCIrdC5oZWlnaHQrXCIgPiBcIit0aGlzLmJhc2VUZXh0dXJlLmhlaWdodCkpO3RoaXMudmFsaWQ9dCYmdC53aWR0aCYmdC5oZWlnaHQmJnRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkLHRoaXMudHJpbXx8dGhpcy5yb3RhdGV8fCh0aGlzLm9yaWc9dCksdGhpcy52YWxpZCYmdGhpcy5fdXBkYXRlVXZzKCl9fSx7a2V5Olwicm90YXRlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0ZT10LHRoaXMudmFsaWQmJnRoaXMuX3VwZGF0ZVV2cygpfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZy53aWR0aH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmlnLmhlaWdodH19XSksZX0oZy5kZWZhdWx0KTtyLmRlZmF1bHQ9YixiLkVNUFRZPW5ldyBiKG5ldyBjLmRlZmF1bHQpLHUoYi5FTVBUWSksYi5XSElURT1hKCksdShiLldISVRFKX0se1wiLi4vbWF0aFwiOjY4LFwiLi4vdXRpbHNcIjoxMjAsXCIuL0Jhc2VUZXh0dXJlXCI6MTA5LFwiLi9UZXh0dXJlVXZzXCI6MTEzLFwiLi9WaWRlb0Jhc2VUZXh0dXJlXCI6MTE0LGV2ZW50ZW1pdHRlcjM6M31dLDExMzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwiLi4vbWF0aC9Hcm91cEQ4XCIpLHM9bihvKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLngwPTAsdGhpcy55MD0wLHRoaXMueDE9MSx0aGlzLnkxPTAsdGhpcy54Mj0xLHRoaXMueTI9MSx0aGlzLngzPTAsdGhpcy55Mz0xLHRoaXMudXZzVWludDMyPW5ldyBVaW50MzJBcnJheSg0KX1yZXR1cm4gdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lLndpZHRoLGk9ZS5oZWlnaHQ7aWYocil7dmFyIG89dC53aWR0aC8yL24sYT10LmhlaWdodC8yL2ksdT10LngvbitvLGw9dC55L2krYTtyPXMuZGVmYXVsdC5hZGQocixzLmRlZmF1bHQuTlcpLHRoaXMueDA9dStvKnMuZGVmYXVsdC51WChyKSx0aGlzLnkwPWwrYSpzLmRlZmF1bHQudVkocikscj1zLmRlZmF1bHQuYWRkKHIsMiksdGhpcy54MT11K28qcy5kZWZhdWx0LnVYKHIpLHRoaXMueTE9bCthKnMuZGVmYXVsdC51WShyKSxyPXMuZGVmYXVsdC5hZGQociwyKSx0aGlzLngyPXUrbypzLmRlZmF1bHQudVgociksdGhpcy55Mj1sK2Eqcy5kZWZhdWx0LnVZKHIpLHI9cy5kZWZhdWx0LmFkZChyLDIpLHRoaXMueDM9dStvKnMuZGVmYXVsdC51WChyKSx0aGlzLnkzPWwrYSpzLmRlZmF1bHQudVkocil9ZWxzZSB0aGlzLngwPXQueC9uLHRoaXMueTA9dC55L2ksdGhpcy54MT0odC54K3Qud2lkdGgpL24sdGhpcy55MT10LnkvaSx0aGlzLngyPSh0LngrdC53aWR0aCkvbix0aGlzLnkyPSh0LnkrdC5oZWlnaHQpL2ksdGhpcy54Mz10Lngvbix0aGlzLnkzPSh0LnkrdC5oZWlnaHQpL2k7dGhpcy51dnNVaW50MzJbMF09KDY1NTM1KnRoaXMueTAmNjU1MzUpPDwxNnw2NTUzNSp0aGlzLngwJjY1NTM1LHRoaXMudXZzVWludDMyWzFdPSg2NTUzNSp0aGlzLnkxJjY1NTM1KTw8MTZ8NjU1MzUqdGhpcy54MSY2NTUzNSx0aGlzLnV2c1VpbnQzMlsyXT0oNjU1MzUqdGhpcy55MiY2NTUzNSk8PDE2fDY1NTM1KnRoaXMueDImNjU1MzUsdGhpcy51dnNVaW50MzJbM109KDY1NTM1KnRoaXMueTMmNjU1MzUpPDwxNnw2NTUzNSp0aGlzLngzJjY1NTM1fSx0fSgpO3IuZGVmYXVsdD1hfSx7XCIuLi9tYXRoL0dyb3VwRDhcIjo2NH1dLDExNDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gdSh0LGUpe2V8fChlPVwidmlkZW8vXCIrdC5zdWJzdHIodC5sYXN0SW5kZXhPZihcIi5cIikrMSkpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7cmV0dXJuIHIuc3JjPXQsci50eXBlPWUscn1yLl9fZXNNb2R1bGU9ITA7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxoPXQoXCIuL0Jhc2VUZXh0dXJlXCIpLGM9aShoKSxmPXQoXCIuLi91dGlsc1wiKSxkPXQoXCIuLi90aWNrZXJcIikscD1uKGQpLHY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe2lmKG8odGhpcyxlKSwhcil0aHJvdyBuZXcgRXJyb3IoXCJObyB2aWRlbyBzb3VyY2UgZWxlbWVudCBzcGVjaWZpZWQuXCIpOyhyLnJlYWR5U3RhdGU9PT1yLkhBVkVfRU5PVUdIX0RBVEF8fHIucmVhZHlTdGF0ZT09PXIuSEFWRV9GVVRVUkVfREFUQSkmJnIud2lkdGgmJnIuaGVpZ2h0JiYoci5jb21wbGV0ZT0hMCk7dmFyIGk9cyh0aGlzLHQuY2FsbCh0aGlzLHIsbikpO3JldHVybiBpLndpZHRoPXIudmlkZW9XaWR0aCxpLmhlaWdodD1yLnZpZGVvSGVpZ2h0LGkuX2F1dG9VcGRhdGU9ITAsaS5faXNBdXRvVXBkYXRpbmc9ITEsaS5hdXRvUGxheT0hMCxpLnVwZGF0ZT1pLnVwZGF0ZS5iaW5kKGkpLGkuX29uQ2FuUGxheT1pLl9vbkNhblBsYXkuYmluZChpKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsaS5fb25QbGF5U3RhcnQuYmluZChpKSksci5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIixpLl9vblBsYXlTdG9wLmJpbmQoaSkpLGkuaGFzTG9hZGVkPSExLGkuX19sb2FkZWQ9ITEsaS5faXNTb3VyY2VSZWFkeSgpP2kuX29uQ2FuUGxheSgpOihyLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsaS5fb25DYW5QbGF5KSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLGkuX29uQ2FuUGxheSkpLGl9cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zb3VyY2U7cmV0dXJuIHQuY3VycmVudFRpbWU+MCYmdC5wYXVzZWQ9PT0hMSYmdC5lbmRlZD09PSExJiZ0LnJlYWR5U3RhdGU+Mn0sZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHk9ZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMuc291cmNlLnJlYWR5U3RhdGV8fDQ9PT10aGlzLnNvdXJjZS5yZWFkeVN0YXRlfSxlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmhhc0xvYWRlZHx8dGhpcy5fb25DYW5QbGF5KCksIXRoaXMuX2lzQXV0b1VwZGF0aW5nJiZ0aGlzLmF1dG9VcGRhdGUmJihwLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsdGhpcyksdGhpcy5faXNBdXRvVXBkYXRpbmc9ITApO1xufSxlLnByb3RvdHlwZS5fb25QbGF5U3RvcD1mdW5jdGlvbigpe3RoaXMuX2lzQXV0b1VwZGF0aW5nJiYocC5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLHRoaXMpLHRoaXMuX2lzQXV0b1VwZGF0aW5nPSExKX0sZS5wcm90b3R5cGUuX29uQ2FuUGxheT1mdW5jdGlvbigpe3RoaXMuaGFzTG9hZGVkPSEwLHRoaXMuc291cmNlJiYodGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIix0aGlzLl9vbkNhblBsYXkpLHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLHRoaXMuX29uQ2FuUGxheSksdGhpcy53aWR0aD10aGlzLnNvdXJjZS52aWRlb1dpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlLnZpZGVvSGVpZ2h0LHRoaXMuX19sb2FkZWR8fCh0aGlzLl9fbG9hZGVkPSEwLHRoaXMuZW1pdChcImxvYWRlZFwiLHRoaXMpKSx0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKT90aGlzLl9vblBsYXlTdGFydCgpOnRoaXMuYXV0b1BsYXkmJnRoaXMuc291cmNlLnBsYXkoKSl9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9pc0F1dG9VcGRhdGluZyYmcC5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLHRoaXMpLHRoaXMuc291cmNlJiZ0aGlzLnNvdXJjZS5fcGl4aUlkJiYoZGVsZXRlIGYuQmFzZVRleHR1cmVDYWNoZVt0aGlzLnNvdXJjZS5fcGl4aUlkXSxkZWxldGUgdGhpcy5zb3VyY2UuX3BpeGlJZCksdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSxlLmZyb21WaWRlbz1mdW5jdGlvbih0LHIpe3QuX3BpeGlJZHx8KHQuX3BpeGlJZD1cInZpZGVvX1wiKygwLGYudWlkKSgpKTt2YXIgbj1mLkJhc2VUZXh0dXJlQ2FjaGVbdC5fcGl4aUlkXTtyZXR1cm4gbnx8KG49bmV3IGUodCxyKSxmLkJhc2VUZXh0dXJlQ2FjaGVbdC5fcGl4aUlkXT1uKSxufSxlLmZyb21Vcmw9ZnVuY3Rpb24odCxyKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7aWYobi5zZXRBdHRyaWJ1dGUoXCJ3ZWJraXQtcGxheXNpbmxpbmVcIixcIlwiKSxuLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSluLmFwcGVuZENoaWxkKHUodFtpXS5zcmN8fHRbaV0sdFtpXS5taW1lKSk7ZWxzZSBuLmFwcGVuZENoaWxkKHUodC5zcmN8fHQsdC5taW1lKSk7cmV0dXJuIG4ubG9hZCgpLGUuZnJvbVZpZGVvKG4scil9LGwoZSxbe2tleTpcImF1dG9VcGRhdGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9hdXRvVXBkYXRlJiYodGhpcy5fYXV0b1VwZGF0ZT10LCF0aGlzLl9hdXRvVXBkYXRlJiZ0aGlzLl9pc0F1dG9VcGRhdGluZz8ocC5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLHRoaXMpLHRoaXMuX2lzQXV0b1VwZGF0aW5nPSExKTp0aGlzLl9hdXRvVXBkYXRlJiYhdGhpcy5faXNBdXRvVXBkYXRpbmcmJihwLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsdGhpcyksdGhpcy5faXNBdXRvVXBkYXRpbmc9ITApKX19XSksZX0oYy5kZWZhdWx0KTtyLmRlZmF1bHQ9dix2LmZyb21VcmxzPXYuZnJvbVVybH0se1wiLi4vdGlja2VyXCI6MTE2LFwiLi4vdXRpbHNcIjoxMjAsXCIuL0Jhc2VUZXh0dXJlXCI6MTA5fV0sMTE1OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCkscz10KFwiLi4vc2V0dGluZ3NcIiksYT1uKHMpLHU9dChcImV2ZW50ZW1pdHRlcjNcIiksbD1uKHUpLGg9XCJ0aWNrXCIsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT10aGlzO2kodGhpcyx0KSx0aGlzLl9lbWl0dGVyPW5ldyBsLmRlZmF1bHQsdGhpcy5fcmVxdWVzdElkPW51bGwsdGhpcy5fbWF4RWxhcHNlZE1TPTEwMCx0aGlzLmF1dG9TdGFydD0hMSx0aGlzLmRlbHRhVGltZT0xLHRoaXMuZWxhcHNlZE1TPTEvYS5kZWZhdWx0LlRBUkdFVF9GUE1TLHRoaXMubGFzdFRpbWU9MCx0aGlzLnNwZWVkPTEsdGhpcy5zdGFydGVkPSExLHRoaXMuX3RpY2s9ZnVuY3Rpb24odCl7ZS5fcmVxdWVzdElkPW51bGwsZS5zdGFydGVkJiYoZS51cGRhdGUodCksZS5zdGFydGVkJiZudWxsPT09ZS5fcmVxdWVzdElkJiZlLl9lbWl0dGVyLmxpc3RlbmVycyhoLCEwKSYmKGUuX3JlcXVlc3RJZD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZS5fdGljaykpKX19cmV0dXJuIHQucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQ9ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5fcmVxdWVzdElkJiZ0aGlzLl9lbWl0dGVyLmxpc3RlbmVycyhoLCEwKSYmKHRoaXMubGFzdFRpbWU9cGVyZm9ybWFuY2Uubm93KCksdGhpcy5fcmVxdWVzdElkPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKSl9LHQucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZD1mdW5jdGlvbigpe251bGwhPT10aGlzLl9yZXF1ZXN0SWQmJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpLHRoaXMuX3JlcXVlc3RJZD1udWxsKX0sdC5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZT1mdW5jdGlvbigpe3RoaXMuc3RhcnRlZD90aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTp0aGlzLmF1dG9TdGFydCYmdGhpcy5zdGFydCgpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZW1pdHRlci5vbihoLHQsZSksdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCksdGhpc30sdC5wcm90b3R5cGUuYWRkT25jZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9lbWl0dGVyLm9uY2UoaCx0LGUpLHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpLHRoaXN9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9lbWl0dGVyLm9mZihoLHQsZSksdGhpcy5fZW1pdHRlci5saXN0ZW5lcnMoaCwhMCl8fHRoaXMuX2NhbmNlbElmTmVlZGVkKCksdGhpc30sdC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0ZWR8fCh0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5fcmVxdWVzdElmTmVlZGVkKCkpfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5zdGFydGVkJiYodGhpcy5zdGFydGVkPSExLHRoaXMuX2NhbmNlbElmTmVlZGVkKCkpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cGVyZm9ybWFuY2Uubm93KCksZT12b2lkIDA7dD50aGlzLmxhc3RUaW1lPyhlPXRoaXMuZWxhcHNlZE1TPXQtdGhpcy5sYXN0VGltZSxlPnRoaXMuX21heEVsYXBzZWRNUyYmKGU9dGhpcy5fbWF4RWxhcHNlZE1TKSx0aGlzLmRlbHRhVGltZT1lKmEuZGVmYXVsdC5UQVJHRVRfRlBNUyp0aGlzLnNwZWVkLHRoaXMuX2VtaXR0ZXIuZW1pdChoLHRoaXMuZGVsdGFUaW1lKSk6dGhpcy5kZWx0YVRpbWU9dGhpcy5lbGFwc2VkTVM9MCx0aGlzLmxhc3RUaW1lPXR9LG8odCxbe2tleTpcIkZQU1wiLGdldDpmdW5jdGlvbigpe3JldHVybiAxZTMvdGhpcy5lbGFwc2VkTVN9fSx7a2V5OlwibWluRlBTXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDFlMy90aGlzLl9tYXhFbGFwc2VkTVN9LHNldDpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLm1pbihNYXRoLm1heCgwLHQpLzFlMyxhLmRlZmF1bHQuVEFSR0VUX0ZQTVMpO3RoaXMuX21heEVsYXBzZWRNUz0xL2V9fV0pLHR9KCk7ci5kZWZhdWx0PWN9LHtcIi4uL3NldHRpbmdzXCI6OTksZXZlbnRlbWl0dGVyMzozfV0sMTE2OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ci5fX2VzTW9kdWxlPSEwLHIuVGlja2VyPXIuc2hhcmVkPXZvaWQgMDt2YXIgaT10KFwiLi9UaWNrZXJcIiksbz1uKGkpLHM9bmV3IG8uZGVmYXVsdDtzLmF1dG9TdGFydD0hMCxyLnNoYXJlZD1zLHIuVGlja2VyPW8uZGVmYXVsdH0se1wiLi9UaWNrZXJcIjoxMTV9XSwxMTc6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIHQ9ISFuYXZpZ2F0b3IucGxhdGZvcm0mJi9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7cmV0dXJuIXR9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1ufSx7fV0sMTE4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9Nip0LHI9bmV3IFVpbnQxNkFycmF5KGUpLG49MCxpPTA7bjxlO24rPTYsaSs9NClyW24rMF09aSswLHJbbisxXT1pKzEscltuKzJdPWkrMixyW24rM109aSswLHJbbis0XT1pKzIscltuKzVdPWkrMztyZXR1cm4gcn1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW59LHt9XSwxMTk6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp3aW5kb3cubG9jYXRpb247aWYoMD09PXQuaW5kZXhPZihcImRhdGE6XCIpKXJldHVyblwiXCI7ZT1lfHx3aW5kb3cubG9jYXRpb24sYXx8KGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLGEuaHJlZj10LHQ9cy5kZWZhdWx0LnBhcnNlKGEuaHJlZik7dmFyIHI9IXQucG9ydCYmXCJcIj09PWUucG9ydHx8dC5wb3J0PT09ZS5wb3J0O3JldHVybiB0Lmhvc3RuYW1lPT09ZS5ob3N0bmFtZSYmciYmdC5wcm90b2NvbD09PWUucHJvdG9jb2w/XCJcIjpcImFub255bW91c1wifXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aTt2YXIgbz10KFwidXJsXCIpLHM9bihvKSxhPXZvaWQgMH0se3VybDoyOH1dLDEyMDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8oKXtyZXR1cm4rK0F9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBlPWV8fFtdLGVbMF09KHQ+PjE2JjI1NSkvMjU1LGVbMV09KHQ+PjgmMjU1KS8yNTUsZVsyXT0oMjU1JnQpLzI1NSxlfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHQ9dC50b1N0cmluZygxNiksdD1cIjAwMDAwMFwiLnN1YnN0cigwLDYtdC5sZW5ndGgpK3QsXCIjXCIrdH1mdW5jdGlvbiB1KHQpe3JldHVybigyNTUqdFswXTw8MTYpKygyNTUqdFsxXTw8OCkrKDI1NSp0WzJdfDApfWZ1bmN0aW9uIGwodCxlKXt2YXIgcj1ULmRlZmF1bHQuUkVUSU5BX1BSRUZJWC5leGVjKHQpO3JldHVybiByP3BhcnNlRmxvYXQoclsxXSk6dm9pZCAwIT09ZT9lOjF9ZnVuY3Rpb24gaCh0KXt2YXIgZT1iLkRBVEFfVVJJLmV4ZWModCk7aWYoZSlyZXR1cm57bWVkaWFUeXBlOmVbMV0/ZVsxXS50b0xvd2VyQ2FzZSgpOnZvaWQgMCxzdWJUeXBlOmVbMl0/ZVsyXS50b0xvd2VyQ2FzZSgpOnZvaWQgMCxlbmNvZGluZzplWzNdP2VbM10udG9Mb3dlckNhc2UoKTp2b2lkIDAsZGF0YTplWzRdfX1mdW5jdGlvbiBjKHQpe3ZhciBlPWIuVVJMX0ZJTEVfRVhURU5TSU9OLmV4ZWModCk7aWYoZSlyZXR1cm4gZVsxXS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGYodCl7dmFyIGU9Yi5TVkdfU0laRS5leGVjKHQpLHI9e307cmV0dXJuIGUmJihyW2VbMV1dPU1hdGgucm91bmQocGFyc2VGbG9hdChlWzNdKSkscltlWzVdXT1NYXRoLnJvdW5kKHBhcnNlRmxvYXQoZVs3XSkpKSxyfWZ1bmN0aW9uIGQoKXtJPSEwfWZ1bmN0aW9uIHAodCl7aWYoIUkpe2lmKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiY2hyb21lXCIpPi0xKXt2YXIgZT1bXCJcXG4gJWMgJWMgJWMgUGl4aS5qcyBcIitiLlZFUlNJT04rXCIgLSDinLAgXCIrdCtcIiDinLAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMg4pmlJWPimaUlY+KZpSBcXG5cXG5cIixcImJhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7XCIsXCJiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwO1wiLFwiY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7XCIsXCJiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwO1wiLFwiYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDtcIixcImJhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7XCIsXCJjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDtcIixcImNvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwO1wiLFwiY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7XCJdO3dpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfWVsc2Ugd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyhcIlBpeGkuanMgXCIrYi5WRVJTSU9OK1wiIC0gXCIrdCtcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIik7ST0hMH19ZnVuY3Rpb24gdigpe3ZhciB0PXtzdGVuY2lsOiEwLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9O3RyeXtpZighd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dClyZXR1cm4hMTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHI9ZS5nZXRDb250ZXh0KFwid2ViZ2xcIix0KXx8ZS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsdCksbj0hKCFyfHwhci5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO2lmKHIpe3ZhciBpPXIuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO2kmJmkubG9zZUNvbnRleHQoKX1yZXR1cm4gcj1udWxsLG59Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIHkodCl7cmV0dXJuIDA9PT10PzA6dDwwPy0xOjF9ZnVuY3Rpb24gZyh0LGUscil7dmFyIG49dC5sZW5ndGg7aWYoIShlPj1ufHwwPT09cikpe3I9ZStyPm4/bi1lOnI7Zm9yKHZhciBpPW4tcixvPWU7bzxpOysrbyl0W29dPXRbbytyXTt0Lmxlbmd0aD1pfX1mdW5jdGlvbiBtKCl7dmFyIHQ9dm9pZCAwO2Zvcih0IGluIEQpRFt0XS5kZXN0cm95KCk7Zm9yKHQgaW4gTClMW3RdLmRlc3Ryb3koKX1mdW5jdGlvbiBfKCl7dmFyIHQ9dm9pZCAwO2Zvcih0IGluIEQpZGVsZXRlIERbdF07Zm9yKHQgaW4gTClkZWxldGUgTFt0XX1yLl9fZXNNb2R1bGU9ITAsci5CYXNlVGV4dHVyZUNhY2hlPXIuVGV4dHVyZUNhY2hlPXIubWl4aW5zPXIucGx1Z2luVGFyZ2V0PXIuRXZlbnRFbWl0dGVyPXIuaXNNb2JpbGU9dm9pZCAwLHIudWlkPW8sci5oZXgycmdiPXMsci5oZXgyc3RyaW5nPWEsci5yZ2IyaGV4PXUsci5nZXRSZXNvbHV0aW9uT2ZVcmw9bCxyLmRlY29tcG9zZURhdGFVcmk9aCxyLmdldFVybEZpbGVFeHRlbnNpb249YyxyLmdldFN2Z1NpemU9ZixyLnNraXBIZWxsbz1kLHIuc2F5SGVsbG89cCxyLmlzV2ViR0xTdXBwb3J0ZWQ9dixyLnNpZ249eSxyLnJlbW92ZUl0ZW1zPWcsci5kZXN0cm95VGV4dHVyZUNhY2hlPW0sci5jbGVhclRleHR1cmVDYWNoZT1fO3ZhciBiPXQoXCIuLi9jb25zdFwiKSx4PXQoXCIuLi9zZXR0aW5nc1wiKSxUPWkoeCksdz10KFwiZXZlbnRlbWl0dGVyM1wiKSxFPWkodyksUz10KFwiLi9wbHVnaW5UYXJnZXRcIiksTz1pKFMpLFA9dChcIi4vbWl4aW5cIiksTT1uKFApLEM9dChcImlzbW9iaWxlanNcIiksUj1uKEMpLEE9MCxJPSExO3IuaXNNb2JpbGU9UixyLkV2ZW50RW1pdHRlcj1FLmRlZmF1bHQsci5wbHVnaW5UYXJnZXQ9Ty5kZWZhdWx0LHIubWl4aW5zPU07dmFyIEQ9ci5UZXh0dXJlQ2FjaGU9e30sTD1yLkJhc2VUZXh0dXJlQ2FjaGU9e319LHtcIi4uL2NvbnN0XCI6NDQsXCIuLi9zZXR0aW5nc1wiOjk5LFwiLi9taXhpblwiOjEyMixcIi4vcGx1Z2luVGFyZ2V0XCI6MTIzLGV2ZW50ZW1pdHRlcjM6Myxpc21vYmlsZWpzOjR9XSwxMjE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQpe3JldHVybiBzLmRlZmF1bHQudGFibGV0fHxzLmRlZmF1bHQucGhvbmU/NDp0fXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9aTt2YXIgbz10KFwiaXNtb2JpbGVqc1wiKSxzPW4obyl9LHtpc21vYmlsZWpzOjR9XSwxMjI6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYodCYmZSlmb3IodmFyIHI9T2JqZWN0LmtleXMoZSksbj0wO248ci5sZW5ndGg7KytuKXt2YXIgaT1yW25dO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpKX19ZnVuY3Rpb24gaSh0LGUpe3MucHVzaCh0LGUpfWZ1bmN0aW9uIG8oKXtmb3IodmFyIHQ9MDt0PHMubGVuZ3RoO3QrPTIpbihzW3RdLHNbdCsxXSk7cy5sZW5ndGg9MH1yLl9fZXNNb2R1bGU9ITAsci5taXhpbj1uLHIuZGVsYXlNaXhpbj1pLHIucGVyZm9ybU1peGlucz1vO3ZhciBzPVtdfSx7fV0sMTIzOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt0Ll9fcGx1Z2lucz17fSx0LnJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKGUscil7dC5fX3BsdWdpbnNbZV09cn0sdC5wcm90b3R5cGUuaW5pdFBsdWdpbnM9ZnVuY3Rpb24oKXt0aGlzLnBsdWdpbnM9dGhpcy5wbHVnaW5zfHx7fTtmb3IodmFyIGUgaW4gdC5fX3BsdWdpbnMpdGhpcy5wbHVnaW5zW2VdPW5ldyB0Ll9fcGx1Z2luc1tlXSh0aGlzKX0sdC5wcm90b3R5cGUuZGVzdHJveVBsdWdpbnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wbHVnaW5zKXRoaXMucGx1Z2luc1t0XS5kZXN0cm95KCksdGhpcy5wbHVnaW5zW3RdPW51bGw7dGhpcy5wbHVnaW5zPW51bGx9fXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9e21peGluOmZ1bmN0aW9uKHQpe24odCl9fX0se31dLDEyNDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9dC53aWR0aCxyPXQuaGVpZ2h0LG49dC5nZXRDb250ZXh0KFwiMmRcIiksaT1uLmdldEltYWdlRGF0YSgwLDAsZSxyKSxvPWkuZGF0YSxzPW8ubGVuZ3RoLGE9e3RvcDpudWxsLGxlZnQ6bnVsbCxyaWdodDpudWxsLGJvdHRvbTpudWxsfSx1PXZvaWQgMCxsPXZvaWQgMCxoPXZvaWQgMDtmb3IodT0wO3U8czt1Kz00KTAhPT1vW3UrM10mJihsPXUvNCVlLGg9fn4odS80L2UpLG51bGw9PT1hLnRvcCYmKGEudG9wPWgpLG51bGw9PT1hLmxlZnQ/YS5sZWZ0PWw6bDxhLmxlZnQmJihhLmxlZnQ9bCksbnVsbD09PWEucmlnaHQ/YS5yaWdodD1sKzE6YS5yaWdodDxsJiYoYS5yaWdodD1sKzEpLG51bGw9PT1hLmJvdHRvbT9hLmJvdHRvbT1oOmEuYm90dG9tPGgmJihhLmJvdHRvbT1oKSk7ZT1hLnJpZ2h0LWEubGVmdCxyPWEuYm90dG9tLWEudG9wKzE7dmFyIGM9bi5nZXRJbWFnZURhdGEoYS5sZWZ0LGEudG9wLGUscik7cmV0dXJue2hlaWdodDpyLHdpZHRoOmUsZGF0YTpjfX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW59LHt9XSwxMjU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQpe312YXIgbz10KFwiLi9jb3JlXCIpLHM9bihvKSxhPXQoXCIuL21lc2hcIiksdT1uKGEpLGw9dChcIi4vcGFydGljbGVzXCIpLGg9bihsKSxjPXQoXCIuL2V4dHJhc1wiKSxmPW4oYyksZD10KFwiLi9maWx0ZXJzXCIpLHA9bihkKSx2PXQoXCIuL3ByZXBhcmVcIikseT1uKHYpLGc9dChcIi4vbG9hZGVyc1wiKSxtPW4oZyksXz10KFwiLi9pbnRlcmFjdGlvblwiKSxiPW4oXyk7cy5TcHJpdGVCYXRjaD1mdW5jdGlvbigpe3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIlNwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCBwbGVhc2UgdXNlIHRoZSBuZXcgUGFydGljbGVDb250YWluZXIgaW5zdGVhZC5cIil9LHMuQXNzZXRMb2FkZXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBwaXhpIHYzLCBwbGVhc2Ugc2VlIHRoZSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcy5cIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHMse1N0YWdlOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiWW91IGRvIG5vdCBuZWVkIHRvIHVzZSBhIFBJWEkgU3RhZ2UgYW55IG1vcmUsIHlvdSBjYW4gc2ltcGx5IHJlbmRlciBhbnkgY29udGFpbmVyLlwiKSxzLkNvbnRhaW5lcn19LERpc3BsYXlPYmplY3RDb250YWluZXI6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJEaXNwbGF5T2JqZWN0Q29udGFpbmVyIGhhcyBiZWVuIHNob3J0ZW5lZCB0byBDb250YWluZXIsIHBsZWFzZSB1c2UgQ29udGFpbmVyIGZyb20gbm93IG9uLlwiKSxzLkNvbnRhaW5lcn19LFN0cmlwOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiVGhlIFN0cmlwIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gTWVzaCBhbmQgbW92ZWQgdG8gbWVzaC5NZXNoLCBwbGVhc2UgdXNlIG1lc2guTWVzaCBmcm9tIG5vdyBvbi5cIiksdS5NZXNofX0sUm9wZTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRoZSBSb3BlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIG1lc2guUm9wZSwgcGxlYXNlIHVzZSBtZXNoLlJvcGUgZnJvbSBub3cgb24uXCIpLHUuUm9wZX19LFBhcnRpY2xlQ29udGFpbmVyOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciwgcGxlYXNlIHVzZSBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgZnJvbSBub3cgb24uXCIpLGguUGFydGljbGVDb250YWluZXJ9fSxNb3ZpZUNsaXA6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5BbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBleHRyYXMuQW5pbWF0ZWRTcHJpdGUuXCIpLGYuQW5pbWF0ZWRTcHJpdGV9fSxUaWxpbmdTcHJpdGU6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgVGlsaW5nU3ByaXRlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5UaWxpbmdTcHJpdGUsIHBsZWFzZSB1c2UgZXh0cmFzLlRpbGluZ1Nwcml0ZSBmcm9tIG5vdyBvbi5cIiksZi5UaWxpbmdTcHJpdGV9fSxCaXRtYXBUZXh0OntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiVGhlIEJpdG1hcFRleHQgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkJpdG1hcFRleHQsIHBsZWFzZSB1c2UgZXh0cmFzLkJpdG1hcFRleHQgZnJvbSBub3cgb24uXCIpLGYuQml0bWFwVGV4dH19LGJsZW5kTW9kZXM6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgYmxlbmRNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBCTEVORF9NT0RFUywgcGxlYXNlIHVzZSBCTEVORF9NT0RFUyBmcm9tIG5vdyBvbi5cIikscy5CTEVORF9NT0RFU319LHNjYWxlTW9kZXM6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgc2NhbGVNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBTQ0FMRV9NT0RFUywgcGxlYXNlIHVzZSBTQ0FMRV9NT0RFUyBmcm9tIG5vdyBvbi5cIikscy5TQ0FMRV9NT0RFU319LEJhc2VUZXh0dXJlQ2FjaGU6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgQmFzZVRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5CYXNlVGV4dHVyZUNhY2hlLCBwbGVhc2UgdXNlIHV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgZnJvbSBub3cgb24uXCIpLHMudXRpbHMuQmFzZVRleHR1cmVDYWNoZX19LFRleHR1cmVDYWNoZTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRoZSBUZXh0dXJlQ2FjaGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gdXRpbHMuVGV4dHVyZUNhY2hlLCBwbGVhc2UgdXNlIHV0aWxzLlRleHR1cmVDYWNoZSBmcm9tIG5vdyBvbi5cIikscy51dGlscy5UZXh0dXJlQ2FjaGV9fSxtYXRoOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiVGhlIG1hdGggbmFtZXNwYWNlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSBhY2Nlc3MgbWVtYmVycyBhbHJlYWR5IGFjY2Vzc2libGUgb24gUElYSS5cIiksc319LEFic3RyYWN0RmlsdGVyOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlclwiKSxzLkZpbHRlcn19LFRyYW5zZm9ybU1hbnVhbDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRyYW5zZm9ybU1hbnVhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRyYW5zZm9ybUJhc2UsIHBsZWFzZSB1cGRhdGUgeW91ciBwaXhpLXNwaW5lXCIpLHMuVHJhbnNmb3JtQmFzZX19LFRBUkdFVF9GUE1TOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiUElYSS5UQVJHRVRfRlBNUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVNcIikscy5zZXR0aW5ncy5UQVJHRVRfRlBNU30sc2V0OmZ1bmN0aW9uKHQpe2koXCJQSVhJLlRBUkdFVF9GUE1TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNU1wiKSxzLnNldHRpbmdzLlRBUkdFVF9GUE1TPXR9fSxGSUxURVJfUkVTT0xVVElPTjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuRklMVEVSX1JFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXCIpLHMuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT059LHNldDpmdW5jdGlvbih0KXtpKFwiUElYSS5GSUxURVJfUkVTT0xVVElPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT05cIikscy5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTj10fX0sUkVTT0xVVElPTjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuUkVTT0xVVElPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlwiKSxzLnNldHRpbmdzLlJFU09MVVRJT059LHNldDpmdW5jdGlvbih0KXtpKFwiUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXCIpLHMuc2V0dGluZ3MuUkVTT0xVVElPTj10fX0sTUlQTUFQX1RFWFRVUkVTOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiUElYSS5NSVBNQVBfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1wiKSxzLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30sc2V0OmZ1bmN0aW9uKHQpe2koXCJQSVhJLk1JUE1BUF9URVhUVVJFUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXCIpLHMuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTPXR9fSxTUFJJVEVfQkFUQ0hfU0laRTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuU1BSSVRFX0JBVENIX1NJWkUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFXCIpLHMuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkV9LHNldDpmdW5jdGlvbih0KXtpKFwiUElYSS5TUFJJVEVfQkFUQ0hfU0laRSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkVcIikscy5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRT10fX0sU1BSSVRFX01BWF9URVhUVVJFUzp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuU1BSSVRFX01BWF9URVhUVVJFUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFU1wiKSxzLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVN9LHNldDpmdW5jdGlvbih0KXtpKFwiUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTXCIpLHMuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUz10fX0sUkVUSU5BX1BSRUZJWDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWFwiKSxzLnNldHRpbmdzLlJFVElOQV9QUkVGSVh9LHNldDpmdW5jdGlvbih0KXtpKFwiUElYSS5SRVRJTkFfUFJFRklYIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYXCIpLHMuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWD10fX0sREVGQVVMVF9SRU5ERVJfT1BUSU9OUzp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuREVGQVVMVF9SRU5ERVJfT1BUSU9OU1wiKSxzLnNldHRpbmdzLlJFTkRFUl9PUFRJT05TfX19KTtmb3IodmFyIHg9W3twYXJlbnQ6XCJUUkFOU0ZPUk1fTU9ERVwiLHRhcmdldDpcIlRSQU5TRk9STV9NT0RFXCJ9LHtwYXJlbnQ6XCJHQ19NT0RFU1wiLHRhcmdldDpcIkdDX01PREVcIn0se3BhcmVudDpcIldSQVBfTU9ERVNcIix0YXJnZXQ6XCJXUkFQX01PREVcIn0se3BhcmVudDpcIlNDQUxFX01PREVTXCIsdGFyZ2V0OlwiU0NBTEVfTU9ERVwifSx7cGFyZW50OlwiUFJFQ0lTSU9OXCIsdGFyZ2V0OlwiUFJFQ0lTSU9OX0ZSQUdNRU5UXCJ9XSxUPWZ1bmN0aW9uKHQpe3ZhciBlPXhbdF07T2JqZWN0LmRlZmluZVByb3BlcnR5KHNbZS5wYXJlbnRdLFwiREVGQVVMVFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiUElYSS5cIitlLnBhcmVudCtcIi5ERUZBVUxUIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5cIitlLnRhcmdldCkscy5zZXR0aW5nc1tlLnRhcmdldF19LHNldDpmdW5jdGlvbih0KXtpKFwiUElYSS5cIitlLnBhcmVudCtcIi5ERUZBVUxUIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5cIitlLnRhcmdldCkscy5zZXR0aW5nc1tlLnRhcmdldF09dH19KX0sdz0wO3c8eC5sZW5ndGg7dysrKVQodyk7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMocy5zZXR0aW5ncyx7UFJFQ0lTSU9OOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiUElYSS5zZXR0aW5ncy5QUkVDSVNJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVFwiKSxzLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVH0sc2V0OmZ1bmN0aW9uKHQpe2koXCJQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UXCIpLHMuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UPXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGYse01vdmllQ2xpcDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBBbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBBbmltYXRlZFNwcml0ZSBmcm9tIG5vdyBvbi5cIiksZi5BbmltYXRlZFNwcml0ZX19fSkscy5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBpKFwiZ2VuZXJhdGVUZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QpXCIpLHQuZ2VuZXJhdGVUZXh0dXJlKHRoaXMsZSxyKX0scy5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkoXCJncmFwaGljcyBnZW5lcmF0ZSB0ZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIuIE9yIHRvIHJlbmRlciBhIGdyYXBoaWNzIHRvIGEgdGV4dHVyZSB1c2luZyBjYW52YXMgcGxlYXNlIHVzZSBnZW5lcmF0ZUNhbnZhc1RleHR1cmVcIiksdGhpcy5nZW5lcmF0ZUNhbnZhc1RleHR1cmUodCxlKX0scy5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5sZWdhY3lSZW5kZXJlci5yZW5kZXIodCx0aGlzLHIsZSwhbiksaShcIlJlbmRlclRleHR1cmUucmVuZGVyIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlKVwiKX0scy5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gaShcIlJlbmRlclRleHR1cmUuZ2V0SW1hZ2UgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpXCIpLHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0KX0scy5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRCYXNlNjQ9ZnVuY3Rpb24odCl7cmV0dXJuIGkoXCJSZW5kZXJUZXh0dXJlLmdldEJhc2U2NCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmJhc2U2NCh0YXJnZXQpXCIpLHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodCl9LHMuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKHQpe3JldHVybiBpKFwiUmVuZGVyVGV4dHVyZS5nZXRDYW52YXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGFyZ2V0KVwiKSx0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHQpfSxzLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldFBpeGVscz1mdW5jdGlvbih0KXtyZXR1cm4gaShcIlJlbmRlclRleHR1cmUuZ2V0UGl4ZWxzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHRhcmdldClcIiksdGhpcy5sZWdhY3lSZW5kZXJlci5waXhlbHModCl9LHMuU3ByaXRlLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKHQpe3RoaXMudGV4dHVyZT10LGkoXCJzZXRUZXh0dXJlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0dXJlIHByb3BlcnR5LCBlLmcgOiBzcHJpdGUudGV4dHVyZSA9IHRleHR1cmU7XCIpfSxmLkJpdG1hcFRleHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCl7dGhpcy50ZXh0PXQsaShcInNldFRleHQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHQgcHJvcGVydHksIGUuZyA6IG15Qml0bWFwVGV4dC50ZXh0ID0gJ215IHRleHQnO1wiKX0scy5UZXh0LnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHQpe3RoaXMudGV4dD10LGkoXCJzZXRUZXh0IGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0IHByb3BlcnR5LCBlLmcgOiBteVRleHQudGV4dCA9ICdteSB0ZXh0JztcIil9LHMuVGV4dC5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5zdHlsZT10LGkoXCJzZXRTdHlsZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgc3R5bGUgcHJvcGVydHksIGUuZyA6IG15VGV4dC5zdHlsZSA9IHN0eWxlO1wiKX0scy5UZXh0LnByb3RvdHlwZS5kZXRlcm1pbmVGb250UHJvcGVydGllcz1mdW5jdGlvbih0KXtyZXR1cm4gaShcImRldGVybWluZUZvbnRQcm9wZXJ0aWVzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBzdGF0aWMgY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgbWV0aG9kLCBlLmcgOiBUZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzKGZvbnRTdHlsZSk7XCIpLHMuVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocy5UZXh0U3R5bGUucHJvdG90eXBlLHtmb250OntnZXQ6ZnVuY3Rpb24oKXtpKFwidGV4dCBzdHlsZSBwcm9wZXJ0eSAnZm9udCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICdmb250RmFtaWx5JywgJ2ZvbnRTaXplJywgJ2ZvbnRTdHlsZScsICdmb250VmFyaWFudCcgYW5kICdmb250V2VpZ2h0JyBwcm9wZXJ0aWVzIGZyb20gbm93IG9uXCIpO3ZhciB0PVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9mb250U2l6ZT90aGlzLl9mb250U2l6ZStcInB4XCI6dGhpcy5fZm9udFNpemU7cmV0dXJuIHRoaXMuX2ZvbnRTdHlsZStcIiBcIit0aGlzLl9mb250VmFyaWFudCtcIiBcIit0aGlzLl9mb250V2VpZ2h0K1wiIFwiK3QrXCIgXCIrdGhpcy5fZm9udEZhbWlseX0sc2V0OmZ1bmN0aW9uKHQpe2koXCJ0ZXh0IHN0eWxlIHByb3BlcnR5ICdmb250JyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgJ2ZvbnRGYW1pbHknLCdmb250U2l6ZScsZm9udFN0eWxlJywnZm9udFZhcmlhbnQnIGFuZCAnZm9udFdlaWdodCcgcHJvcGVydGllcyBmcm9tIG5vdyBvblwiKSx0LmluZGV4T2YoXCJpdGFsaWNcIik+MT90aGlzLl9mb250U3R5bGU9XCJpdGFsaWNcIjp0LmluZGV4T2YoXCJvYmxpcXVlXCIpPi0xP3RoaXMuX2ZvbnRTdHlsZT1cIm9ibGlxdWVcIjp0aGlzLl9mb250U3R5bGU9XCJub3JtYWxcIix0LmluZGV4T2YoXCJzbWFsbC1jYXBzXCIpPi0xP3RoaXMuX2ZvbnRWYXJpYW50PVwic21hbGwtY2Fwc1wiOnRoaXMuX2ZvbnRWYXJpYW50PVwibm9ybWFsXCI7dmFyIGU9dC5zcGxpdChcIiBcIikscj0tMTt0aGlzLl9mb250U2l6ZT0yNjtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbilpZihlW25dLm1hdGNoKC8ocHh8cHR8ZW18JSkvKSl7cj1uLHRoaXMuX2ZvbnRTaXplPWVbbl07YnJlYWt9dGhpcy5fZm9udFdlaWdodD1cIm5vcm1hbFwiO2Zvcih2YXIgbz0wO288cjsrK28paWYoZVtvXS5tYXRjaCgvKGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApLykpe3RoaXMuX2ZvbnRXZWlnaHQ9ZVtvXTticmVha31pZihyPi0xJiZyPGUubGVuZ3RoLTEpe3RoaXMuX2ZvbnRGYW1pbHk9XCJcIjtmb3IodmFyIHM9cisxO3M8ZS5sZW5ndGg7KytzKXRoaXMuX2ZvbnRGYW1pbHkrPWVbc10rXCIgXCI7dGhpcy5fZm9udEZhbWlseT10aGlzLl9mb250RmFtaWx5LnNsaWNlKDAsLTEpfWVsc2UgdGhpcy5fZm9udEZhbWlseT1cIkFyaWFsXCI7dGhpcy5zdHlsZUlEKyt9fX0pLHMuVGV4dHVyZS5wcm90b3R5cGUuc2V0RnJhbWU9ZnVuY3Rpb24odCl7dGhpcy5mcmFtZT10LGkoXCJzZXRGcmFtZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgZnJhbWUgcHJvcGVydHksIGUuZzogbXlUZXh0dXJlLmZyYW1lID0gZnJhbWU7XCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLHtBYnN0cmFjdEZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJBc3RyYWN0RmlsdGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuRmlsdGVyXCIpLHMuQWJzdHJhY3RGaWx0ZXJ9fSxTcHJpdGVNYXNrRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcImZpbHRlcnMuU3ByaXRlTWFza0ZpbHRlciBpcyBhbiB1bmRvY3VtZW50ZWQgYWxpYXMsIHBsZWFzZSB1c2UgU3ByaXRlTWFza0ZpbHRlciBmcm9tIG5vdyBvbi5cIikscy5TcHJpdGVNYXNrRmlsdGVyfX19KSxzLnV0aWxzLnV1aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gaShcInV0aWxzLnV1aWQoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHV0aWxzLnVpZCgpIGZyb20gbm93IG9uLlwiKSxzLnV0aWxzLnVpZCgpfSxzLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaShcInV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIENhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseSBmcm9tIG5vdyBvblwiKSxzLkNhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseX07dmFyIEU9ITA7T2JqZWN0LmRlZmluZVByb3BlcnR5KHMudXRpbHMsXCJfc2FpZEhlbGxvXCIse3NldDpmdW5jdGlvbih0KXt0JiYoaShcIlBJWEkudXRpbHMuX3NhaWRIZWxsbyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkudXRpbHMuc2tpcEhlbGxvKClcIiksdGhpcy5za2lwSGVsbG8oKSksRT10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeS5jYW52YXMsXCJVUExPQURTX1BFUl9GUkFNRVwiLHtzZXQ6ZnVuY3Rpb24oKXtpKFwiUElYSS5DYW52YXNQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSBzZXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXIubWF4SXRlbXNQZXJGcmFtZSBvbiB5b3VyIHJlbmRlcmVyXCIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlBJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyXCIpLE5hTn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeS53ZWJnbCxcIlVQTE9BRFNfUEVSX0ZSQU1FXCIse3NldDpmdW5jdGlvbigpe2koXCJQSVhJLldlYkdMUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2Ugc2V0IHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlclwiKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJQSVhJLldlYkdMUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyXCIpLE5hTn19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtLlJlc291cmNlLnByb3RvdHlwZSx7aXNKc29uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRoZSBpc0pzb24gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OYC5cIiksdGhpcy50eXBlPT09bS5Mb2FkZXIuUmVzb3VyY2UuVFlQRS5KU09OfX0saXNYbWw6e2dldDpmdW5jdGlvbigpe3JldHVybiBpKFwiVGhlIGlzWG1sIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MYC5cIiksdGhpcy50eXBlPT09bS5Mb2FkZXIuUmVzb3VyY2UuVFlQRS5YTUx9fSxpc0ltYWdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRoZSBpc0ltYWdlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0VgLlwiKSx0aGlzLnR5cGU9PT1tLkxvYWRlci5SZXNvdXJjZS5UWVBFLklNQUdFfX0saXNBdWRpbzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgaXNBdWRpbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLkFVRElPYC5cIiksdGhpcy50eXBlPT09bS5Mb2FkZXIuUmVzb3VyY2UuVFlQRS5BVURJT319LGlzVmlkZW86e2dldDpmdW5jdGlvbigpe3JldHVybiBpKFwiVGhlIGlzVmlkZW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5WSURFT2AuXCIpLHRoaXMudHlwZT09PW0uTG9hZGVyLlJlc291cmNlLlRZUEUuVklERU99fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG0uTG9hZGVyLnByb3RvdHlwZSx7YmVmb3JlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlRoZSBiZWZvcmUoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBwcmUoKS5cIiksdGhpcy5wcmV9fSxhZnRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoXCJUaGUgYWZ0ZXIoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB1c2UoKS5cIiksdGhpcy51c2V9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLmludGVyYWN0aXZlVGFyZ2V0LFwiZGVmYXVsdEN1cnNvclwiLHtzZXQ6ZnVuY3Rpb24odCl7aShcIlByb3BlcnR5IGRlZmF1bHRDdXJzb3IgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCAnY3Vyc29yJy4gXCIpLHRoaXMuY3Vyc29yPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdjdXJzb3InLiBcIiksdGhpcy5jdXJzb3J9LGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5JbnRlcmFjdGlvbk1hbmFnZXIsXCJkZWZhdWx0Q3Vyc29yU3R5bGVcIix7c2V0OmZ1bmN0aW9uKHQpe2koXCJQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCAnY3Vyc29yU3R5bGVzLmRlZmF1bHQnLiBcIiksdGhpcy5jdXJzb3JTdHlsZXMuZGVmYXVsdD10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShcIlByb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdjdXJzb3JTdHlsZXMuZGVmYXVsdCcuIFwiKSx0aGlzLmN1cnNvclN0eWxlcy5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLkludGVyYWN0aW9uTWFuYWdlcixcImN1cnJlbnRDdXJzb3JTdHlsZVwiLHtzZXQ6ZnVuY3Rpb24odCl7aShcIlByb3BlcnR5IGN1cnJlbnRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZW1vdmVkLlNlZSB0aGUgY3VycmVudEN1cnNvck1vZGUgcHJvcGVydHksIHdoaWNoIHdvcmtzIGRpZmZlcmVudGx5LlwiKSx0aGlzLmN1cnJlbnRDdXJzb3JNb2RlPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiBpKFwiUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuU2VlIHRoZSBjdXJyZW50Q3Vyc29yTW9kZSBwcm9wZXJ0eSwgd2hpY2ggd29ya3MgZGlmZmVyZW50bHkuXCIpLHRoaXMuY3VycmVudEN1cnNvck1vZGV9fSl9LHtcIi4vY29yZVwiOjYzLFwiLi9leHRyYXNcIjoxMzYsXCIuL2ZpbHRlcnNcIjoxNDcsXCIuL2ludGVyYWN0aW9uXCI6MTU0LFwiLi9sb2FkZXJzXCI6MTU3LFwiLi9tZXNoXCI6MTY2LFwiLi9wYXJ0aWNsZXNcIjoxNjksXCIuL3ByZXBhcmVcIjoxNzl9XSwxMjY6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dChcIi4uLy4uL2NvcmVcIikscz1uKG8pLGE9bmV3IHMuUmVjdGFuZ2xlLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLnJlbmRlcmVyPWUsZS5leHRyYWN0PXRoaXN9cmV0dXJuIHQucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uIHQoZSl7dmFyIHQ9bmV3IEltYWdlO3JldHVybiB0LnNyYz10aGlzLmJhc2U2NChlKSx0fSx0LnByb3RvdHlwZS5iYXNlNjQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FudmFzKHQpLnRvRGF0YVVSTCgpfSx0LnByb3RvdHlwZS5jYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPXZvaWQgMCxuPXZvaWQgMCxpPXZvaWQgMCxvPXZvaWQgMDt0JiYobz10IGluc3RhbmNlb2Ygcy5SZW5kZXJUZXh0dXJlP3Q6ZS5nZW5lcmF0ZVRleHR1cmUodCkpLG8/KHI9by5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQsbj1vLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbixpPW8uZnJhbWUpOihyPWUucm9vdENvbnRleHQsaT1hLGkud2lkdGg9dGhpcy5yZW5kZXJlci53aWR0aCxpLmhlaWdodD10aGlzLnJlbmRlcmVyLmhlaWdodCk7dmFyIHU9aS53aWR0aCpuLGw9aS5oZWlnaHQqbixoPW5ldyBzLkNhbnZhc1JlbmRlclRhcmdldCh1LGwpLGM9ci5nZXRJbWFnZURhdGEoaS54Km4saS55Km4sdSxsKTtyZXR1cm4gaC5jb250ZXh0LnB1dEltYWdlRGF0YShjLDAsMCksaC5jYW52YXN9LHQucHJvdG90eXBlLnBpeGVscz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLHI9dm9pZCAwLG49dm9pZCAwLGk9dm9pZCAwLG89dm9pZCAwO3JldHVybiB0JiYobz10IGluc3RhbmNlb2Ygcy5SZW5kZXJUZXh0dXJlP3Q6ZS5nZW5lcmF0ZVRleHR1cmUodCkpLG8/KHI9by5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQsbj1vLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbixpPW8uZnJhbWUpOihyPWUucm9vdENvbnRleHQsaT1hLGkud2lkdGg9ZS53aWR0aCxpLmhlaWdodD1lLmhlaWdodCksci5nZXRJbWFnZURhdGEoMCwwLGkud2lkdGgqbixpLmhlaWdodCpuKS5kYXRhfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5leHRyYWN0PW51bGwsdGhpcy5yZW5kZXJlcj1udWxsfSx0fSgpO3IuZGVmYXVsdD11LHMuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXCJleHRyYWN0XCIsdSl9LHtcIi4uLy4uL2NvcmVcIjo2M31dLDEyNzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi93ZWJnbC9XZWJHTEV4dHJhY3RcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJ3ZWJnbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGkpLmRlZmF1bHR9fSk7dmFyIG89dChcIi4vY2FudmFzL0NhbnZhc0V4dHJhY3RcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJjYW52YXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihvKS5kZWZhdWx0fX0pfSx7XCIuL2NhbnZhcy9DYW52YXNFeHRyYWN0XCI6MTI2LFwiLi93ZWJnbC9XZWJHTEV4dHJhY3RcIjoxMjh9XSwxMjg6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dChcIi4uLy4uL2NvcmVcIikscz1uKG8pLGE9bmV3IHMuUmVjdGFuZ2xlLHU9NCxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKHRoaXMsdCksdGhpcy5yZW5kZXJlcj1lLGUuZXh0cmFjdD10aGlzfXJldHVybiB0LnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbiB0KGUpe3ZhciB0PW5ldyBJbWFnZTtyZXR1cm4gdC5zcmM9dGhpcy5iYXNlNjQoZSksdH0sdC5wcm90b3R5cGUuYmFzZTY0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbnZhcyh0KS50b0RhdGFVUkwoKX0sdC5wcm90b3R5cGUuY2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIscj12b2lkIDAsbj12b2lkIDAsaT12b2lkIDAsbz0hMSxsPXZvaWQgMDt0JiYobD10IGluc3RhbmNlb2Ygcy5SZW5kZXJUZXh0dXJlP3Q6dGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodCkpLGw/KHI9bC5iYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLG49ci5yZXNvbHV0aW9uLGk9bC5mcmFtZSxvPSExKToocj10aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQsbj1yLnJlc29sdXRpb24sbz0hMCxpPWEsaS53aWR0aD1yLnNpemUud2lkdGgsaS5oZWlnaHQ9ci5zaXplLmhlaWdodCk7dmFyIGg9aS53aWR0aCpuLGM9aS5oZWlnaHQqbixmPW5ldyBzLkNhbnZhc1JlbmRlclRhcmdldChoLGMpO2lmKHIpe2UuYmluZFJlbmRlclRhcmdldChyKTt2YXIgZD1uZXcgVWludDhBcnJheSh1KmgqYykscD1lLmdsO3AucmVhZFBpeGVscyhpLngqbixpLnkqbixoLGMscC5SR0JBLHAuVU5TSUdORURfQllURSxkKTt2YXIgdj1mLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCxoLGMpO3YuZGF0YS5zZXQoZCksZi5jb250ZXh0LnB1dEltYWdlRGF0YSh2LDAsMCksbyYmKGYuY29udGV4dC5zY2FsZSgxLC0xKSxmLmNvbnRleHQuZHJhd0ltYWdlKGYuY2FudmFzLDAsLWMpKX1yZXR1cm4gZi5jYW52YXN9LHQucHJvdG90eXBlLnBpeGVscz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLHI9dm9pZCAwLG49dm9pZCAwLGk9dm9pZCAwLG89dm9pZCAwO3QmJihvPXQgaW5zdGFuY2VvZiBzLlJlbmRlclRleHR1cmU/dDp0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0KSksbz8ocj1vLmJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0sbj1yLnJlc29sdXRpb24saT1vLmZyYW1lKToocj10aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQsbj1yLnJlc29sdXRpb24saT1hLGkud2lkdGg9ci5zaXplLndpZHRoLGkuaGVpZ2h0PXIuc2l6ZS5oZWlnaHQpO3ZhciBsPWkud2lkdGgqbixoPWkuaGVpZ2h0Km4sYz1uZXcgVWludDhBcnJheSh1KmwqaCk7aWYocil7ZS5iaW5kUmVuZGVyVGFyZ2V0KHIpO3ZhciBmPWUuZ2w7Zi5yZWFkUGl4ZWxzKGkueCpuLGkueSpuLGwsaCxmLlJHQkEsZi5VTlNJR05FRF9CWVRFLGMpfXJldHVybiBjfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5leHRyYWN0PW51bGwsdGhpcy5yZW5kZXJlcj1udWxsfSx0fSgpO3IuZGVmYXVsdD1sLHMuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbihcImV4dHJhY3RcIixsKX0se1wiLi4vLi4vY29yZVwiOjYzfV0sMTI5OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXCIuLi9jb3JlXCIpLGw9bih1KSxoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuKXtpKHRoaXMsZSk7dmFyIHM9byh0aGlzLHQuY2FsbCh0aGlzLHJbMF1pbnN0YW5jZW9mIGwuVGV4dHVyZT9yWzBdOnJbMF0udGV4dHVyZSkpO3JldHVybiBzLl90ZXh0dXJlcz1udWxsLHMuX2R1cmF0aW9ucz1udWxsLHMudGV4dHVyZXM9cixzLl9hdXRvVXBkYXRlPW4hPT0hMSxzLmFuaW1hdGlvblNwZWVkPTEscy5sb29wPSEwLHMub25Db21wbGV0ZT1udWxsLHMub25GcmFtZUNoYW5nZT1udWxsLHMuX2N1cnJlbnRUaW1lPTAscy5wbGF5aW5nPSExLHN9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nJiYodGhpcy5wbGF5aW5nPSExLHRoaXMuX2F1dG9VcGRhdGUmJmwudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsdGhpcykpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nfHwodGhpcy5wbGF5aW5nPSEwLHRoaXMuX2F1dG9VcGRhdGUmJmwudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsdGhpcykpfSxlLnByb3RvdHlwZS5nb3RvQW5kU3RvcD1mdW5jdGlvbih0KXt0aGlzLnN0b3AoKTt2YXIgZT10aGlzLmN1cnJlbnRGcmFtZTt0aGlzLl9jdXJyZW50VGltZT10LGUhPT10aGlzLmN1cnJlbnRGcmFtZSYmdGhpcy51cGRhdGVUZXh0dXJlKCl9LGUucHJvdG90eXBlLmdvdG9BbmRQbGF5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudEZyYW1lO3RoaXMuX2N1cnJlbnRUaW1lPXQsZSE9PXRoaXMuY3VycmVudEZyYW1lJiZ0aGlzLnVwZGF0ZVRleHR1cmUoKSx0aGlzLnBsYXkoKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYW5pbWF0aW9uU3BlZWQqdCxyPXRoaXMuY3VycmVudEZyYW1lO2lmKG51bGwhPT10aGlzLl9kdXJhdGlvbnMpe3ZhciBuPXRoaXMuX2N1cnJlbnRUaW1lJTEqdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtmb3Iobis9ZS82MCoxZTM7bjwwOyl0aGlzLl9jdXJyZW50VGltZS0tLG4rPXRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07dmFyIGk9TWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQqdCk7Zm9yKHRoaXMuX2N1cnJlbnRUaW1lPU1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO24+PXRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07KW4tPXRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0qaSx0aGlzLl9jdXJyZW50VGltZSs9aTt0aGlzLl9jdXJyZW50VGltZSs9bi90aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdfWVsc2UgdGhpcy5fY3VycmVudFRpbWUrPWU7dGhpcy5fY3VycmVudFRpbWU8MCYmIXRoaXMubG9vcD8odGhpcy5nb3RvQW5kU3RvcCgwKSx0aGlzLm9uQ29tcGxldGUmJnRoaXMub25Db21wbGV0ZSgpKTp0aGlzLl9jdXJyZW50VGltZT49dGhpcy5fdGV4dHVyZXMubGVuZ3RoJiYhdGhpcy5sb29wPyh0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aC0xKSx0aGlzLm9uQ29tcGxldGUmJnRoaXMub25Db21wbGV0ZSgpKTpyIT09dGhpcy5jdXJyZW50RnJhbWUmJnRoaXMudXBkYXRlVGV4dHVyZSgpfSxlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlPWZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZT10aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV0sdGhpcy5fdGV4dHVyZUlEPS0xLHRoaXMub25GcmFtZUNoYW5nZSYmdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RvcCgpLHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sZS5mcm9tRnJhbWVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pci5wdXNoKGwuVGV4dHVyZS5mcm9tRnJhbWUodFtuXSkpO3JldHVybiBuZXcgZShyKX0sZS5mcm9tSW1hZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pci5wdXNoKGwuVGV4dHVyZS5mcm9tSW1hZ2UodFtuXSkpO3JldHVybiBuZXcgZShyKX0sYShlLFt7a2V5OlwidG90YWxGcmFtZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RofX0se2tleTpcInRleHR1cmVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzfSxzZXQ6ZnVuY3Rpb24odCl7aWYodFswXWluc3RhbmNlb2YgbC5UZXh0dXJlKXRoaXMuX3RleHR1cmVzPXQsdGhpcy5fZHVyYXRpb25zPW51bGw7ZWxzZXt0aGlzLl90ZXh0dXJlcz1bXSx0aGlzLl9kdXJhdGlvbnM9W107Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy5fdGV4dHVyZXMucHVzaCh0W2VdLnRleHR1cmUpLHRoaXMuX2R1cmF0aW9ucy5wdXNoKHRbZV0udGltZSl9fX0se2tleTpcImN1cnJlbnRGcmFtZVwiLGdldDpmdW5jdGlvbigpe3ZhciB0PU1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpJXRoaXMuX3RleHR1cmVzLmxlbmd0aDtyZXR1cm4gdDwwJiYodCs9dGhpcy5fdGV4dHVyZXMubGVuZ3RoKSx0fX1dKSxlfShsLlNwcml0ZSk7ci5kZWZhdWx0PWh9LHtcIi4uL2NvcmVcIjo2M31dLDEzMDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSk7XG59ci5fX2VzTW9kdWxlPSEwO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksbD10KFwiLi4vY29yZVwiKSxoPWkobCksYz10KFwiLi4vY29yZS9tYXRoL09ic2VydmFibGVQb2ludFwiKSxmPW4oYyksZD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtvKHRoaXMsZSk7dmFyIGk9cyh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIGkuX3RleHRXaWR0aD0wLGkuX3RleHRIZWlnaHQ9MCxpLl9nbHlwaHM9W10saS5fZm9udD17dGludDp2b2lkIDAhPT1uLnRpbnQ/bi50aW50OjE2Nzc3MjE1LGFsaWduOm4uYWxpZ258fFwibGVmdFwiLG5hbWU6bnVsbCxzaXplOjB9LGkuZm9udD1uLmZvbnQsaS5fdGV4dD1yLGkubWF4V2lkdGg9MCxpLm1heExpbmVIZWlnaHQ9MCxpLl9hbmNob3I9bmV3IGYuZGVmYXVsdChmdW5jdGlvbigpe2kuZGlydHk9ITB9LGksMCwwKSxpLmRpcnR5PSExLGkudXBkYXRlVGV4dCgpLGl9cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS51cGRhdGVUZXh0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWUuZm9udHNbdGhpcy5fZm9udC5uYW1lXSxyPXRoaXMuX2ZvbnQuc2l6ZS90LnNpemUsbj1uZXcgaC5Qb2ludCxpPVtdLG89W10scz1udWxsLGE9MCx1PTAsbD0wLGM9LTEsZj0wLGQ9MCxwPTA7cDx0aGlzLnRleHQubGVuZ3RoO3ArKyl7dmFyIHY9dGhpcy50ZXh0LmNoYXJDb2RlQXQocCk7aWYoLyhcXHMpLy50ZXN0KHRoaXMudGV4dC5jaGFyQXQocCkpJiYoYz1wLGY9YSksLyg/OlxcclxcbnxcXHJ8XFxuKS8udGVzdCh0aGlzLnRleHQuY2hhckF0KHApKSlvLnB1c2goYSksdT1NYXRoLm1heCh1LGEpLGwrKyxuLng9MCxuLnkrPXQubGluZUhlaWdodCxzPW51bGw7ZWxzZSBpZihjIT09LTEmJnRoaXMubWF4V2lkdGg+MCYmbi54KnI+dGhpcy5tYXhXaWR0aCloLnV0aWxzLnJlbW92ZUl0ZW1zKGksYyxwLWMpLHA9YyxjPS0xLG8ucHVzaChmKSx1PU1hdGgubWF4KHUsZiksbCsrLG4ueD0wLG4ueSs9dC5saW5lSGVpZ2h0LHM9bnVsbDtlbHNle3ZhciB5PXQuY2hhcnNbdl07eSYmKHMmJnkua2VybmluZ1tzXSYmKG4ueCs9eS5rZXJuaW5nW3NdKSxpLnB1c2goe3RleHR1cmU6eS50ZXh0dXJlLGxpbmU6bCxjaGFyQ29kZTp2LHBvc2l0aW9uOm5ldyBoLlBvaW50KG4ueCt5LnhPZmZzZXQsbi55K3kueU9mZnNldCl9KSxhPW4ueCsoeS50ZXh0dXJlLndpZHRoK3kueE9mZnNldCksbi54Kz15LnhBZHZhbmNlLGQ9TWF0aC5tYXgoZCx5LnlPZmZzZXQreS50ZXh0dXJlLmhlaWdodCkscz12KX19by5wdXNoKGEpLHU9TWF0aC5tYXgodSxhKTtmb3IodmFyIGc9W10sbT0wO208PWw7bSsrKXt2YXIgXz0wO1wicmlnaHRcIj09PXRoaXMuX2ZvbnQuYWxpZ24/Xz11LW9bbV06XCJjZW50ZXJcIj09PXRoaXMuX2ZvbnQuYWxpZ24mJihfPSh1LW9bbV0pLzIpLGcucHVzaChfKX1mb3IodmFyIGI9aS5sZW5ndGgseD10aGlzLnRpbnQsVD0wO1Q8YjtUKyspe3ZhciB3PXRoaXMuX2dseXBoc1tUXTt3P3cudGV4dHVyZT1pW1RdLnRleHR1cmU6KHc9bmV3IGguU3ByaXRlKGlbVF0udGV4dHVyZSksdGhpcy5fZ2x5cGhzLnB1c2godykpLHcucG9zaXRpb24ueD0oaVtUXS5wb3NpdGlvbi54K2dbaVtUXS5saW5lXSkqcix3LnBvc2l0aW9uLnk9aVtUXS5wb3NpdGlvbi55KnIsdy5zY2FsZS54PXcuc2NhbGUueT1yLHcudGludD14LHcucGFyZW50fHx0aGlzLmFkZENoaWxkKHcpfWZvcih2YXIgRT1iO0U8dGhpcy5fZ2x5cGhzLmxlbmd0aDsrK0UpdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbRV0pO2lmKHRoaXMuX3RleHRXaWR0aD11KnIsdGhpcy5fdGV4dEhlaWdodD0obi55K3QubGluZUhlaWdodCkqciwwIT09dGhpcy5hbmNob3IueHx8MCE9PXRoaXMuYW5jaG9yLnkpZm9yKHZhciBTPTA7UzxiO1MrKyl0aGlzLl9nbHlwaHNbU10ueC09dGhpcy5fdGV4dFdpZHRoKnRoaXMuYW5jaG9yLngsdGhpcy5fZ2x5cGhzW1NdLnktPXRoaXMuX3RleHRIZWlnaHQqdGhpcy5hbmNob3IueTt0aGlzLm1heExpbmVIZWlnaHQ9ZCpyfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLnZhbGlkYXRlKCksdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKX0sZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZGF0ZSgpLHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpfSxlLnJlZ2lzdGVyRm9udD1mdW5jdGlvbih0LHIpe3ZhciBuPXt9LGk9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImluZm9cIilbMF0sbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY29tbW9uXCIpWzBdO24uZm9udD1pLmdldEF0dHJpYnV0ZShcImZhY2VcIiksbi5zaXplPXBhcnNlSW50KGkuZ2V0QXR0cmlidXRlKFwic2l6ZVwiKSwxMCksbi5saW5lSGVpZ2h0PXBhcnNlSW50KG8uZ2V0QXR0cmlidXRlKFwibGluZUhlaWdodFwiKSwxMCksbi5jaGFycz17fTtmb3IodmFyIHM9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNoYXJcIiksYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgdT1zW2FdLGw9cGFyc2VJbnQodS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSwxMCksYz1uZXcgaC5SZWN0YW5nbGUocGFyc2VJbnQodS5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKStyLmZyYW1lLngscGFyc2VJbnQodS5nZXRBdHRyaWJ1dGUoXCJ5XCIpLDEwKStyLmZyYW1lLnkscGFyc2VJbnQodS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSwxMCkscGFyc2VJbnQodS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksMTApKTtuLmNoYXJzW2xdPXt4T2Zmc2V0OnBhcnNlSW50KHUuZ2V0QXR0cmlidXRlKFwieG9mZnNldFwiKSwxMCkseU9mZnNldDpwYXJzZUludCh1LmdldEF0dHJpYnV0ZShcInlvZmZzZXRcIiksMTApLHhBZHZhbmNlOnBhcnNlSW50KHUuZ2V0QXR0cmlidXRlKFwieGFkdmFuY2VcIiksMTApLGtlcm5pbmc6e30sdGV4dHVyZTpuZXcgaC5UZXh0dXJlKHIuYmFzZVRleHR1cmUsYyl9fWZvcih2YXIgZj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwia2VybmluZ1wiKSxkPTA7ZDxmLmxlbmd0aDtkKyspe3ZhciBwPWZbZF0sdj1wYXJzZUludChwLmdldEF0dHJpYnV0ZShcImZpcnN0XCIpLDEwKSx5PXBhcnNlSW50KHAuZ2V0QXR0cmlidXRlKFwic2Vjb25kXCIpLDEwKSxnPXBhcnNlSW50KHAuZ2V0QXR0cmlidXRlKFwiYW1vdW50XCIpLDEwKTtuLmNoYXJzW3ldJiYobi5jaGFyc1t5XS5rZXJuaW5nW3ZdPWcpfXJldHVybiBlLmZvbnRzW24uZm9udF09bixufSx1KGUsW3trZXk6XCJ0aW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnQudGludH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbnQudGludD1cIm51bWJlclwiPT10eXBlb2YgdCYmdD49MD90OjE2Nzc3MjE1LHRoaXMuZGlydHk9ITB9fSx7a2V5OlwiYWxpZ25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udC5hbGlnbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbnQuYWxpZ249dHx8XCJsZWZ0XCIsdGhpcy5kaXJ0eT0hMH19LHtrZXk6XCJhbmNob3JcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5jaG9yfSxzZXQ6ZnVuY3Rpb24odCl7XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5fYW5jaG9yLnNldCh0KTp0aGlzLl9hbmNob3IuY29weSh0KX19LHtrZXk6XCJmb250XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnR9LHNldDpmdW5jdGlvbih0KXt0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHQ9dC5zcGxpdChcIiBcIiksdGhpcy5fZm9udC5uYW1lPTE9PT10Lmxlbmd0aD90WzBdOnQuc2xpY2UoMSkuam9pbihcIiBcIiksdGhpcy5fZm9udC5zaXplPXQubGVuZ3RoPj0yP3BhcnNlSW50KHRbMF0sMTApOmUuZm9udHNbdGhpcy5fZm9udC5uYW1lXS5zaXplKToodGhpcy5fZm9udC5uYW1lPXQubmFtZSx0aGlzLl9mb250LnNpemU9XCJudW1iZXJcIj09dHlwZW9mIHQuc2l6ZT90LnNpemU6cGFyc2VJbnQodC5zaXplLDEwKSksdGhpcy5kaXJ0eT0hMCl9fSx7a2V5OlwidGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0fSxzZXQ6ZnVuY3Rpb24odCl7dD10LnRvU3RyaW5nKCl8fFwiIFwiLHRoaXMuX3RleHQhPT10JiYodGhpcy5fdGV4dD10LHRoaXMuZGlydHk9ITApfX0se2tleTpcInRleHRXaWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbGlkYXRlKCksdGhpcy5fdGV4dFdpZHRofX0se2tleTpcInRleHRIZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZGF0ZSgpLHRoaXMuX3RleHRIZWlnaHR9fV0pLGV9KGguQ29udGFpbmVyKTtyLmRlZmF1bHQ9ZCxkLmZvbnRzPXt9fSx7XCIuLi9jb3JlXCI6NjMsXCIuLi9jb3JlL21hdGgvT2JzZXJ2YWJsZVBvaW50XCI6NjZ9XSwxMzE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxzPXQoXCIuLi9jb3JlL21hdGgvTWF0cml4XCIpLGE9bihzKSx1PW5ldyBhLmRlZmF1bHQsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyKXtpKHRoaXMsdCksdGhpcy5fdGV4dHVyZT1lLHRoaXMubWFwQ29vcmQ9bmV3IGEuZGVmYXVsdCx0aGlzLnVDbGFtcEZyYW1lPW5ldyBGbG9hdDMyQXJyYXkoNCksdGhpcy51Q2xhbXBPZmZzZXQ9bmV3IEZsb2F0MzJBcnJheSgyKSx0aGlzLl9sYXN0VGV4dHVyZUlEPS0xLHRoaXMuY2xhbXBPZmZzZXQ9MCx0aGlzLmNsYW1wTWFyZ2luPVwidW5kZWZpbmVkXCI9PXR5cGVvZiByPy41OnJ9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90ZXh0dXJlO2lmKGUmJmUudmFsaWQmJih0fHx0aGlzLl9sYXN0VGV4dHVyZUlEIT09ZS5fdXBkYXRlSUQpKXt0aGlzLl9sYXN0VGV4dHVyZUlEPWUuX3VwZGF0ZUlEO3ZhciByPWUuX3V2czt0aGlzLm1hcENvb3JkLnNldChyLngxLXIueDAsci55MS1yLnkwLHIueDMtci54MCxyLnkzLXIueTAsci54MCxyLnkwKTt2YXIgbj1lLm9yaWcsaT1lLnRyaW07aSYmKHUuc2V0KG4ud2lkdGgvaS53aWR0aCwwLDAsbi5oZWlnaHQvaS5oZWlnaHQsLWkueC9pLndpZHRoLC1pLnkvaS5oZWlnaHQpLHRoaXMubWFwQ29vcmQuYXBwZW5kKHUpKTt2YXIgbz1lLmJhc2VUZXh0dXJlLHM9dGhpcy51Q2xhbXBGcmFtZSxhPXRoaXMuY2xhbXBNYXJnaW4vby5yZXNvbHV0aW9uLGw9dGhpcy5jbGFtcE9mZnNldDtzWzBdPShlLl9mcmFtZS54K2ErbCkvby53aWR0aCxzWzFdPShlLl9mcmFtZS55K2ErbCkvby5oZWlnaHQsc1syXT0oZS5fZnJhbWUueCtlLl9mcmFtZS53aWR0aC1hK2wpL28ud2lkdGgsc1szXT0oZS5fZnJhbWUueStlLl9mcmFtZS5oZWlnaHQtYStsKS9vLmhlaWdodCx0aGlzLnVDbGFtcE9mZnNldFswXT1sL28ucmVhbFdpZHRoLHRoaXMudUNsYW1wT2Zmc2V0WzFdPWwvby5yZWFsSGVpZ2h0fX0sbyh0LFt7a2V5OlwidGV4dHVyZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZT10LHRoaXMuX2xhc3RUZXh0dXJlSUQ9LTF9fV0pLHR9KCk7ci5kZWZhdWx0PWx9LHtcIi4uL2NvcmUvbWF0aC9NYXRyaXhcIjo2NX1dLDEzMjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksbD10KFwiLi4vY29yZVwiKSxoPWkobCksYz10KFwiLi4vY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXJcIiksZj1uKGMpLGQ9dChcIi4vVGV4dHVyZVRyYW5zZm9ybVwiKSxwPW4oZCksdj1uZXcgaC5Qb2ludCx5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEwMCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxMDA7byh0aGlzLGUpO3ZhciBhPXModGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIGEudGlsZVRyYW5zZm9ybT1uZXcgaC5UcmFuc2Zvcm1TdGF0aWMsYS5fd2lkdGg9bixhLl9oZWlnaHQ9aSxhLl9jYW52YXNQYXR0ZXJuPW51bGwsYS51dlRyYW5zZm9ybT1yLnRyYW5zZm9ybXx8bmV3IHAuZGVmYXVsdChyKSxhLnBsdWdpbk5hbWU9XCJ0aWxpbmdTcHJpdGVcIixhLnV2UmVzcGVjdEFuY2hvcj0hMSxhfXJldHVybiBhKGUsdCksZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXZUcmFuc2Zvcm0mJih0aGlzLnV2VHJhbnNmb3JtLnRleHR1cmU9dGhpcy5fdGV4dHVyZSl9LGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90ZXh0dXJlO2UmJmUudmFsaWQmJih0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSx0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSgpLHQuc2V0T2JqZWN0UmVuZGVyZXIodC5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pLHQucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKSl9LGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGV4dHVyZTtpZihlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCl7dmFyIHI9dC5jb250ZXh0LG49dGhpcy53b3JsZFRyYW5zZm9ybSxpPXQucmVzb2x1dGlvbixvPWUuYmFzZVRleHR1cmUscz1lLmJhc2VUZXh0dXJlLnJlc29sdXRpb24sYT10aGlzLnRpbGVQb3NpdGlvbi54L3RoaXMudGlsZVNjYWxlLnglZS5fZnJhbWUud2lkdGgsdT10aGlzLnRpbGVQb3NpdGlvbi55L3RoaXMudGlsZVNjYWxlLnklZS5fZnJhbWUuaGVpZ2h0O2lmKCF0aGlzLl9jYW52YXNQYXR0ZXJuKXt2YXIgbD1uZXcgaC5DYW52YXNSZW5kZXJUYXJnZXQoZS5fZnJhbWUud2lkdGgsZS5fZnJhbWUuaGVpZ2h0LHMpOzE2Nzc3MjE1IT09dGhpcy50aW50Pyh0aGlzLmNhY2hlZFRpbnQhPT10aGlzLnRpbnQmJih0aGlzLmNhY2hlZFRpbnQ9dGhpcy50aW50LHRoaXMudGludGVkVGV4dHVyZT1mLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZSh0aGlzLHRoaXMudGludCkpLGwuY29udGV4dC5kcmF3SW1hZ2UodGhpcy50aW50ZWRUZXh0dXJlLDAsMCkpOmwuY29udGV4dC5kcmF3SW1hZ2Uoby5zb3VyY2UsLWUuX2ZyYW1lLngsLWUuX2ZyYW1lLnkpLHRoaXMuX2NhbnZhc1BhdHRlcm49bC5jb250ZXh0LmNyZWF0ZVBhdHRlcm4obC5jYW52YXMsXCJyZXBlYXRcIil9ci5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGEsci5zZXRUcmFuc2Zvcm0obi5hKmksbi5iKmksbi5jKmksbi5kKmksbi50eCppLG4udHkqaSksdC5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpLHIuZmlsbFN0eWxlPXRoaXMuX2NhbnZhc1BhdHRlcm4sci5zY2FsZSh0aGlzLnRpbGVTY2FsZS54L3MsdGhpcy50aWxlU2NhbGUueS9zKTt2YXIgYz10aGlzLmFuY2hvci54Ki10aGlzLl93aWR0aCxkPXRoaXMuYW5jaG9yLnkqLXRoaXMuX2hlaWdodDt0aGlzLnV2UmVzcGVjdEFuY2hvcj8oci50cmFuc2xhdGUoYSx1KSxyLmZpbGxSZWN0KC1hK2MsLXUrZCx0aGlzLl93aWR0aC90aGlzLnRpbGVTY2FsZS54KnMsdGhpcy5faGVpZ2h0L3RoaXMudGlsZVNjYWxlLnkqcykpOihyLnRyYW5zbGF0ZShhK2MsdStkKSxyLmZpbGxSZWN0KC1hLC11LHRoaXMuX3dpZHRoL3RoaXMudGlsZVNjYWxlLngqcyx0aGlzLl9oZWlnaHQvdGhpcy50aWxlU2NhbGUueSpzKSl9fSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd2lkdGgqLXRoaXMuX2FuY2hvci5feCxlPXRoaXMuX2hlaWdodCotdGhpcy5fYW5jaG9yLl95LHI9dGhpcy5fd2lkdGgqKDEtdGhpcy5fYW5jaG9yLl94KSxuPXRoaXMuX2hlaWdodCooMS10aGlzLl9hbmNob3IuX3kpO3RoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSx0LGUscixuKX0sZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aD8odGhpcy5fYm91bmRzLm1pblg9dGhpcy5fd2lkdGgqLXRoaXMuX2FuY2hvci5feCx0aGlzLl9ib3VuZHMubWluWT10aGlzLl9oZWlnaHQqLXRoaXMuX2FuY2hvci5feSx0aGlzLl9ib3VuZHMubWF4WD10aGlzLl93aWR0aCooMS10aGlzLl9hbmNob3IuX3gpLHRoaXMuX2JvdW5kcy5tYXhZPXRoaXMuX2hlaWdodCooMS10aGlzLl9hbmNob3IuX3gpLGV8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3R8fCh0aGlzLl9sb2NhbEJvdW5kc1JlY3Q9bmV3IGguUmVjdGFuZ2xlKSxlPXRoaXMuX2xvY2FsQm91bmRzUmVjdCksdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShlKSk6dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLGUpfSxlLnByb3RvdHlwZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQpe3RoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHQsdik7dmFyIGU9dGhpcy5fd2lkdGgscj10aGlzLl9oZWlnaHQsbj0tZSp0aGlzLmFuY2hvci5feDtpZih2Lng+biYmdi54PG4rZSl7dmFyIGk9LXIqdGhpcy5hbmNob3IuX3k7aWYodi55PmkmJnYueTxpK3IpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy50aWxlVHJhbnNmb3JtPW51bGwsdGhpcy51dlRyYW5zZm9ybT1udWxsfSxlLmZyb209ZnVuY3Rpb24odCxyLG4pe3JldHVybiBuZXcgZShoLlRleHR1cmUuZnJvbSh0KSxyLG4pfSxlLmZyb21GcmFtZT1mdW5jdGlvbih0LHIsbil7dmFyIGk9aC51dGlscy5UZXh0dXJlQ2FjaGVbdF07aWYoIWkpdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicrdCsnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgJyt0aGlzKTtyZXR1cm4gbmV3IGUoaSxyLG4pfSxlLmZyb21JbWFnZT1mdW5jdGlvbih0LHIsbixpLG8pe3JldHVybiBuZXcgZShoLlRleHR1cmUuZnJvbUltYWdlKHQsaSxvKSxyLG4pfSx1KGUsW3trZXk6XCJjbGFtcE1hcmdpblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2lufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbj10LHRoaXMudXZUcmFuc2Zvcm0udXBkYXRlKCEwKX19LHtrZXk6XCJ0aWxlU2NhbGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHkodCl9fSx7a2V5OlwidGlsZVBvc2l0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHQpfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd2lkdGg9dH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faGVpZ2h0PXR9fV0pLGV9KGguU3ByaXRlKTtyLmRlZmF1bHQ9eX0se1wiLi4vY29yZVwiOjYzLFwiLi4vY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXJcIjoxMDIsXCIuL1RleHR1cmVUcmFuc2Zvcm1cIjoxMzF9XSwxMzM6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgbz10KFwiLi4vY29yZVwiKSxzPW4obyksYT1zLkRpc3BsYXlPYmplY3QsdT1uZXcgcy5NYXRyaXg7YS5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXA9ITEsYS5wcm90b3R5cGUuX2NhY2hlRGF0YT0hMTt2YXIgbD1mdW5jdGlvbiB0KCl7aSh0aGlzLHQpLHRoaXMub3JpZ2luYWxSZW5kZXJXZWJHTD1udWxsLHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXM9bnVsbCx0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzPW51bGwsdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzPW51bGwsdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybT1udWxsLHRoaXMub3JpZ2luYWxIaXRUZXN0PW51bGwsdGhpcy5vcmlnaW5hbERlc3Ryb3k9bnVsbCx0aGlzLm9yaWdpbmFsTWFzaz1udWxsLHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhPW51bGwsdGhpcy5zcHJpdGU9bnVsbH07T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYS5wcm90b3R5cGUse2NhY2hlQXNCaXRtYXA6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwfSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fY2FjaGVBc0JpdG1hcCE9PXQpe3RoaXMuX2NhY2hlQXNCaXRtYXA9dDt2YXIgZT12b2lkIDA7dD8odGhpcy5fY2FjaGVEYXRhfHwodGhpcy5fY2FjaGVEYXRhPW5ldyBsKSxlPXRoaXMuX2NhY2hlRGF0YSxlLm9yaWdpbmFsUmVuZGVyV2ViR0w9dGhpcy5yZW5kZXJXZWJHTCxlLm9yaWdpbmFsUmVuZGVyQ2FudmFzPXRoaXMucmVuZGVyQ2FudmFzLGUub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm09dGhpcy51cGRhdGVUcmFuc2Zvcm0sZS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcz10aGlzLl9jYWxjdWxhdGVCb3VuZHMsZS5vcmlnaW5hbEdldExvY2FsQm91bmRzPXRoaXMuZ2V0TG9jYWxCb3VuZHMsZS5vcmlnaW5hbERlc3Ryb3k9dGhpcy5kZXN0cm95LGUub3JpZ2luYWxDb250YWluc1BvaW50PXRoaXMuY29udGFpbnNQb2ludCxlLm9yaWdpbmFsTWFzaz10aGlzLl9tYXNrLGUub3JpZ2luYWxGaWx0ZXJBcmVhPXRoaXMuZmlsdGVyQXJlYSx0aGlzLnJlbmRlcldlYkdMPXRoaXMuX3JlbmRlckNhY2hlZFdlYkdMLHRoaXMucmVuZGVyQ2FudmFzPXRoaXMuX3JlbmRlckNhY2hlZENhbnZhcyx0aGlzLmRlc3Ryb3k9dGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3kpOihlPXRoaXMuX2NhY2hlRGF0YSxlLnNwcml0ZSYmdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSx0aGlzLnJlbmRlcldlYkdMPWUub3JpZ2luYWxSZW5kZXJXZWJHTCx0aGlzLnJlbmRlckNhbnZhcz1lLm9yaWdpbmFsUmVuZGVyQ2FudmFzLHRoaXMuX2NhbGN1bGF0ZUJvdW5kcz1lLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzLHRoaXMuZ2V0TG9jYWxCb3VuZHM9ZS5vcmlnaW5hbEdldExvY2FsQm91bmRzLHRoaXMuZGVzdHJveT1lLm9yaWdpbmFsRGVzdHJveSx0aGlzLnVwZGF0ZVRyYW5zZm9ybT1lLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtLHRoaXMuY29udGFpbnNQb2ludD1lLm9yaWdpbmFsQ29udGFpbnNQb2ludCx0aGlzLl9tYXNrPWUub3JpZ2luYWxNYXNrLHRoaXMuZmlsdGVyQXJlYT1lLm9yaWdpbmFsRmlsdGVyQXJlYSl9fX19KSxhLnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkV2ViR0w9ZnVuY3Rpb24odCl7IXRoaXMudmlzaWJsZXx8dGhpcy53b3JsZEFscGhhPD0wfHwhdGhpcy5yZW5kZXJhYmxlfHwodGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QodCksdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdHJhbnNmb3JtSUQ9LTEsdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSx0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJXZWJHTCh0KSl9LGEucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdD1mdW5jdGlvbih0KXtpZighdGhpcy5fY2FjaGVEYXRhfHwhdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSl7dmFyIGU9dGhpcy5hbHBoYTt0aGlzLmFscGhhPTEsdC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTt2YXIgcj10aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtpZih0aGlzLl9maWx0ZXJzKXt2YXIgbj10aGlzLl9maWx0ZXJzWzBdLnBhZGRpbmc7ci5wYWQobil9dmFyIGk9dC5fYWN0aXZlUmVuZGVyVGFyZ2V0LG89dC5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrLGE9cy5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgwfHIud2lkdGgsMHxyLmhlaWdodCksbD11O2wudHg9LXIueCxsLnR5PS1yLnksdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uaWRlbnRpdHkoKSx0aGlzLnJlbmRlcldlYkdMPXRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMLHQucmVuZGVyKHRoaXMsYSwhMCxsLCEwKSx0LmJpbmRSZW5kZXJUYXJnZXQoaSksdC5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrPW8sdGhpcy5yZW5kZXJXZWJHTD10aGlzLl9yZW5kZXJDYWNoZWRXZWJHTCx0aGlzLnVwZGF0ZVRyYW5zZm9ybT10aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0sdGhpcy5fbWFzaz1udWxsLHRoaXMuZmlsdGVyQXJlYT1udWxsO3ZhciBoPW5ldyBzLlNwcml0ZShhKTtoLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybT10aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSxoLmFuY2hvci54PS0oci54L3Iud2lkdGgpLGguYW5jaG9yLnk9LShyLnkvci5oZWlnaHQpLGguYWxwaGE9ZSxoLl9ib3VuZHM9dGhpcy5fYm91bmRzLHRoaXMuX2NhbGN1bGF0ZUJvdW5kcz10aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMsdGhpcy5nZXRMb2NhbEJvdW5kcz10aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyx0aGlzLl9jYWNoZURhdGEuc3ByaXRlPWgsdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEPS0xLHRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5jb250YWluc1BvaW50PWguY29udGFpbnNQb2ludC5iaW5kKGgpfX0sYS5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcz1mdW5jdGlvbih0KXshdGhpcy52aXNpYmxlfHx0aGlzLndvcmxkQWxwaGE8PTB8fCF0aGlzLnJlbmRlcmFibGV8fCh0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyh0KSx0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGE9dGhpcy53b3JsZEFscGhhLHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUucmVuZGVyQ2FudmFzKHQpKX0sYS5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9jYWNoZURhdGF8fCF0aGlzLl9jYWNoZURhdGEuc3ByaXRlKXt2YXIgZT10aGlzLmdldExvY2FsQm91bmRzKCkscj10aGlzLmFscGhhO3RoaXMuYWxwaGE9MTt2YXIgbj10LmNvbnRleHQsaT1zLlJlbmRlclRleHR1cmUuY3JlYXRlKDB8ZS53aWR0aCwwfGUuaGVpZ2h0KSxvPXU7dGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weShvKSxvLmludmVydCgpLG8udHgtPWUueCxvLnR5LT1lLnksdGhpcy5yZW5kZXJDYW52YXM9dGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzLHQucmVuZGVyKHRoaXMsaSwhMCxvLCExKSx0LmNvbnRleHQ9bix0aGlzLnJlbmRlckNhbnZhcz10aGlzLl9yZW5kZXJDYWNoZWRDYW52YXMsdGhpcy5fY2FsY3VsYXRlQm91bmRzPXRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyx0aGlzLl9tYXNrPW51bGwsdGhpcy5maWx0ZXJBcmVhPW51bGw7dmFyIGE9bmV3IHMuU3ByaXRlKGkpO2EudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtPXRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLGEuYW5jaG9yLng9LShlLngvZS53aWR0aCksYS5hbmNob3IueT0tKGUueS9lLmhlaWdodCksYS5fYm91bmRzPXRoaXMuX2JvdW5kcyxhLmFscGhhPXIsdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLnVwZGF0ZVRyYW5zZm9ybT10aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0sdGhpcy5fY2FjaGVEYXRhLnNwcml0ZT1hLHRoaXMuY29udGFpbnNQb2ludD1hLmNvbnRhaW5zUG9pbnQuYmluZChhKX19LGEucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKX0sYS5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMoKX0sYS5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0PWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KCEwKSx0aGlzLl9jYWNoZURhdGEuc3ByaXRlPW51bGx9LGEucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveT1mdW5jdGlvbih0KXt0aGlzLmNhY2hlQXNCaXRtYXA9ITEsdGhpcy5kZXN0cm95KHQpfX0se1wiLi4vY29yZVwiOjYzfV0sMTM0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9dmFyIGk9dChcIi4uL2NvcmVcIiksbz1uKGkpO28uRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZT1udWxsLG8uQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKylpZih0aGlzLmNoaWxkcmVuW2VdLm5hbWU9PT10KXJldHVybiB0aGlzLmNoaWxkcmVuW2VdO3JldHVybiBudWxsfX0se1wiLi4vY29yZVwiOjYzfV0sMTM1OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9dmFyIGk9dChcIi4uL2NvcmVcIiksbz1uKGkpO28uRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IG8uUG9pbnQsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLHQsZSk6KHQueD10aGlzLnBvc2l0aW9uLngsdC55PXRoaXMucG9zaXRpb24ueSksdH19LHtcIi4uL2NvcmVcIjo2M31dLDEzNjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMCxyLkJpdG1hcFRleHQ9ci5UaWxpbmdTcHJpdGVSZW5kZXJlcj1yLlRpbGluZ1Nwcml0ZT1yLkFuaW1hdGVkU3ByaXRlPXIuVGV4dHVyZVRyYW5zZm9ybT12b2lkIDA7dmFyIGk9dChcIi4vVGV4dHVyZVRyYW5zZm9ybVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlRleHR1cmVUcmFuc2Zvcm1cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXCIuL0FuaW1hdGVkU3ByaXRlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiQW5pbWF0ZWRTcHJpdGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihvKS5kZWZhdWx0fX0pO3ZhciBzPXQoXCIuL1RpbGluZ1Nwcml0ZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlRpbGluZ1Nwcml0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHMpLmRlZmF1bHR9fSk7dmFyIGE9dChcIi4vd2ViZ2wvVGlsaW5nU3ByaXRlUmVuZGVyZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJUaWxpbmdTcHJpdGVSZW5kZXJlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcIi4vQml0bWFwVGV4dFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkJpdG1hcFRleHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbih1KS5kZWZhdWx0fX0pLHQoXCIuL2NhY2hlQXNCaXRtYXBcIiksdChcIi4vZ2V0Q2hpbGRCeU5hbWVcIiksdChcIi4vZ2V0R2xvYmFsUG9zaXRpb25cIil9LHtcIi4vQW5pbWF0ZWRTcHJpdGVcIjoxMjksXCIuL0JpdG1hcFRleHRcIjoxMzAsXCIuL1RleHR1cmVUcmFuc2Zvcm1cIjoxMzEsXCIuL1RpbGluZ1Nwcml0ZVwiOjEzMixcIi4vY2FjaGVBc0JpdG1hcFwiOjEzMyxcIi4vZ2V0Q2hpbGRCeU5hbWVcIjoxMzQsXCIuL2dldEdsb2JhbFBvc2l0aW9uXCI6MTM1LFwiLi93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlclwiOjEzN31dLDEzNzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi8uLi9jb3JlXCIpLHU9bihhKSxsPXQoXCIuLi8uLi9jb3JlL2NvbnN0XCIpLGg9KHQoXCJwYXRoXCIpLG5ldyB1Lk1hdHJpeCksYz1uZXcgRmxvYXQzMkFycmF5KDQpLGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpKHRoaXMsZSk7dmFyIG49byh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gbi5zaGFkZXI9bnVsbCxuLnNpbXBsZVNoYWRlcj1udWxsLG4ucXVhZD1udWxsLG59cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlbmRlcmVyLmdsO3RoaXMuc2hhZGVyPW5ldyB1LlNoYWRlcih0LFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcbnVuaWZvcm0gbWF0MyB1TWFwQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xcbnVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWMyIGNvb3JkID0gbW9kKHZUZXh0dXJlQ29vcmQgLSB1Q2xhbXBPZmZzZXQsIHZlYzIoMS4wLCAxLjApKSArIHVDbGFtcE9mZnNldDtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIHZlYzQgY29sb3IgPSB2ZWM0KHVDb2xvci5yZ2IgKiB1Q29sb3IuYSwgdUNvbG9yLmEpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiBjb2xvciA7XFxufVxcblwiKSx0aGlzLnNpbXBsZVNoYWRlcj1uZXcgdS5TaGFkZXIodCxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBjb2xvciA9IHZlYzQodUNvbG9yLnJnYiAqIHVDb2xvci5hLCB1Q29sb3IuYSk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHNhbXBsZSAqIGNvbG9yO1xcbn1cXG5cIiksdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpLHRoaXMucXVhZD1uZXcgdS5RdWFkKHQsdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJTdGF0ZSksdGhpcy5xdWFkLmluaXRWYW8odGhpcy5zaGFkZXIpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPXRoaXMucXVhZDtlLmJpbmRWYW8oci52YW8pO3ZhciBuPXIudmVydGljZXM7blswXT1uWzZdPXQuX3dpZHRoKi10LmFuY2hvci54LG5bMV09blszXT10Ll9oZWlnaHQqLXQuYW5jaG9yLnksblsyXT1uWzRdPXQuX3dpZHRoKigxLXQuYW5jaG9yLngpLG5bNV09bls3XT10Ll9oZWlnaHQqKDEtdC5hbmNob3IueSksdC51dlJlc3BlY3RBbmNob3ImJihuPXIudXZzLG5bMF09bls2XT0tdC5hbmNob3IueCxuWzFdPW5bM109LXQuYW5jaG9yLnksblsyXT1uWzRdPTEtdC5hbmNob3IueCxuWzVdPW5bN109MS10LmFuY2hvci55KSxyLnVwbG9hZCgpO3ZhciBpPXQuX3RleHR1cmUsbz1pLmJhc2VUZXh0dXJlLHM9dC50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLGE9dC51dlRyYW5zZm9ybSxmPW8uaXNQb3dlck9mVHdvJiZpLmZyYW1lLndpZHRoPT09by53aWR0aCYmaS5mcmFtZS5oZWlnaHQ9PT1vLmhlaWdodDtmJiYoby5fZ2xUZXh0dXJlc1tlLkNPTlRFWFRfVUlEXT9mPW8ud3JhcE1vZGUhPT1sLldSQVBfTU9ERVMuQ0xBTVA6by53cmFwTW9kZT09PWwuV1JBUF9NT0RFUy5DTEFNUCYmKG8ud3JhcE1vZGU9bC5XUkFQX01PREVTLlJFUEVBVCkpO3ZhciBkPWY/dGhpcy5zaW1wbGVTaGFkZXI6dGhpcy5zaGFkZXI7ZS5iaW5kU2hhZGVyKGQpO3ZhciBwPWkud2lkdGgsdj1pLmhlaWdodCx5PXQuX3dpZHRoLGc9dC5faGVpZ2h0O2guc2V0KHMuYSpwL3kscy5iKnAvZyxzLmMqdi95LHMuZCp2L2cscy50eC95LHMudHkvZyksaC5pbnZlcnQoKSxmP2guYXBwZW5kKGEubWFwQ29vcmQpOihkLnVuaWZvcm1zLnVNYXBDb29yZD1hLm1hcENvb3JkLnRvQXJyYXkoITApLGQudW5pZm9ybXMudUNsYW1wRnJhbWU9YS51Q2xhbXBGcmFtZSxkLnVuaWZvcm1zLnVDbGFtcE9mZnNldD1hLnVDbGFtcE9mZnNldCksZC51bmlmb3Jtcy51VHJhbnNmb3JtPWgudG9BcnJheSghMCk7dmFyIG09Yzt1LnV0aWxzLmhleDJyZ2IodC50aW50LG0pLG1bM109dC53b3JsZEFscGhhLGQudW5pZm9ybXMudUNvbG9yPW0sZC51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeD10LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSxkLnVuaWZvcm1zLnVTYW1wbGVyPWUuYmluZFRleHR1cmUoaSksZS5zZXRCbGVuZE1vZGUodC5ibGVuZE1vZGUpLHIudmFvLmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsNiwwKX0sZX0odS5PYmplY3RSZW5kZXJlcik7ci5kZWZhdWx0PWYsdS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKFwidGlsaW5nU3ByaXRlXCIsZil9LHtcIi4uLy4uL2NvcmVcIjo2MyxcIi4uLy4uL2NvcmUvY29uc3RcIjo0NCxwYXRoOjIyfV0sMTM4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIGEodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxsPXQoXCIuLi8uLi9jb3JlXCIpLGg9aShsKSxjPXQoXCIuL0JsdXJYRmlsdGVyXCIpLGY9bihjKSxkPXQoXCIuL0JsdXJZRmlsdGVyXCIpLHA9bihkKSx2PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLGksYSl7byh0aGlzLGUpO3ZhciB1PXModGhpcyx0LmNhbGwodGhpcykpO3JldHVybiB1LmJsdXJYRmlsdGVyPW5ldyBmLmRlZmF1bHQocixuLGksYSksdS5ibHVyWUZpbHRlcj1uZXcgcC5kZWZhdWx0KHIsbixpLGEpLHUucGFkZGluZz0wLHUucmVzb2x1dGlvbj1pfHxoLnNldHRpbmdzLlJFU09MVVRJT04sdS5xdWFsaXR5PW58fDQsdS5ibHVyPXJ8fDgsdX1yZXR1cm4gYShlLHQpLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LmdldFJlbmRlclRhcmdldCghMCk7dGhpcy5ibHVyWEZpbHRlci5hcHBseSh0LGUsbiwhMCksdGhpcy5ibHVyWUZpbHRlci5hcHBseSh0LG4sciwhMSksdC5yZXR1cm5SZW5kZXJUYXJnZXQobil9LHUoZSxbe2tleTpcImJsdXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ibHVyWEZpbHRlci5ibHVyPXRoaXMuYmx1cllGaWx0ZXIuYmx1cj10LHRoaXMucGFkZGluZz0yKk1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKX19LHtrZXk6XCJxdWFsaXR5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYmx1clhGaWx0ZXIucXVhbGl0eT10aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHk9dH19LHtrZXk6XCJibHVyWFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJsdXJYRmlsdGVyLmJsdXI9dCx0aGlzLnBhZGRpbmc9MipNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSxNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSl9fSx7a2V5OlwiYmx1cllcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ibHVyWUZpbHRlci5ibHVyPXQsdGhpcy5wYWRkaW5nPTIqTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpfX1dKSxlfShoLkZpbHRlcik7ci5kZWZhdWx0PXZ9LHtcIi4uLy4uL2NvcmVcIjo2MyxcIi4vQmx1clhGaWx0ZXJcIjoxMzksXCIuL0JsdXJZRmlsdGVyXCI6MTQwfV0sMTM5OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIGEodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxsPXQoXCIuLi8uLi9jb3JlXCIpLGg9aShsKSxjPXQoXCIuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2VcIiksZj1uKGMpLGQ9dChcIi4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZVwiKSxwPW4oZCksdj10KFwiLi9nZXRNYXhCbHVyS2VybmVsU2l6ZVwiKSx5PW4odiksZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIsbixpLGEpe28odGhpcyxlKSxhPWF8fDU7dmFyIHU9KDAsZi5kZWZhdWx0KShhLCEwKSxsPSgwLHAuZGVmYXVsdCkoYSksYz1zKHRoaXMsdC5jYWxsKHRoaXMsdSxsKSk7cmV0dXJuIGMucmVzb2x1dGlvbj1pfHxoLnNldHRpbmdzLlJFU09MVVRJT04sYy5fcXVhbGl0eT0wLGMucXVhbGl0eT1ufHw0LGMuc3RyZW5ndGg9cnx8OCxjLmZpcnN0UnVuPSEwLGN9cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LGUscixuKXtpZih0aGlzLmZpcnN0UnVuKXt2YXIgaT10LnJlbmRlcmVyLmdsLG89KDAseS5kZWZhdWx0KShpKTt0aGlzLnZlcnRleFNyYz0oMCxmLmRlZmF1bHQpKG8sITApLHRoaXMuZnJhZ21lbnRTcmM9KDAscC5kZWZhdWx0KShvKSx0aGlzLmZpcnN0UnVuPSExfWlmKHRoaXMudW5pZm9ybXMuc3RyZW5ndGg9MS9yLnNpemUud2lkdGgqKHIuc2l6ZS53aWR0aC9lLnNpemUud2lkdGgpLHRoaXMudW5pZm9ybXMuc3RyZW5ndGgqPXRoaXMuc3RyZW5ndGgsdGhpcy51bmlmb3Jtcy5zdHJlbmd0aC89dGhpcy5wYXNzZXMsMT09PXRoaXMucGFzc2VzKXQuYXBwbHlGaWx0ZXIodGhpcyxlLHIsbik7ZWxzZXtmb3IodmFyIHM9dC5nZXRSZW5kZXJUYXJnZXQoITApLGE9ZSx1PXMsbD0wO2w8dGhpcy5wYXNzZXMtMTtsKyspe3QuYXBwbHlGaWx0ZXIodGhpcyxhLHUsITApO3ZhciBoPXU7dT1hLGE9aH10LmFwcGx5RmlsdGVyKHRoaXMsYSxyLG4pLHQucmV0dXJuUmVuZGVyVGFyZ2V0KHMpfX0sdShlLFt7a2V5OlwiYmx1clwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVuZ3RofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5wYWRkaW5nPTIqTWF0aC5hYnModCksdGhpcy5zdHJlbmd0aD10fX0se2tleTpcInF1YWxpdHlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3F1YWxpdHk9dCx0aGlzLnBhc3Nlcz10fX1dKSxlfShoLkZpbHRlcik7ci5kZWZhdWx0PWd9LHtcIi4uLy4uL2NvcmVcIjo2MyxcIi4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZVwiOjE0MSxcIi4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZVwiOjE0MixcIi4vZ2V0TWF4Qmx1cktlcm5lbFNpemVcIjoxNDN9XSwxNDA6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gYSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGw9dChcIi4uLy4uL2NvcmVcIiksaD1pKGwpLGM9dChcIi4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZVwiKSxmPW4oYyksZD10KFwiLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlXCIpLHA9bihkKSx2PXQoXCIuL2dldE1heEJsdXJLZXJuZWxTaXplXCIpLHk9bih2KSxnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLGksYSl7byh0aGlzLGUpLGE9YXx8NTt2YXIgdT0oMCxmLmRlZmF1bHQpKGEsITEpLGw9KDAscC5kZWZhdWx0KShhKSxjPXModGhpcyx0LmNhbGwodGhpcyx1LGwpKTtyZXR1cm4gYy5yZXNvbHV0aW9uPWl8fGguc2V0dGluZ3MuUkVTT0xVVElPTixjLl9xdWFsaXR5PTAsYy5xdWFsaXR5PW58fDQsYy5zdHJlbmd0aD1yfHw4LGMuZmlyc3RSdW49ITAsY31yZXR1cm4gYShlLHQpLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHRoaXMuZmlyc3RSdW4pe3ZhciBpPXQucmVuZGVyZXIuZ2wsbz0oMCx5LmRlZmF1bHQpKGkpO3RoaXMudmVydGV4U3JjPSgwLGYuZGVmYXVsdCkobywhMSksdGhpcy5mcmFnbWVudFNyYz0oMCxwLmRlZmF1bHQpKG8pLHRoaXMuZmlyc3RSdW49ITF9aWYodGhpcy51bmlmb3Jtcy5zdHJlbmd0aD0xL3Iuc2l6ZS5oZWlnaHQqKHIuc2l6ZS5oZWlnaHQvZS5zaXplLmhlaWdodCksdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCo9dGhpcy5zdHJlbmd0aCx0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoLz10aGlzLnBhc3NlcywxPT09dGhpcy5wYXNzZXMpdC5hcHBseUZpbHRlcih0aGlzLGUscixuKTtlbHNle2Zvcih2YXIgcz10LmdldFJlbmRlclRhcmdldCghMCksYT1lLHU9cyxsPTA7bDx0aGlzLnBhc3Nlcy0xO2wrKyl7dC5hcHBseUZpbHRlcih0aGlzLGEsdSwhMCk7dmFyIGg9dTt1PWEsYT1ofXQuYXBwbHlGaWx0ZXIodGhpcyxhLHIsbiksdC5yZXR1cm5SZW5kZXJUYXJnZXQocyl9fSx1KGUsW3trZXk6XCJibHVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZW5ndGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnBhZGRpbmc9MipNYXRoLmFicyh0KSx0aGlzLnN0cmVuZ3RoPXR9fSx7a2V5OlwicXVhbGl0eVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWFsaXR5fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcXVhbGl0eT10LHRoaXMucGFzc2VzPXR9fV0pLGV9KGguRmlsdGVyKTtyLmRlZmF1bHQ9Z30se1wiLi4vLi4vY29yZVwiOjYzLFwiLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlXCI6MTQxLFwiLi9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlXCI6MTQyLFwiLi9nZXRNYXhCbHVyS2VybmVsU2l6ZVwiOjE0M31dLDE0MTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBlPWlbdF0scj1lLmxlbmd0aCxuPW8scz1cIlwiLGE9XCJnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2Qmx1clRleENvb3Jkc1slaW5kZXglXSkgKiAldmFsdWUlO1wiLHU9dm9pZCAwLGw9MDtsPHQ7bCsrKXt2YXIgaD1hLnJlcGxhY2UoXCIlaW5kZXglXCIsbCk7dT1sLGw+PXImJih1PXQtbC0xKSxoPWgucmVwbGFjZShcIiV2YWx1ZSVcIixlW3VdKSxzKz1oLHMrPVwiXFxuXCJ9cmV0dXJuIG49bi5yZXBsYWNlKFwiJWJsdXIlXCIscyksbj1uLnJlcGxhY2UoXCIlc2l6ZSVcIix0KX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PW47dmFyIGk9ezU6Wy4xNTMzODgsLjIyMTQ2MSwuMjUwMzAxXSw3OlsuMDcxMzAzLC4xMzE1MTQsLjE4OTg3OSwuMjE0NjA3XSw5OlsuMDI4NTMyLC4wNjcyMzQsLjEyNDAwOSwuMTc5MDQ0LC4yMDIzNl0sMTE6Wy4wMDkzLC4wMjgwMDIsLjA2NTk4NCwuMTIxNzAzLC4xNzU3MTMsLjE5ODU5Nl0sMTM6Wy4wMDI0MDYsLjAwOTI1NSwuMDI3ODY3LC4wNjU2NjYsLjEyMTExNywuMTc0ODY4LC4xOTc2NDFdLDE1Ols0ODllLTYsLjAwMjQwMywuMDA5MjQ2LC4wMjc4NCwuMDY1NjAyLC4xMjA5OTksLjE3NDY5NywuMTk3NDQ4XX0sbz1bXCJ2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidm9pZCBtYWluKHZvaWQpXCIsXCJ7XCIsXCIgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApO1wiLFwiICAgICVibHVyJVwiLFwifVwiXS5qb2luKFwiXFxuXCIpfSx7fV0sMTQyOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3ZhciByPU1hdGguY2VpbCh0LzIpLG49aSxvPVwiXCIscz12b2lkIDA7cz1lP1widkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSBhVGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7XCI6XCJ2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTtcIjtmb3IodmFyIGE9MDthPHQ7YSsrKXt2YXIgdT1zLnJlcGxhY2UoXCIlaW5kZXglXCIsYSk7dT11LnJlcGxhY2UoXCIlc2FtcGxlSW5kZXglXCIsYS0oci0xKStcIi4wXCIpLG8rPXUsbys9XCJcXG5cIn1yZXR1cm4gbj1uLnJlcGxhY2UoXCIlYmx1ciVcIixvKSxuPW4ucmVwbGFjZShcIiVzaXplJVwiLHQpfXIuX19lc01vZHVsZT0hMCxyLmRlZmF1bHQ9bjt2YXIgaT1bXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XCIsXCJhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1wiLFwidW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcIixcInVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1wiLFwidmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XCIsXCJ2b2lkIG1haW4odm9pZClcIixcIntcIixcImdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoKGFWZXJ0ZXhQb3NpdGlvbiksIDEuMCkpLnh5LCAwLjAsIDEuMCk7XCIsXCIlYmx1ciVcIixcIn1cIl0uam9pbihcIlxcblwiKX0se31dLDE0MzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBlPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX1ZBUllJTkdfVkVDVE9SUykscj0xNTtyPmU7KXItPTI7cmV0dXJuIHJ9ci5fX2VzTW9kdWxlPSEwLHIuZGVmYXVsdD1ufSx7fV0sMTQ0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXCIuLi8uLi9jb3JlXCIpLGw9bih1KSxoPSh0KFwicGF0aFwiKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcyxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuICAgIHZlYzQgcmVzdWx0O1xcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJlc3VsdC5yZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHJlc3VsdDtcXG59XFxuXCIpKTtcbnJldHVybiByLnVuaWZvcm1zLm09WzEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDEsMF0scn1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLl9sb2FkTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj10O2UmJih0aGlzLl9tdWx0aXBseShyLHRoaXMudW5pZm9ybXMubSx0KSxyPXRoaXMuX2NvbG9yTWF0cml4KHIpKSx0aGlzLnVuaWZvcm1zLm09cn0sZS5wcm90b3R5cGUuX211bHRpcGx5PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnJbMF0rZVsxXSpyWzVdK2VbMl0qclsxMF0rZVszXSpyWzE1XSx0WzFdPWVbMF0qclsxXStlWzFdKnJbNl0rZVsyXSpyWzExXStlWzNdKnJbMTZdLHRbMl09ZVswXSpyWzJdK2VbMV0qcls3XStlWzJdKnJbMTJdK2VbM10qclsxN10sdFszXT1lWzBdKnJbM10rZVsxXSpyWzhdK2VbMl0qclsxM10rZVszXSpyWzE4XSx0WzRdPWVbMF0qcls0XStlWzFdKnJbOV0rZVsyXSpyWzE0XStlWzNdKnJbMTldK2VbNF0sdFs1XT1lWzVdKnJbMF0rZVs2XSpyWzVdK2VbN10qclsxMF0rZVs4XSpyWzE1XSx0WzZdPWVbNV0qclsxXStlWzZdKnJbNl0rZVs3XSpyWzExXStlWzhdKnJbMTZdLHRbN109ZVs1XSpyWzJdK2VbNl0qcls3XStlWzddKnJbMTJdK2VbOF0qclsxN10sdFs4XT1lWzVdKnJbM10rZVs2XSpyWzhdK2VbN10qclsxM10rZVs4XSpyWzE4XSx0WzldPWVbNV0qcls0XStlWzZdKnJbOV0rZVs3XSpyWzE0XStlWzhdKnJbMTldK2VbOV0sdFsxMF09ZVsxMF0qclswXStlWzExXSpyWzVdK2VbMTJdKnJbMTBdK2VbMTNdKnJbMTVdLHRbMTFdPWVbMTBdKnJbMV0rZVsxMV0qcls2XStlWzEyXSpyWzExXStlWzEzXSpyWzE2XSx0WzEyXT1lWzEwXSpyWzJdK2VbMTFdKnJbN10rZVsxMl0qclsxMl0rZVsxM10qclsxN10sdFsxM109ZVsxMF0qclszXStlWzExXSpyWzhdK2VbMTJdKnJbMTNdK2VbMTNdKnJbMThdLHRbMTRdPWVbMTBdKnJbNF0rZVsxMV0qcls5XStlWzEyXSpyWzE0XStlWzEzXSpyWzE5XStlWzE0XSx0WzE1XT1lWzE1XSpyWzBdK2VbMTZdKnJbNV0rZVsxN10qclsxMF0rZVsxOF0qclsxNV0sdFsxNl09ZVsxNV0qclsxXStlWzE2XSpyWzZdK2VbMTddKnJbMTFdK2VbMThdKnJbMTZdLHRbMTddPWVbMTVdKnJbMl0rZVsxNl0qcls3XStlWzE3XSpyWzEyXStlWzE4XSpyWzE3XSx0WzE4XT1lWzE1XSpyWzNdK2VbMTZdKnJbOF0rZVsxN10qclsxM10rZVsxOF0qclsxOF0sdFsxOV09ZVsxNV0qcls0XStlWzE2XSpyWzldK2VbMTddKnJbMTRdK2VbMThdKnJbMTldK2VbMTldLHR9LGUucHJvdG90eXBlLl9jb2xvck1hdHJpeD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KHQpO3JldHVybiBlWzRdLz0yNTUsZVs5XS89MjU1LGVbMTRdLz0yNTUsZVsxOV0vPTI1NSxlfSxlLnByb3RvdHlwZS5icmlnaHRuZXNzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9W3QsMCwwLDAsMCwwLHQsMCwwLDAsMCwwLHQsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChyLGUpfSxlLnByb3RvdHlwZS5ncmV5c2NhbGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1bdCx0LHQsMCwwLHQsdCx0LDAsMCx0LHQsdCwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KHIsZSl9LGUucHJvdG90eXBlLmJsYWNrQW5kV2hpdGU9ZnVuY3Rpb24odCl7dmFyIGU9Wy4zLC42LC4xLDAsMCwuMywuNiwuMSwwLDAsLjMsLjYsLjEsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5odWU9ZnVuY3Rpb24odCxlKXt0PSh0fHwwKS8xODAqTWF0aC5QSTt2YXIgcj1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpLGk9TWF0aC5zcXJ0LG89MS8zLHM9aShvKSxhPXIrKDEtcikqbyx1PW8qKDEtciktcypuLGw9byooMS1yKStzKm4saD1vKigxLXIpK3MqbixjPXIrbyooMS1yKSxmPW8qKDEtciktcypuLGQ9byooMS1yKS1zKm4scD1vKigxLXIpK3Mqbix2PXIrbyooMS1yKSx5PVthLHUsbCwwLDAsaCxjLGYsMCwwLGQscCx2LDAsMCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoeSxlKX0sZS5wcm90b3R5cGUuY29udHJhc3Q9ZnVuY3Rpb24odCxlKXt2YXIgcj0odHx8MCkrMSxuPS0xMjgqKHItMSksaT1bciwwLDAsMCxuLDAsciwwLDAsbiwwLDAsciwwLG4sMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGksZSl9LGUucHJvdG90eXBlLnNhdHVyYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsZT1hcmd1bWVudHNbMV0scj0yKnQvMysxLG49KHItMSkqLS41LGk9W3IsbixuLDAsMCxuLHIsbiwwLDAsbixuLHIsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChpLGUpfSxlLnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKCl7dGhpcy5zYXR1cmF0ZSgtMSl9LGUucHJvdG90eXBlLm5lZ2F0aXZlPWZ1bmN0aW9uKHQpe3ZhciBlPVswLDEsMSwwLDAsMSwwLDEsMCwwLDEsMSwwLDAsMCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoZSx0KX0sZS5wcm90b3R5cGUuc2VwaWE9ZnVuY3Rpb24odCl7dmFyIGU9Wy4zOTMsLjc2ODk5OTksLjE4ODk5OTk5LDAsMCwuMzQ5LC42ODU5OTk5LC4xNjc5OTk5OSwwLDAsLjI3MiwuNTMzOTk5OSwuMTMwOTk5OTksMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS50ZWNobmljb2xvcj1mdW5jdGlvbih0KXt2YXIgZT1bMS45MTI1Mjc3ODkxNDU2MDgzLC0uODU0NTM0NDk3Njk1MTY0NSwtLjA5MTU1NTA4NDgyNzU1NTg1LDAsMTEuNzkzNjAzNDM0Mzc3MzM3LC0uMzA4NzgzMzM4NTkyODA5NywxLjc2NTg5MDg1NTU0NTg0MjgsLS4xMDYwMTc0MzA3NDcyMjI0NSwwLC03MC4zNTIwNTE2MTQ2MTM5OCwtLjIzMTEwMzM3NzU0ODYxNiwtLjc1MDE4OTkxOTc0NDAyMTIsMS44NDc1OTc4MTYxMDgxODksMCwzMC45NTA5NDA4Njk0OTExMzgsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KGUsdCl9LGUucHJvdG90eXBlLnBvbGFyb2lkPWZ1bmN0aW9uKHQpe3ZhciBlPVsxLjQzOCwtLjA2MiwtLjA2MiwwLDAsLS4xMjIsMS4zNzgsLS4xMjIsMCwwLC0uMDE2LC0uMDE2LDEuNDgzLDAsMCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoZSx0KX0sZS5wcm90b3R5cGUudG9CR1I9ZnVuY3Rpb24odCl7dmFyIGU9WzAsMCwxLDAsMCwwLDEsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5rb2RhY2hyb21lPWZ1bmN0aW9uKHQpe3ZhciBlPVsxLjEyODU1ODIzOTY1OTM1MjUsLS4zOTY3MzgyMjgzNjAxMzQ4LC0uMDM5OTI1NTkxNzI5MjE3OTMsMCw2My43Mjk1ODc2MjE5NjUwMiwtLjE2NDA0MzM5OTYyMjQ0NjE2LDEuMDgzNTI1MTU2NjI5MTMwNCwtLjA1NDk4ODA1MTE1NjMzMTMyLDAsMjQuNzMyNDA3ODk2NzA2MjAzLC0uMTY3ODYwMTA3MDYxNTU3NjMsLS41NjAzNDE2Mjc3Njk1MjQ4LDEuNjAxNDg1MDc2MTk2NDk0MywwLDM1LjYyOTgyODA3NDYwOTQ2LDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5icm93bmk9ZnVuY3Rpb24odCl7dmFyIGU9Wy41OTk3MDIzNDk4MTU5NzE1LC4zNDU1MzI0MzA0ODM5MTI2MywtLjI3MDgyOTg2NzQ1MzgwNDIsMCw0Ny40MzE5Mjg1NTYwMDg3MywtLjAzNzcwMzI0OTgzNzc4MzE1NywuODYwOTU3NzU4Nzk5MjY0MSwuMTUwNTk1NTIzODg0NTk5MTMsMCwtMzYuOTY4NDE0OTgzMTkxMjcsLjI0MTEzNjM1MTI4MTUzMzM1LC0uMDc0NDEwMzc5MDg0MjI0OTIsLjQ0OTcyMTgyMDY0ODc3MTUzLDAsLTcuNTYyMDc1Mjc3NTkxMjgzLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS52aW50YWdlPWZ1bmN0aW9uKHQpe3ZhciBlPVsuNjI3OTM0NTYzNTYwNTk5NCwuMzIwMjE4MzQyMDgxOTM2NywtLjAzOTY1NDA4MjExMzEyNDUzLDAsOS42NTEyODU4MzUyOTQxMjMsLjAyNTc4Mzk3NzA0ODA4ODY4LC42NDQxMTg4NjQ0Mzc0NzcxLC4wMzI1OTEyNzYxNjE0OTI5NCwwLDcuNDYyODI5MTc2NDcwNTkxLC4wNDY2MDU1NTU2NzgyNzE5LC0uMDg1MTIzMjk4NzI0Nzg5MSwuNTI0MTY0ODAxODcwMDQ2NSwwLDUuMTU5MTkwNTg4MjM1Mjk2LDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChlLHQpfSxlLnByb3RvdHlwZS5jb2xvclRvbmU9ZnVuY3Rpb24odCxlLHIsbixpKXt0PXR8fC4yLGU9ZXx8LjE1LHI9cnx8MTY3NzA0MzIsbj1ufHwzMzc1MTA0O3ZhciBvPShyPj4xNiYyNTUpLzI1NSxzPShyPj44JjI1NSkvMjU1LGE9KDI1NSZyKS8yNTUsdT0obj4+MTYmMjU1KS8yNTUsbD0obj4+OCYyNTUpLzI1NSxoPSgyNTUmbikvMjU1LGM9Wy4zLC41OSwuMTEsMCwwLG8scyxhLHQsMCx1LGwsaCxlLDAsby11LHMtbCxhLWgsMCwwXTt0aGlzLl9sb2FkTWF0cml4KGMsaSl9LGUucHJvdG90eXBlLm5pZ2h0PWZ1bmN0aW9uKHQsZSl7dD10fHwuMTt2YXIgcj1bdCotMiwtdCwwLDAsMCwtdCwwLHQsMCwwLDAsdCwyKnQsMCwwLDAsMCwwLDEsMF07dGhpcy5fbG9hZE1hdHJpeChyLGUpfSxlLnByb3RvdHlwZS5wcmVkYXRvcj1mdW5jdGlvbih0LGUpe3ZhciByPVsxMS4yMjQxMzA2MzA0OTMxNjQqdCwtNC43OTQ0ODY5OTk1MTE3MTkqdCwtMi44NzQ2MTE4NTQ1NTMyMjI3KnQsMCp0LC40MDM0MjQzODIyMDk3Nzc4Myp0LC0zLjYzMzA2OTc1MzY0Njg1MDYqdCw5LjE5MzE1NzE5NjA0NDkyMip0LC0yLjk1MTgxMDgzNjc5MTk5Mip0LDAqdCwtMS4zMTYxMzUwNDg4NjYyNzIqdCwtMy4yMTg0MTk3OTAyNjc5NDQzKnQsLTQuMjM3NTAzMDUxNzU3ODEyNSp0LDcuNDc2NDQ4MDU5MDgyMDMxKnQsMCp0LC44MDQ0NDU5MjIzNzQ3MjUzKnQsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KHIsZSl9LGUucHJvdG90eXBlLmxzZD1mdW5jdGlvbih0KXt2YXIgZT1bMiwtLjQsLjUsMCwwLC0uNSwyLC0uNCwwLDAsLS40LC0uNSwzLDAsMCwwLDAsMCwxLDBdO3RoaXMuX2xvYWRNYXRyaXgoZSx0KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgdD1bMSwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMSwwXTt0aGlzLl9sb2FkTWF0cml4KHQsITEpfSxhKGUsW3trZXk6XCJtYXRyaXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5tfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51bmlmb3Jtcy5tPXR9fV0pLGV9KGwuRmlsdGVyKSk7ci5kZWZhdWx0PWgsaC5wcm90b3R5cGUuZ3JheXNjYWxlPWgucHJvdG90eXBlLmdyZXlzY2FsZX0se1wiLi4vLi4vY29yZVwiOjYzLHBhdGg6MjJ9XSwxNDU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcIi4uLy4uL2NvcmVcIiksbD1uKHUpLGg9KHQoXCJwYXRoXCIpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuKXtpKHRoaXMsZSk7dmFyIHM9bmV3IGwuTWF0cml4O3IucmVuZGVyYWJsZT0hMTt2YXIgYT1vKHRoaXMsdC5jYWxsKHRoaXMsXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XCIsXCJ2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICAgbWFwIC09IDAuNTtcXG4gICBtYXAueHkgKj0gc2NhbGU7XFxuXFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGZpbHRlckNsYW1wLnh5LCBmaWx0ZXJDbGFtcC56dykpO1xcbn1cXG5cIikpO3JldHVybiBhLm1hc2tTcHJpdGU9cixhLm1hc2tNYXRyaXg9cyxhLnVuaWZvcm1zLm1hcFNhbXBsZXI9ci50ZXh0dXJlLGEudW5pZm9ybXMuZmlsdGVyTWF0cml4PXMsYS51bmlmb3Jtcy5zY2FsZT17eDoxLHk6MX0sbnVsbCE9PW4mJnZvaWQgMCE9PW58fChuPTIwKSxhLnNjYWxlPW5ldyBsLlBvaW50KG4sbiksYX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0xL3IuZGVzdGluYXRpb25GcmFtZS53aWR0aCooci5zaXplLndpZHRoL2Uuc2l6ZS53aWR0aCk7dGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXg9dC5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LHRoaXMubWFza1Nwcml0ZSksdGhpcy51bmlmb3Jtcy5zY2FsZS54PXRoaXMuc2NhbGUueCpuLHRoaXMudW5pZm9ybXMuc2NhbGUueT10aGlzLnNjYWxlLnkqbix0LmFwcGx5RmlsdGVyKHRoaXMsZSxyKX0sYShlLFt7a2V5OlwibWFwXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudW5pZm9ybXMubWFwU2FtcGxlcj10fX1dKSxlfShsLkZpbHRlcikpO3IuZGVmYXVsdD1ofSx7XCIuLi8uLi9jb3JlXCI6NjMscGF0aDoyMn1dLDE0NjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi8uLi9jb3JlXCIpLHU9bihhKSxsPSh0KFwicGF0aFwiKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGkodGhpcyxlKSxvKHRoaXMsdC5jYWxsKHRoaXMsXCJcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZlYzIgbWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcbntcXG4gICAgY29vcmQgKj0gZmlsdGVyQXJlYS54eTtcXG4gICAgY29vcmQgKz0gZmlsdGVyQXJlYS56dztcXG5cXG4gICAgcmV0dXJuIGNvb3JkO1xcbn1cXG5cXG52ZWMyIHVubWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcbntcXG4gICAgY29vcmQgLT0gZmlsdGVyQXJlYS56dztcXG4gICAgY29vcmQgLz0gZmlsdGVyQXJlYS54eTtcXG5cXG4gICAgcmV0dXJuIGNvb3JkO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiByZXNvbHV0aW9uLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjMiBpbnZlcnNlVlAgPSAxLjAgLyByZXNvbHV0aW9uLnh5O1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG5cXG4gICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgIHRleGNvb3JkcyhmcmFnQ29vcmQsIGZpbHRlckFyZWEueHksIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufVwiLCd2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXRcXCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcbiBcXG4gLS1cXG4gXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuIFxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuIFxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG4gXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG4gXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcbiBcXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuIFxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuIFxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIHJlc29sdXRpb24sXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgbWVkaXVtcCB2ZWMyIGludmVyc2VWUCA9IHZlYzIoMS4wIC8gcmVzb2x1dGlvbi54LCAxLjAgLyByZXNvbHV0aW9uLnkpO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcbiAgICBcXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG4gICAgXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuICAgIFxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcbiAgICBcXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgZnJhZ0Nvb3JkLCBmaWx0ZXJBcmVhLnh5LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSl9cmV0dXJuIHMoZSx0KSxlfSh1LkZpbHRlcikpO3IuZGVmYXVsdD1sfSx7XCIuLi8uLi9jb3JlXCI6NjMscGF0aDoyMn1dLDE0NzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi9meGFhL0ZYQUFGaWx0ZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJGWEFBRmlsdGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFwiLi9ub2lzZS9Ob2lzZUZpbHRlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIk5vaXNlRmlsdGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFwiLi9kaXNwbGFjZW1lbnQvRGlzcGxhY2VtZW50RmlsdGVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiRGlzcGxhY2VtZW50RmlsdGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KTt2YXIgYT10KFwiLi9ibHVyL0JsdXJGaWx0ZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJCbHVyRmlsdGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oYSkuZGVmYXVsdH19KTt2YXIgdT10KFwiLi9ibHVyL0JsdXJYRmlsdGVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiQmx1clhGaWx0ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbih1KS5kZWZhdWx0fX0pO3ZhciBsPXQoXCIuL2JsdXIvQmx1cllGaWx0ZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJCbHVyWUZpbHRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGwpLmRlZmF1bHR9fSk7dmFyIGg9dChcIi4vY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJDb2xvck1hdHJpeEZpbHRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGgpLmRlZmF1bHR9fSk7dmFyIGM9dChcIi4vdm9pZC9Wb2lkRmlsdGVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiVm9pZEZpbHRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGMpLmRlZmF1bHR9fSl9LHtcIi4vYmx1ci9CbHVyRmlsdGVyXCI6MTM4LFwiLi9ibHVyL0JsdXJYRmlsdGVyXCI6MTM5LFwiLi9ibHVyL0JsdXJZRmlsdGVyXCI6MTQwLFwiLi9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlclwiOjE0NCxcIi4vZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlclwiOjE0NSxcIi4vZnhhYS9GWEFBRmlsdGVyXCI6MTQ2LFwiLi9ub2lzZS9Ob2lzZUZpbHRlclwiOjE0OCxcIi4vdm9pZC9Wb2lkRmlsdGVyXCI6MTQ5fV0sMTQ4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSx1PXQoXCIuLi8uLi9jb3JlXCIpLGw9bih1KSxoPSh0KFwicGF0aFwiKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcyxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIixcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgbm9pc2U7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kKGdsX0ZyYWdDb29yZC54eSkgLSAwLjUpICogbm9pc2U7XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIikpO3JldHVybiByLm5vaXNlPS41LHJ9cmV0dXJuIHMoZSx0KSxhKGUsW3trZXk6XCJub2lzZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLm5vaXNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51bmlmb3Jtcy5ub2lzZT10fX1dKSxlfShsLkZpbHRlcikpO3IuZGVmYXVsdD1ofSx7XCIuLi8uLi9jb3JlXCI6NjMscGF0aDoyMn1dLDE0OTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi8uLi9jb3JlXCIpLHU9bihhKSxsPSh0KFwicGF0aFwiKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpO3ZhciByPW8odGhpcyx0LmNhbGwodGhpcyxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIikpO3JldHVybiByLmdsU2hhZGVyS2V5PVwidm9pZFwiLHJ9cmV0dXJuIHMoZSx0KSxlfSh1LkZpbHRlcikpO3IuZGVmYXVsdD1sfSx7XCIuLi8uLi9jb3JlXCI6NjMscGF0aDoyMn1dLDE1MDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgbz10KFwiLi4vY29yZVwiKSxzPW4obyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpKHRoaXMsdCksdGhpcy5nbG9iYWw9bmV3IHMuUG9pbnQsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLm9yaWdpbmFsRXZlbnQ9bnVsbCx0aGlzLmlkZW50aWZpZXI9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHJ8fHRoaXMuZ2xvYmFsLGUpfSx0fSgpO3IuZGVmYXVsdD1hfSx7XCIuLi9jb3JlXCI6NjN9XSwxNTE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bih0aGlzLHQpLHRoaXMuc3RvcHBlZD0hMSx0aGlzLnRhcmdldD1udWxsLHRoaXMuY3VycmVudFRhcmdldD1udWxsLHRoaXMudHlwZT1udWxsLHRoaXMuZGF0YT1udWxsfXJldHVybiB0LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLnN0b3BwZWQ9ITB9LHQucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3RoaXMuc3RvcHBlZD0hMSx0aGlzLmN1cnJlbnRUYXJnZXQ9bnVsbCx0aGlzLnRhcmdldD1udWxsfSx0fSgpO3IuZGVmYXVsdD1pfSx7fV0sMTUyOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIGEodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbD10KFwiLi4vY29yZVwiKSxoPWkobCksYz10KFwiLi9JbnRlcmFjdGlvbkRhdGFcIiksZj1uKGMpLGQ9dChcIi4vSW50ZXJhY3Rpb25FdmVudFwiKSxwPW4oZCksdj10KFwiLi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YVwiKSx5PW4odiksZz10KFwiZXZlbnRlbWl0dGVyM1wiKSxtPW4oZyksXz10KFwiLi9pbnRlcmFjdGl2ZVRhcmdldFwiKSxiPW4oXyk7aC51dGlscy5taXhpbnMuZGVsYXlNaXhpbihoLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLGIuZGVmYXVsdCk7dmFyIHg9XCJNT1VTRVwiLFQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe28odGhpcyxlKTt2YXIgaT1zKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gbj1ufHx7fSxpLnJlbmRlcmVyPXIsaS5hdXRvUHJldmVudERlZmF1bHQ9dm9pZCAwPT09bi5hdXRvUHJldmVudERlZmF1bHR8fG4uYXV0b1ByZXZlbnREZWZhdWx0LGkuaW50ZXJhY3Rpb25GcmVxdWVuY3k9bi5pbnRlcmFjdGlvbkZyZXF1ZW5jeXx8MTAsaS5tb3VzZT1uZXcgZi5kZWZhdWx0LGkubW91c2UuaWRlbnRpZmllcj14LGkubW91c2UuZ2xvYmFsLnNldCgtOTk5OTk5KSxpLmFjdGl2ZUludGVyYWN0aW9uRGF0YT17fSxpLmFjdGl2ZUludGVyYWN0aW9uRGF0YVt4XT1pLm1vdXNlLGkuaW50ZXJhY3Rpb25EYXRhUG9vbD1bXSxpLmV2ZW50RGF0YT1uZXcgcC5kZWZhdWx0LGkuaW50ZXJhY3Rpb25ET01FbGVtZW50PW51bGwsaS5tb3ZlV2hlbkluc2lkZT0hMSxpLmV2ZW50c0FkZGVkPSExLGkubW91c2VPdmVyUmVuZGVyZXI9ITEsaS5zdXBwb3J0c1RvdWNoRXZlbnRzPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3csaS5zdXBwb3J0c1BvaW50ZXJFdmVudHM9ISF3aW5kb3cuUG9pbnRlckV2ZW50LGkub25Qb2ludGVyVXA9aS5vblBvaW50ZXJVcC5iaW5kKGkpLGkucHJvY2Vzc1BvaW50ZXJVcD1pLnByb2Nlc3NQb2ludGVyVXAuYmluZChpKSxpLm9uUG9pbnRlckNhbmNlbD1pLm9uUG9pbnRlckNhbmNlbC5iaW5kKGkpLGkucHJvY2Vzc1BvaW50ZXJDYW5jZWw9aS5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKGkpLGkub25Qb2ludGVyRG93bj1pLm9uUG9pbnRlckRvd24uYmluZChpKSxpLnByb2Nlc3NQb2ludGVyRG93bj1pLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKGkpLGkub25Qb2ludGVyTW92ZT1pLm9uUG9pbnRlck1vdmUuYmluZChpKSxpLnByb2Nlc3NQb2ludGVyTW92ZT1pLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKGkpLGkub25Qb2ludGVyT3V0PWkub25Qb2ludGVyT3V0LmJpbmQoaSksaS5wcm9jZXNzUG9pbnRlck92ZXJPdXQ9aS5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZChpKSxpLm9uUG9pbnRlck92ZXI9aS5vblBvaW50ZXJPdmVyLmJpbmQoaSksaS5jdXJzb3JTdHlsZXM9e2RlZmF1bHQ6XCJpbmhlcml0XCIscG9pbnRlcjpcInBvaW50ZXJcIn0saS5jdXJyZW50Q3Vyc29yTW9kZT1udWxsLGkuY3Vyc29yPW51bGwsaS5fdGVtcFBvaW50PW5ldyBoLlBvaW50LGkucmVzb2x1dGlvbj0xLGkuc2V0VGFyZ2V0RWxlbWVudChpLnJlbmRlcmVyLnZpZXcsaS5yZW5kZXJlci5yZXNvbHV0aW9uKSxpfXJldHVybiBhKGUsdCksZS5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTt0aGlzLnJlbW92ZUV2ZW50cygpLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50PXQsdGhpcy5yZXNvbHV0aW9uPWUsdGhpcy5hZGRFdmVudHMoKX0sZS5wcm90b3R5cGUuYWRkRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQmJihoLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLHRoaXMpLHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD8odGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbXCItbXMtY29udGVudC16b29taW5nXCJdPVwibm9uZVwiLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlW1wiLW1zLXRvdWNoLWFjdGlvblwiXT1cIm5vbmVcIik6dGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMmJih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVtcInRvdWNoLWFjdGlvblwiXT1cIm5vbmVcIiksdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHM/KHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix0aGlzLm9uUG9pbnRlck1vdmUsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLHRoaXMub25Qb2ludGVyRG93biwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLHRoaXMub25Qb2ludGVyT3V0LCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm92ZXJcIix0aGlzLm9uUG9pbnRlck92ZXIsITApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmNhbmNlbFwiLHRoaXMub25Qb2ludGVyQ2FuY2VsLCEwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLHRoaXMub25Qb2ludGVyVXAsITApKTood2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm9uUG9pbnRlck1vdmUsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm9uUG9pbnRlckRvd24sITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMub25Qb2ludGVyT3V0LCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsdGhpcy5vblBvaW50ZXJPdmVyLCEwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm9uUG9pbnRlclVwLCEwKSx0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMmJih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMub25Qb2ludGVyRG93biwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5vblBvaW50ZXJDYW5jZWwsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMub25Qb2ludGVyVXAsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLm9uUG9pbnRlck1vdmUsITApKSksdGhpcy5ldmVudHNBZGRlZD0hMCl9LGUucHJvdG90eXBlLnJlbW92ZUV2ZW50cz1mdW5jdGlvbigpe3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50JiYoaC50aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSx0aGlzKSx3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQ/KHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlW1wiLW1zLWNvbnRlbnQtem9vbWluZ1wiXT1cIlwiLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlW1wiLW1zLXRvdWNoLWFjdGlvblwiXT1cIlwiKTp0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyYmKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlW1widG91Y2gtYWN0aW9uXCJdPVwiXCIpLHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzPyh3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsdGhpcy5vblBvaW50ZXJNb3ZlLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIix0aGlzLm9uUG9pbnRlckRvd24sITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIix0aGlzLm9uUG9pbnRlck91dCwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsdGhpcy5vblBvaW50ZXJPdmVyLCEwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIix0aGlzLm9uUG9pbnRlckNhbmNlbCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLm9uUG9pbnRlclVwLCEwKSk6KHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vblBvaW50ZXJNb3ZlLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5vblBvaW50ZXJEb3duLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIix0aGlzLm9uUG9pbnRlck91dCwhMCksdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMub25Qb2ludGVyT3ZlciwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vblBvaW50ZXJVcCwhMCksdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzJiYodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uUG9pbnRlckRvd24sITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMub25Qb2ludGVyQ2FuY2VsLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLm9uUG9pbnRlclVwLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5vblBvaW50ZXJNb3ZlLCEwKSkpLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50PW51bGwsdGhpcy5ldmVudHNBZGRlZD0hMSl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZih0aGlzLl9kZWx0YVRpbWUrPXQsISh0aGlzLl9kZWx0YVRpbWU8dGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkmJih0aGlzLl9kZWx0YVRpbWU9MCx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkpe2lmKHRoaXMuZGlkTW92ZSlyZXR1cm4gdm9pZCh0aGlzLmRpZE1vdmU9ITEpO3RoaXMuY3Vyc29yPW51bGw7Zm9yKHZhciBlIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKWlmKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGUpKXt2YXIgcj10aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtlXTtpZihyLm9yaWdpbmFsRXZlbnQmJlwidG91Y2hcIiE9PXIucG9pbnRlclR5cGUpe3ZhciBuPXRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLHIub3JpZ2luYWxFdmVudCxyKTt0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShuLHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCx0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwhMCl9fXRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcil9fSxlLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlPWZ1bmN0aW9uKHQpe2lmKHQ9dHx8XCJkZWZhdWx0XCIsdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSE9PXQpe3RoaXMuY3VycmVudEN1cnNvck1vZGU9dDt2YXIgZT10aGlzLmN1cnNvclN0eWxlc1t0XTtpZihlKXN3aXRjaChcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOnUoZSkpe2Nhc2VcInN0cmluZ1wiOnRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvcj1lO2JyZWFrO2Nhc2VcImZ1bmN0aW9uXCI6ZSh0KTticmVhaztjYXNlXCJvYmplY3RcIjpPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLGUpfX19LGUucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCxlLHIpe3Iuc3RvcHBlZHx8KHIuY3VycmVudFRhcmdldD10LHIudHlwZT1lLHQuZW1pdChlLHIpLHRbZV0mJnRbZV0ocikpfSxlLnByb3RvdHlwZS5tYXBQb3NpdGlvblRvUG9pbnQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXZvaWQgMDtuPXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQ/dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH07dmFyIGk9bmF2aWdhdG9yLmlzQ29jb29uSlM/dGhpcy5yZXNvbHV0aW9uOjEvdGhpcy5yZXNvbHV0aW9uO3QueD0oZS1uLmxlZnQpKih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aC9uLndpZHRoKSppLHQueT0oci1uLnRvcCkqKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodC9uLmhlaWdodCkqaX0sZS5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlPWZ1bmN0aW9uKHQsZSxyLG4saSl7aWYoIWV8fCFlLnZpc2libGUpcmV0dXJuITE7dmFyIG89dC5kYXRhLmdsb2JhbDtpPWUuaW50ZXJhY3RpdmV8fGk7dmFyIHM9ITEsYT1pO2UuaGl0QXJlYT9hPSExOm4mJmUuX21hc2smJihlLl9tYXNrLmNvbnRhaW5zUG9pbnQobyl8fChuPSExKSk7dmFyIHU9bjtpZihlLmludGVyYWN0aXZlQ2hpbGRyZW4mJmUuY2hpbGRyZW4pZm9yKHZhciBsPWUuY2hpbGRyZW4saD1sLmxlbmd0aC0xO2g+PTA7aC0tKXt2YXIgYz1sW2hdO2lmKHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKHQsYyxyLG4sYSkpe2lmKCFjLnBhcmVudCljb250aW51ZTtzPSEwLGE9ITEsdT0hMSxjLmludGVyYWN0aXZlJiYobj0hMSl9fXJldHVybiBuPXUsaSYmKG4mJiFzJiYoZS5oaXRBcmVhPyhlLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShvLHRoaXMuX3RlbXBQb2ludCkscz1lLmhpdEFyZWEuY29udGFpbnModGhpcy5fdGVtcFBvaW50LngsdGhpcy5fdGVtcFBvaW50LnkpKTplLmNvbnRhaW5zUG9pbnQmJihzPWUuY29udGFpbnNQb2ludChvKSkpLGUuaW50ZXJhY3RpdmUmJihzJiYhdC50YXJnZXQmJih0LnRhcmdldD1lKSxyKHQsZSxzKSkpLHN9LGUucHJvdG90eXBlLm9uUG9pbnRlckRvd249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKHQpO3RoaXMuYXV0b1ByZXZlbnREZWZhdWx0JiZlWzBdLmlzTm9ybWFsaXplZCYmdC5wcmV2ZW50RGVmYXVsdCgpO2Zvcih2YXIgcj1lLmxlbmd0aCxuPTA7bjxyO24rKyl7dmFyIGk9ZVtuXSxvPXRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGkpLHM9dGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsaSxvKTtpZihzLmRhdGEub3JpZ2luYWxFdmVudD10LHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKHMsdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCEwKSx0aGlzLmVtaXQoXCJwb2ludGVyZG93blwiLHMpLFwidG91Y2hcIj09PWkucG9pbnRlclR5cGUpdGhpcy5lbWl0KFwidG91Y2hzdGFydFwiLHMpO2Vsc2UgaWYoXCJtb3VzZVwiPT09aS5wb2ludGVyVHlwZSl7dmFyIGE9Mj09PWkuYnV0dG9ufHwzPT09aS53aGljaDt0aGlzLmVtaXQoYT9cInJpZ2h0ZG93blwiOlwibW91c2Vkb3duXCIsdGhpcy5ldmVudERhdGEpfX19LGUucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93bj1mdW5jdGlvbih0LGUscil7dmFyIG49dC5kYXRhLm9yaWdpbmFsRXZlbnQsaT10LmRhdGEuaWRlbnRpZmllcjtpZihyKWlmKGUudHJhY2tlZFBvaW50ZXJzW2ldfHwoZS50cmFja2VkUG9pbnRlcnNbaV09bmV3IHkuZGVmYXVsdChpKSksdGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJwb2ludGVyZG93blwiLHQpLFwidG91Y2hzdGFydFwiPT09bi50eXBlfHxcInRvdWNoXCI9PT1uLnBvaW50ZXJUeXBlKXRoaXMuZGlzcGF0Y2hFdmVudChlLFwidG91Y2hzdGFydFwiLHQpO2Vsc2UgaWYoXCJtb3VzZWRvd25cIj09PW4udHlwZXx8XCJtb3VzZVwiPT09bi5wb2ludGVyVHlwZSl7dmFyIG89Mj09PW4uYnV0dG9ufHwzPT09bi53aGljaDtvP2UudHJhY2tlZFBvaW50ZXJzW2ldLnJpZ2h0RG93bj0hMDplLnRyYWNrZWRQb2ludGVyc1tpXS5sZWZ0RG93bj0hMCx0aGlzLmRpc3BhdGNoRXZlbnQoZSxvP1wicmlnaHRkb3duXCI6XCJtb3VzZWRvd25cIix0KX19LGUucHJvdG90eXBlLm9uUG9pbnRlckNvbXBsZXRlPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49dGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKHQpLGk9bi5sZW5ndGgsbz0wO288aTtvKyspe3ZhciBzPW5bb10sYT10aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChzKSx1PXRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLHMsYSk7aWYodS5kYXRhLm9yaWdpbmFsRXZlbnQ9dCx0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZSh1LHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCxyLCEwKSx0aGlzLmVtaXQoZT9cInBvaW50ZXJjYW5jZWxcIjpcInBvaW50ZXJ1cFwiLHUpLFwibW91c2VcIj09PXMucG9pbnRlclR5cGUpe3ZhciBsPTI9PT1zLmJ1dHRvbnx8Mz09PXMud2hpY2g7dGhpcy5lbWl0KGw/XCJyaWdodHVwXCI6XCJtb3VzZXVwXCIsdSl9ZWxzZVwidG91Y2hcIj09PXMucG9pbnRlclR5cGUmJih0aGlzLmVtaXQoZT9cInRvdWNoY2FuY2VsXCI6XCJ0b3VjaGVuZFwiLHUpLHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChzLnBvaW50ZXJJZCxhKSl9fSxlLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWw9ZnVuY3Rpb24odCl7dGhpcy5vblBvaW50ZXJDb21wbGV0ZSh0LCEwLHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpfSxlLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbD1mdW5jdGlvbih0LGUpe3ZhciByPXQuZGF0YS5vcmlnaW5hbEV2ZW50LG49dC5kYXRhLmlkZW50aWZpZXI7dm9pZCAwIT09ZS50cmFja2VkUG9pbnRlcnNbbl0mJihkZWxldGUgZS50cmFja2VkUG9pbnRlcnNbbl0sdGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJwb2ludGVyY2FuY2VsXCIsdCksXCJ0b3VjaGNhbmNlbFwiIT09ci50eXBlJiZcInRvdWNoXCIhPT1yLnBvaW50ZXJUeXBlfHx0aGlzLmRpc3BhdGNoRXZlbnQoZSxcInRvdWNoY2FuY2VsXCIsdCkpfSxlLnByb3RvdHlwZS5vblBvaW50ZXJVcD1mdW5jdGlvbih0KXt0aGlzLm9uUG9pbnRlckNvbXBsZXRlKHQsITEsdGhpcy5wcm9jZXNzUG9pbnRlclVwKX0sZS5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcD1mdW5jdGlvbih0LGUscil7dmFyIG49dC5kYXRhLm9yaWdpbmFsRXZlbnQsaT10LmRhdGEuaWRlbnRpZmllcixvPWUudHJhY2tlZFBvaW50ZXJzW2ldLHM9XCJ0b3VjaGVuZFwiPT09bi50eXBlfHxcInRvdWNoXCI9PT1uLnBvaW50ZXJUeXBlLGE9MD09PW4udHlwZS5pbmRleE9mKFwibW91c2VcIil8fFwibW91c2VcIj09PW4ucG9pbnRlclR5cGU7aWYoYSl7dmFyIHU9Mj09PW4uYnV0dG9ufHwzPT09bi53aGljaCxsPXkuZGVmYXVsdC5GTEFHUyxoPXU/bC5SSUdIVF9ET1dOOmwuTEVGVF9ET1dOLGM9dm9pZCAwIT09byYmby5mbGFncyZoO3I/KHRoaXMuZGlzcGF0Y2hFdmVudChlLHU/XCJyaWdodHVwXCI6XCJtb3VzZXVwXCIsdCksYyYmdGhpcy5kaXNwYXRjaEV2ZW50KGUsdT9cInJpZ2h0Y2xpY2tcIjpcImNsaWNrXCIsdCkpOmMmJnRoaXMuZGlzcGF0Y2hFdmVudChlLHU/XCJyaWdodHVwb3V0c2lkZVwiOlwibW91c2V1cG91dHNpZGVcIix0KSxvJiYodT9vLnJpZ2h0RG93bj0hMTpvLmxlZnREb3duPSExKX1yPyh0aGlzLmRpc3BhdGNoRXZlbnQoZSxcInBvaW50ZXJ1cFwiLHQpLHMmJnRoaXMuZGlzcGF0Y2hFdmVudChlLFwidG91Y2hlbmRcIix0KSxvJiYodGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJwb2ludGVydGFwXCIsdCkscyYmKHRoaXMuZGlzcGF0Y2hFdmVudChlLFwidGFwXCIsdCksby5vdmVyPSExKSkpOm8mJih0aGlzLmRpc3BhdGNoRXZlbnQoZSxcInBvaW50ZXJ1cG91dHNpZGVcIix0KSxzJiZ0aGlzLmRpc3BhdGNoRXZlbnQoZSxcInRvdWNoZW5kb3V0c2lkZVwiLHQpKSxvJiZvLm5vbmUmJmRlbGV0ZSBlLnRyYWNrZWRQb2ludGVyc1tpXX0sZS5wcm90b3R5cGUub25Qb2ludGVyTW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEodCk7XCJtb3VzZVwiPT09ZVswXS5wb2ludGVyVHlwZSYmKHRoaXMuZGlkTW92ZT0hMCx0aGlzLmN1cnNvcj1udWxsKTtmb3IodmFyIHI9ZS5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBpPWVbbl0sbz10aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpKSxzPXRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLGksbyk7cy5kYXRhLm9yaWdpbmFsRXZlbnQ9dDt2YXIgYT1cInRvdWNoXCIhPT1pLnBvaW50ZXJUeXBlfHx0aGlzLm1vdmVXaGVuSW5zaWRlO3RoaXMucHJvY2Vzc0ludGVyYWN0aXZlKHMsdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLGEpLHRoaXMuZW1pdChcInBvaW50ZXJtb3ZlXCIscyksXCJ0b3VjaFwiPT09aS5wb2ludGVyVHlwZSYmdGhpcy5lbWl0KFwidG91Y2htb3ZlXCIscyksXG5cIm1vdXNlXCI9PT1pLnBvaW50ZXJUeXBlJiZ0aGlzLmVtaXQoXCJtb3VzZW1vdmVcIixzKX1cIm1vdXNlXCI9PT1lWzBdLnBvaW50ZXJUeXBlJiZ0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpfSxlLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQuZGF0YS5vcmlnaW5hbEV2ZW50LGk9XCJ0b3VjaG1vdmVcIj09PW4udHlwZXx8XCJ0b3VjaFwiPT09bi5wb2ludGVyVHlwZSxvPVwibW91c2Vtb3ZlXCI9PT1uLnR5cGV8fFwibW91c2VcIj09PW4ucG9pbnRlclR5cGU7byYmdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQodCxlLHIpLHRoaXMubW92ZVdoZW5JbnNpZGUmJiFyfHwodGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJwb2ludGVybW92ZVwiLHQpLGkmJnRoaXMuZGlzcGF0Y2hFdmVudChlLFwidG91Y2htb3ZlXCIsdCksbyYmdGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJtb3VzZW1vdmVcIix0KSl9LGUucHJvdG90eXBlLm9uUG9pbnRlck91dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEodCkscj1lWzBdO1wibW91c2VcIj09PXIucG9pbnRlclR5cGUmJih0aGlzLm1vdXNlT3ZlclJlbmRlcmVyPSExLHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKSk7dmFyIG49dGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQociksaT10aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSxyLG4pO2kuZGF0YS5vcmlnaW5hbEV2ZW50PXIsdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaSx0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsITEpLHRoaXMuZW1pdChcInBvaW50ZXJvdXRcIixpKSxcIm1vdXNlXCI9PT1yLnBvaW50ZXJUeXBlJiZ0aGlzLmVtaXQoXCJtb3VzZW91dFwiLGkpfSxlLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQuZGF0YS5vcmlnaW5hbEV2ZW50LGk9dC5kYXRhLmlkZW50aWZpZXIsbz1cIm1vdXNlb3ZlclwiPT09bi50eXBlfHxcIm1vdXNlb3V0XCI9PT1uLnR5cGV8fFwibW91c2VcIj09PW4ucG9pbnRlclR5cGUscz1lLnRyYWNrZWRQb2ludGVyc1tpXTtyJiYhcyYmKHM9ZS50cmFja2VkUG9pbnRlcnNbaV09bmV3IHkuZGVmYXVsdChpKSksdm9pZCAwIT09cyYmKHImJnRoaXMubW91c2VPdmVyUmVuZGVyZXI/KHMub3Zlcnx8KHMub3Zlcj0hMCx0aGlzLmRpc3BhdGNoRXZlbnQoZSxcInBvaW50ZXJvdmVyXCIsdCksbyYmdGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJtb3VzZW92ZXJcIix0KSksbyYmbnVsbD09PXRoaXMuY3Vyc29yJiYodGhpcy5jdXJzb3I9ZS5jdXJzb3IpKTpzLm92ZXImJihzLm92ZXI9ITEsdGhpcy5kaXNwYXRjaEV2ZW50KGUsXCJwb2ludGVyb3V0XCIsdGhpcy5ldmVudERhdGEpLG8mJnRoaXMuZGlzcGF0Y2hFdmVudChlLFwibW91c2VvdXRcIix0KSxzLm5vbmUmJmRlbGV0ZSBlLnRyYWNrZWRQb2ludGVyc1tpXSkpfSxlLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YSh0KSxyPWVbMF0sbj10aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChyKSxpPXRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLHIsbik7aS5kYXRhLm9yaWdpbmFsRXZlbnQ9cixcIm1vdXNlXCI9PT1yLnBvaW50ZXJUeXBlJiYodGhpcy5tb3VzZU92ZXJSZW5kZXJlcj0hMCksdGhpcy5lbWl0KFwicG9pbnRlcm92ZXJcIixpKSxcIm1vdXNlXCI9PT1yLnBvaW50ZXJUeXBlJiZ0aGlzLmVtaXQoXCJtb3VzZW92ZXJcIixpKX0sZS5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkPWZ1bmN0aW9uKHQpe3ZhciBlPXQucG9pbnRlcklkO2lmKGU9PT14fHxcIm1vdXNlXCI9PT10LnBvaW50ZXJUeXBlKXJldHVybiB0aGlzLm1vdXNlO2lmKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2VdKXJldHVybiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtlXTt2YXIgcj10aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCl8fG5ldyBmLmRlZmF1bHQ7cmV0dXJuIHIuaWRlbnRpZmllcj1lLHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2VdPXIscn0sZS5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVt0XTtlJiYoZGVsZXRlIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3RdLHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGUpKX0sZS5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5kYXRhPXIsdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoci5nbG9iYWwsZS5jbGllbnRYLGUuY2xpZW50WSksbmF2aWdhdG9yLmlzQ29jb29uSlMmJlwidG91Y2hcIj09PWUucG9pbnRlclR5cGUmJihyLmdsb2JhbC54PXIuZ2xvYmFsLngvdGhpcy5yZXNvbHV0aW9uLHIuZ2xvYmFsLnk9ci5nbG9iYWwueS90aGlzLnJlc29sdXRpb24pLFwidG91Y2hcIj09PWUucG9pbnRlclR5cGUmJihlLmdsb2JhbFg9ci5nbG9iYWwueCxlLmdsb2JhbFk9ci5nbG9iYWwueSksci5vcmlnaW5hbEV2ZW50PWUsdC5fcmVzZXQoKSx0fSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyYmdCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpZm9yKHZhciByPTAsbj10LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtyPG47cisrKXt2YXIgaT10LmNoYW5nZWRUb3VjaGVzW3JdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBpLmJ1dHRvbiYmKGkuYnV0dG9uPXQudG91Y2hlcy5sZW5ndGg/MTowKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS5idXR0b25zJiYoaS5idXR0b25zPXQudG91Y2hlcy5sZW5ndGg/MTowKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS5pc1ByaW1hcnkmJihpLmlzUHJpbWFyeT0xPT09dC50b3VjaGVzLmxlbmd0aCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkud2lkdGgmJihpLndpZHRoPWkucmFkaXVzWHx8MSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkuaGVpZ2h0JiYoaS5oZWlnaHQ9aS5yYWRpdXNZfHwxKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS50aWx0WCYmKGkudGlsdFg9MCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkudGlsdFkmJihpLnRpbHRZPTApLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpLnBvaW50ZXJUeXBlJiYoaS5wb2ludGVyVHlwZT1cInRvdWNoXCIpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpLnBvaW50ZXJJZCYmKGkucG9pbnRlcklkPWkuaWRlbnRpZmllcnx8MCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkucHJlc3N1cmUmJihpLnByZXNzdXJlPWkuZm9yY2V8fC41KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS5yb3RhdGlvbiYmKGkucm90YXRpb249aS5yb3RhdGlvbkFuZ2xlfHwwKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS5sYXllclgmJihpLmxheWVyWD1pLm9mZnNldFg9aS5jbGllbnRYKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaS5sYXllclkmJihpLmxheWVyWT1pLm9mZnNldFk9aS5jbGllbnRZKSxpLmlzTm9ybWFsaXplZD0hMCxlLnB1c2goaSl9ZWxzZSEodCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpfHx0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyYmdCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQ/ZS5wdXNoKHQpOihcInVuZGVmaW5lZFwiPT10eXBlb2YgdC5pc1ByaW1hcnkmJih0LmlzUHJpbWFyeT0hMCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQud2lkdGgmJih0LndpZHRoPTEpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LmhlaWdodCYmKHQuaGVpZ2h0PTEpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0LnRpbHRYJiYodC50aWx0WD0wKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgdC50aWx0WSYmKHQudGlsdFk9MCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQucG9pbnRlclR5cGUmJih0LnBvaW50ZXJUeXBlPVwibW91c2VcIiksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQucG9pbnRlcklkJiYodC5wb2ludGVySWQ9eCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQucHJlc3N1cmUmJih0LnByZXNzdXJlPS41KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgdC5yb3RhdGlvbiYmKHQucm90YXRpb249MCksdC5pc05vcm1hbGl6ZWQ9ITAsZS5wdXNoKHQpKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRzKCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5tb3VzZT1udWxsLHRoaXMuZXZlbnREYXRhPW51bGwsdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQ9bnVsbCx0aGlzLm9uUG9pbnRlckRvd249bnVsbCx0aGlzLnByb2Nlc3NQb2ludGVyRG93bj1udWxsLHRoaXMub25Qb2ludGVyVXA9bnVsbCx0aGlzLnByb2Nlc3NQb2ludGVyVXA9bnVsbCx0aGlzLm9uUG9pbnRlckNhbmNlbD1udWxsLHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWw9bnVsbCx0aGlzLm9uUG9pbnRlck1vdmU9bnVsbCx0aGlzLnByb2Nlc3NQb2ludGVyTW92ZT1udWxsLHRoaXMub25Qb2ludGVyT3V0PW51bGwsdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQ9bnVsbCx0aGlzLm9uUG9pbnRlck92ZXI9bnVsbCx0aGlzLl90ZW1wUG9pbnQ9bnVsbH0sZX0obS5kZWZhdWx0KTtyLmRlZmF1bHQ9VCxoLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXCJpbnRlcmFjdGlvblwiLFQpLGguQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXCJpbnRlcmFjdGlvblwiLFQpfSx7XCIuLi9jb3JlXCI6NjMsXCIuL0ludGVyYWN0aW9uRGF0YVwiOjE1MCxcIi4vSW50ZXJhY3Rpb25FdmVudFwiOjE1MSxcIi4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGFcIjoxNTMsXCIuL2ludGVyYWN0aXZlVGFyZ2V0XCI6MTU1LGV2ZW50ZW1pdHRlcjM6M31dLDE1MzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLl9wb2ludGVySWQ9ZSx0aGlzLl9mbGFncz10LkZMQUdTLk5PTkV9cmV0dXJuIHQucHJvdG90eXBlLl9kb1NldD1mdW5jdGlvbih0LGUpe2U/dGhpcy5fZmxhZ3M9dGhpcy5fZmxhZ3N8dDp0aGlzLl9mbGFncz10aGlzLl9mbGFncyZ+dH0saSh0LFt7a2V5OlwicG9pbnRlcklkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJJZH19LHtrZXk6XCJmbGFnc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mbGFnc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZsYWdzPXR9fSx7a2V5Olwibm9uZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mbGFncz09PXRoaXMuY29uc3RydWN0b3IuRkxBR1MuTk9ORX19LHtrZXk6XCJvdmVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0odGhpcy5fZmxhZ3MmdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUix0KX19LHtrZXk6XCJyaWdodERvd25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PSh0aGlzLl9mbGFncyZ0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOLHQpfX0se2tleTpcImxlZnREb3duXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT0odGhpcy5fZmxhZ3MmdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04sdCl9fV0pLHR9KCk7ci5kZWZhdWx0PW8sby5GTEFHUz1PYmplY3QuZnJlZXplKHtOT05FOjAsT1ZFUjoxLExFRlRfRE9XTjoyLFJJR0hUX0RPV046NH0pfSx7fV0sMTU0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ci5fX2VzTW9kdWxlPSEwO3ZhciBpPXQoXCIuL0ludGVyYWN0aW9uRGF0YVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkludGVyYWN0aW9uRGF0YVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGkpLmRlZmF1bHR9fSk7dmFyIG89dChcIi4vSW50ZXJhY3Rpb25NYW5hZ2VyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiSW50ZXJhY3Rpb25NYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFwiLi9pbnRlcmFjdGl2ZVRhcmdldFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImludGVyYWN0aXZlVGFyZ2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KX0se1wiLi9JbnRlcmFjdGlvbkRhdGFcIjoxNTAsXCIuL0ludGVyYWN0aW9uTWFuYWdlclwiOjE1MixcIi4vaW50ZXJhY3RpdmVUYXJnZXRcIjoxNTV9XSwxNTU6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtyLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PXtpbnRlcmFjdGl2ZTohMSxpbnRlcmFjdGl2ZUNoaWxkcmVuOiEwLGhpdEFyZWE6bnVsbCxnZXQgYnV0dG9uTW9kZSgpe3JldHVyblwicG9pbnRlclwiPT09dGhpcy5jdXJzb3J9LHNldCBidXR0b25Nb2RlKHQpe3Q/dGhpcy5jdXJzb3I9XCJwb2ludGVyXCI6XCJwb2ludGVyXCI9PT10aGlzLmN1cnNvciYmKHRoaXMuY3Vyc29yPW51bGwpfSxjdXJzb3I6bnVsbCxnZXQgdHJhY2tlZFBvaW50ZXJzKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3RyYWNrZWRQb2ludGVycyYmKHRoaXMuX3RyYWNrZWRQb2ludGVycz17fSksdGhpcy5fdHJhY2tlZFBvaW50ZXJzfSxfdHJhY2tlZFBvaW50ZXJzOnZvaWQgMH19LHt9XSwxNTY6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7dC5iaXRtYXBGb250PWwuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQodC5kYXRhLGUpfXIuX19lc01vZHVsZT0hMCxyLnBhcnNlPWksci5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoIXQuZGF0YXx8dC50eXBlIT09dS5SZXNvdXJjZS5UWVBFLlhNTClyZXR1cm4gdm9pZCBlKCk7aWYoMD09PXQuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhZ2VcIikubGVuZ3RofHwwPT09dC5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5mb1wiKS5sZW5ndGh8fG51bGw9PT10LmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbmZvXCIpWzBdLmdldEF0dHJpYnV0ZShcImZhY2VcIikpcmV0dXJuIHZvaWQgZSgpO3ZhciByPXQuaXNEYXRhVXJsP1wiXCI6cy5kaXJuYW1lKHQudXJsKTt0LmlzRGF0YVVybCYmKFwiLlwiPT09ciYmKHI9XCJcIiksdGhpcy5iYXNlVXJsJiZyJiYoXCIvXCI9PT10aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGgtMSkmJihyKz1cIi9cIikscj1yLnJlcGxhY2UodGhpcy5iYXNlVXJsLFwiXCIpKSksciYmXCIvXCIhPT1yLmNoYXJBdChyLmxlbmd0aC0xKSYmKHIrPVwiL1wiKTt2YXIgbj1yK3QuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhZ2VcIilbMF0uZ2V0QXR0cmlidXRlKFwiZmlsZVwiKTtpZihhLnV0aWxzLlRleHR1cmVDYWNoZVtuXSlpKHQsYS51dGlscy5UZXh0dXJlQ2FjaGVbbl0pLGUoKTtlbHNle3ZhciBvPXtjcm9zc09yaWdpbjp0LmNyb3NzT3JpZ2luLGxvYWRUeXBlOnUuUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLG1ldGFkYXRhOnQubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxwYXJlbnRSZXNvdXJjZTp0fTt0aGlzLmFkZCh0Lm5hbWUrXCJfaW1hZ2VcIixuLG8sZnVuY3Rpb24ocil7aSh0LHIudGV4dHVyZSksZSgpfSl9fX07dmFyIG89dChcInBhdGhcIikscz1uKG8pLGE9dChcIi4uL2NvcmVcIiksdT10KFwicmVzb3VyY2UtbG9hZGVyXCIpLGw9dChcIi4uL2V4dHJhc1wiKX0se1wiLi4vY29yZVwiOjYzLFwiLi4vZXh0cmFzXCI6MTM2LHBhdGg6MjIsXCJyZXNvdXJjZS1sb2FkZXJcIjozNH1dLDE1NzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi9sb2FkZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJMb2FkZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXCIuL2JpdG1hcEZvbnRQYXJzZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJiaXRtYXBGb250UGFyc2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInBhcnNlQml0bWFwRm9udERhdGFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5wYXJzZX19KTt2YXIgcz10KFwiLi9zcHJpdGVzaGVldFBhcnNlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInNwcml0ZXNoZWV0UGFyc2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KTt2YXIgYT10KFwiLi90ZXh0dXJlUGFyc2VyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwidGV4dHVyZVBhcnNlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcInJlc291cmNlLWxvYWRlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlJlc291cmNlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuUmVzb3VyY2V9fSl9LHtcIi4vYml0bWFwRm9udFBhcnNlclwiOjE1NixcIi4vbG9hZGVyXCI6MTU4LFwiLi9zcHJpdGVzaGVldFBhcnNlclwiOjE1OSxcIi4vdGV4dHVyZVBhcnNlclwiOjE2MCxcInJlc291cmNlLWxvYWRlclwiOjM0fV0sMTU4OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGE9dChcInJlc291cmNlLWxvYWRlclwiKSx1PW4oYSksbD10KFwicmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2JcIiksaD10KFwiZXZlbnRlbWl0dGVyM1wiKSxjPW4oaCksZj10KFwiLi90ZXh0dXJlUGFyc2VyXCIpLGQ9bihmKSxwPXQoXCIuL3Nwcml0ZXNoZWV0UGFyc2VyXCIpLHY9bihwKSx5PXQoXCIuL2JpdG1hcEZvbnRQYXJzZXJcIiksZz1uKHkpLG09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe2kodGhpcyxlKTt2YXIgcz1vKHRoaXMsdC5jYWxsKHRoaXMscixuKSk7Yy5kZWZhdWx0LmNhbGwocyk7Zm9yKHZhciBhPTA7YTxlLl9waXhpTWlkZGxld2FyZS5sZW5ndGg7KythKXMudXNlKGUuX3BpeGlNaWRkbGV3YXJlW2FdKCkpO3JldHVybiBzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uKHQpe3JldHVybiBzLmVtaXQoXCJzdGFydFwiLHQpfSkscy5vblByb2dyZXNzLmFkZChmdW5jdGlvbih0LGUpe3JldHVybiBzLmVtaXQoXCJwcm9ncmVzc1wiLHQsZSl9KSxzLm9uRXJyb3IuYWRkKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gcy5lbWl0KFwiZXJyb3JcIix0LGUscil9KSxzLm9uTG9hZC5hZGQoZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5lbWl0KFwibG9hZFwiLHQsZSl9KSxzLm9uQ29tcGxldGUuYWRkKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMuZW1pdChcImNvbXBsZXRlXCIsdCxlKX0pLHN9cmV0dXJuIHMoZSx0KSxlLmFkZFBpeGlNaWRkbGV3YXJlPWZ1bmN0aW9uKHQpe2UuX3BpeGlNaWRkbGV3YXJlLnB1c2godCl9LGV9KHUuZGVmYXVsdCk7ci5kZWZhdWx0PW07Zm9yKHZhciBfIGluIGMuZGVmYXVsdC5wcm90b3R5cGUpbS5wcm90b3R5cGVbX109Yy5kZWZhdWx0LnByb3RvdHlwZVtfXTttLl9waXhpTWlkZGxld2FyZT1bbC5ibG9iTWlkZGxld2FyZUZhY3RvcnksZC5kZWZhdWx0LHYuZGVmYXVsdCxnLmRlZmF1bHRdO3ZhciBiPXUuZGVmYXVsdC5SZXNvdXJjZTtiLnNldEV4dGVuc2lvblhoclR5cGUoXCJmbnRcIixiLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKX0se1wiLi9iaXRtYXBGb250UGFyc2VyXCI6MTU2LFwiLi9zcHJpdGVzaGVldFBhcnNlclwiOjE1OSxcIi4vdGV4dHVyZVBhcnNlclwiOjE2MCxldmVudGVtaXR0ZXIzOjMsXCJyZXNvdXJjZS1sb2FkZXJcIjozNCxcInJlc291cmNlLWxvYWRlci9saWIvbWlkZGxld2FyZXMvcGFyc2luZy9ibG9iXCI6MzV9XSwxNTk6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIHI9dm9pZCAwLG49dC5uYW1lK1wiX2ltYWdlXCI7aWYoIXQuZGF0YXx8dC50eXBlIT09aS5SZXNvdXJjZS5UWVBFLkpTT058fCF0LmRhdGEuZnJhbWVzfHx0aGlzLnJlc291cmNlc1tuXSlyZXR1cm4gdm9pZCBlKCk7dmFyIG89e2Nyb3NzT3JpZ2luOnQuY3Jvc3NPcmlnaW4sbG9hZFR5cGU6aS5SZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsbWV0YWRhdGE6dC5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLHBhcmVudFJlc291cmNlOnR9O3I9dC5pc0RhdGFVcmw/dC5kYXRhLm1ldGEuaW1hZ2U6cy5kZWZhdWx0LmRpcm5hbWUodC51cmwucmVwbGFjZSh0aGlzLmJhc2VVcmwsXCJcIikpK1wiL1wiK3QuZGF0YS5tZXRhLmltYWdlLHRoaXMuYWRkKG4scixvLGZ1bmN0aW9uKHIpe3ZhciBuPW5ldyBhLlNwcml0ZXNoZWV0KHIudGV4dHVyZS5iYXNlVGV4dHVyZSx0LmRhdGEsdC51cmwpO24ucGFyc2UoZnVuY3Rpb24oKXt0LnNwcml0ZXNoZWV0PW4sdC50ZXh0dXJlcz1uLnRleHR1cmVzLGUoKX0pfSl9fTt2YXIgaT10KFwicmVzb3VyY2UtbG9hZGVyXCIpLG89dChcInBhdGhcIikscz1uKG8pLGE9dChcIi4uL2NvcmVcIil9LHtcIi4uL2NvcmVcIjo2MyxwYXRoOjIyLFwicmVzb3VyY2UtbG9hZGVyXCI6MzR9XSwxNjA6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITAsci5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dC5kYXRhJiZ0LnR5cGU9PT1pLlJlc291cmNlLlRZUEUuSU1BR0UmJih0LnRleHR1cmU9cy5kZWZhdWx0LmZyb21Mb2FkZXIodC5kYXRhLHQudXJsLHQubmFtZSkpLGUoKX19O3ZhciBpPXQoXCJyZXNvdXJjZS1sb2FkZXJcIiksbz10KFwiLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlXCIpLHM9bihvKX0se1wiLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlXCI6MTEyLFwicmVzb3VyY2UtbG9hZGVyXCI6MzR9XSwxNjE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLHU9dChcIi4uL2NvcmVcIiksbD1uKHUpLGg9bmV3IGwuUG9pbnQsYz1uZXcgbC5Qb2x5Z29uLGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4scyxhLHUpe2kodGhpcyxlKTt2YXIgaD1vKHRoaXMsdC5jYWxsKHRoaXMpKTtyZXR1cm4gaC5fdGV4dHVyZT1udWxsLGgudXZzPXN8fG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMSwxLDAsMV0pLGgudmVydGljZXM9bnx8bmV3IEZsb2F0MzJBcnJheShbMCwwLDEwMCwwLDEwMCwxMDAsMCwxMDBdKSxoLmluZGljZXM9YXx8bmV3IFVpbnQxNkFycmF5KFswLDEsMywyXSksaC5kaXJ0eT0wLGguaW5kZXhEaXJ0eT0wLGguYmxlbmRNb2RlPWwuQkxFTkRfTU9ERVMuTk9STUFMLGguY2FudmFzUGFkZGluZz0wLGguZHJhd01vZGU9dXx8ZS5EUkFXX01PREVTLlRSSUFOR0xFX01FU0gsaC50ZXh0dXJlPXIsaC5zaGFkZXI9bnVsbCxoLnRpbnRSZ2I9bmV3IEZsb2F0MzJBcnJheShbMSwxLDFdKSxoLl9nbERhdGFzPXt9LGgucGx1Z2luTmFtZT1cIm1lc2hcIixofXJldHVybiBzKGUsdCksZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMPWZ1bmN0aW9uKHQpe3Quc2V0T2JqZWN0UmVuZGVyZXIodC5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pLHQucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKX0sZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXt0LnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyl9LGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHM9ZnVuY3Rpb24oKXt0aGlzLl9ib3VuZHMuYWRkVmVydGljZXModGhpcy50cmFuc2Zvcm0sdGhpcy52ZXJ0aWNlcywwLHRoaXMudmVydGljZXMubGVuZ3RoKX0sZS5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0KXtpZighdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyh0LngsdC55KSlyZXR1cm4hMTt0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZSh0LGgpO2Zvcih2YXIgcj10aGlzLnZlcnRpY2VzLG49Yy5wb2ludHMsaT10aGlzLmluZGljZXMsbz10aGlzLmluZGljZXMubGVuZ3RoLHM9dGhpcy5kcmF3TW9kZT09PWUuRFJBV19NT0RFUy5UUklBTkdMRVM/MzoxLGE9MDthKzI8bzthKz1zKXt2YXIgdT0yKmlbYV0sbD0yKmlbYSsxXSxmPTIqaVthKzJdO2lmKG5bMF09clt1XSxuWzFdPXJbdSsxXSxuWzJdPXJbbF0sblszXT1yW2wrMV0sbls0XT1yW2ZdLG5bNV09cltmKzFdLGMuY29udGFpbnMoaC54LGgueSkpcmV0dXJuITB9cmV0dXJuITF9LGEoZSxbe2tleTpcInRleHR1cmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmUhPT10JiYodGhpcy5fdGV4dHVyZT10LHQmJih0LmJhc2VUZXh0dXJlLmhhc0xvYWRlZD90aGlzLl9vblRleHR1cmVVcGRhdGUoKTp0Lm9uY2UoXCJ1cGRhdGVcIix0aGlzLl9vblRleHR1cmVVcGRhdGUsdGhpcykpKX19LHtrZXk6XCJ0aW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwudXRpbHMucmdiMmhleCh0aGlzLnRpbnRSZ2IpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50aW50UmdiPWwudXRpbHMuaGV4MnJnYih0LHRoaXMudGludFJnYil9fV0pLGV9KGwuQ29udGFpbmVyKTtyLmRlZmF1bHQ9ZixmLkRSQVdfTU9ERVM9e1RSSUFOR0xFX01FU0g6MCxUUklBTkdMRVM6MX19LHtcIi4uL2NvcmVcIjo2M31dLDE2MjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksdT10KFwiLi9QbGFuZVwiKSxsPW4odSksaD0xMCxjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocixuLHMsYSx1KXtpKHRoaXMsZSk7dmFyIGw9byh0aGlzLHQuY2FsbCh0aGlzLHIsNCw0KSksYz1sLnV2cztyZXR1cm4gY1s2XT1jWzE0XT1jWzIyXT1jWzMwXT0xLGNbMjVdPWNbMjddPWNbMjldPWNbMzFdPTEsbC5fb3JpZ1dpZHRoPXIud2lkdGgsbC5fb3JpZ0hlaWdodD1yLmhlaWdodCxsLl91dnc9MS9sLl9vcmlnV2lkdGgsbC5fdXZoPTEvbC5fb3JpZ0hlaWdodCxsLndpZHRoPXIud2lkdGgsbC5oZWlnaHQ9ci5oZWlnaHQsY1syXT1jWzEwXT1jWzE4XT1jWzI2XT1sLl91dncqbixjWzRdPWNbMTJdPWNbMjBdPWNbMjhdPTEtbC5fdXZ3KmEsY1s5XT1jWzExXT1jWzEzXT1jWzE1XT1sLl91dmgqcyxjWzE3XT1jWzE5XT1jWzIxXT1jWzIzXT0xLWwuX3V2aCp1LGwubGVmdFdpZHRoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuP246aCxsLnJpZ2h0V2lkdGg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGE/YTpoLGwudG9wSGVpZ2h0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzP3M6aCxsLmJvdHRvbUhlaWdodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgdT91OmgsbH1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmVydGljZXM7dFs5XT10WzExXT10WzEzXT10WzE1XT10aGlzLl90b3BIZWlnaHQsdFsxN109dFsxOV09dFsyMV09dFsyM109dGhpcy5faGVpZ2h0LXRoaXMuX2JvdHRvbUhlaWdodCx0WzI1XT10WzI3XT10WzI5XT10WzMxXT10aGlzLl9oZWlnaHR9LGUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZlcnRpY2VzO3RbMl09dFsxMF09dFsxOF09dFsyNl09dGhpcy5fbGVmdFdpZHRoLHRbNF09dFsxMl09dFsyMF09dFsyOF09dGhpcy5fd2lkdGgtdGhpcy5fcmlnaHRXaWR0aCx0WzZdPXRbMTRdPXRbMjJdPXRbMzBdPXRoaXMuX3dpZHRofSxlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29udGV4dDtlLmdsb2JhbEFscGhhPXRoaXMud29ybGRBbHBoYTt2YXIgcj10aGlzLndvcmxkVHJhbnNmb3JtLG49dC5yZXNvbHV0aW9uO3Qucm91bmRQaXhlbHM/ZS5zZXRUcmFuc2Zvcm0oci5hKm4sci5iKm4sci5jKm4sci5kKm4sci50eCpufDAsci50eSpufDApOmUuc2V0VHJhbnNmb3JtKHIuYSpuLHIuYipuLHIuYypuLHIuZCpuLHIudHgqbixyLnR5Km4pO3ZhciBpPXRoaXMuX3RleHR1cmUuYmFzZVRleHR1cmUsbz1pLnNvdXJjZSxzPWkud2lkdGgsYT1pLmhlaWdodDt0aGlzLmRyYXdTZWdtZW50KGUsbyxzLGEsMCwxLDEwLDExKSx0aGlzLmRyYXdTZWdtZW50KGUsbyxzLGEsMiwzLDEyLDEzKSx0aGlzLmRyYXdTZWdtZW50KGUsbyxzLGEsNCw1LDE0LDE1KSx0aGlzLmRyYXdTZWdtZW50KGUsbyxzLGEsOCw5LDE4LDE5KSx0aGlzLmRyYXdTZWdtZW50KGUsbyxzLGEsMTAsMTEsMjAsMjEpLHRoaXMuZHJhd1NlZ21lbnQoZSxvLHMsYSwxMiwxMywyMiwyMyksdGhpcy5kcmF3U2VnbWVudChlLG8scyxhLDE2LDE3LDI2LDI3KSx0aGlzLmRyYXdTZWdtZW50KGUsbyxzLGEsMTgsMTksMjgsMjkpLHRoaXMuZHJhd1NlZ21lbnQoZSxvLHMsYSwyMCwyMSwzMCwzMSl9LGUucHJvdG90eXBlLmRyYXdTZWdtZW50PWZ1bmN0aW9uKHQsZSxyLG4saSxvLHMsYSl7dmFyIHU9dGhpcy51dnMsbD10aGlzLnZlcnRpY2VzLGg9KHVbc10tdVtpXSkqcixjPSh1W2FdLXVbb10pKm4sZj1sW3NdLWxbaV0sZD1sW2FdLWxbb107aDwxJiYoaD0xKSxjPDEmJihjPTEpLGY8MSYmKGY9MSksZDwxJiYoZD0xKSx0LmRyYXdJbWFnZShlLHVbaV0qcix1W29dKm4saCxjLGxbaV0sbFtvXSxmLGQpfSxhKGUsW3trZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3dpZHRoPXQsdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCl9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2hlaWdodD10LHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCl9fSx7a2V5OlwibGVmdFdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlZnRXaWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xlZnRXaWR0aD10O3ZhciBlPXRoaXMudXZzLHI9dGhpcy52ZXJ0aWNlcztlWzJdPWVbMTBdPWVbMThdPWVbMjZdPXRoaXMuX3V2dyp0LHJbMl09clsxMF09clsxOF09clsyNl09dCx0aGlzLmRpcnR5PSEwfX0se2tleTpcInJpZ2h0V2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnaHRXaWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JpZ2h0V2lkdGg9dDt2YXIgZT10aGlzLnV2cyxyPXRoaXMudmVydGljZXM7ZVs0XT1lWzEyXT1lWzIwXT1lWzI4XT0xLXRoaXMuX3V2dyp0LHJbNF09clsxMl09clsyMF09clsyOF09dGhpcy5fd2lkdGgtdCx0aGlzLmRpcnR5PSEwfX0se2tleTpcInRvcEhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3BIZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90b3BIZWlnaHQ9dDt2YXIgZT10aGlzLnV2cyxyPXRoaXMudmVydGljZXM7ZVs5XT1lWzExXT1lWzEzXT1lWzE1XT10aGlzLl91dmgqdCxyWzldPXJbMTFdPXJbMTNdPXJbMTVdPXQsdGhpcy5kaXJ0eT0hMH19LHtrZXk6XCJib3R0b21IZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYm90dG9tSGVpZ2h0PXQ7dmFyIGU9dGhpcy51dnMscj10aGlzLnZlcnRpY2VzO2VbMTddPWVbMTldPWVbMjFdPWVbMjNdPTEtdGhpcy5fdXZoKnQsclsxN109clsxOV09clsyMV09clsyM109dGhpcy5faGVpZ2h0LXQsdGhpcy5kaXJ0eT0hMH19XSksZX0obC5kZWZhdWx0KTtyLmRlZmF1bHQ9Y30se1wiLi9QbGFuZVwiOjE2M31dLDE2MzpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuL01lc2hcIiksdT1uKGEpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4scyl7aSh0aGlzLGUpO3ZhciBhPW8odGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIGEuX3JlYWR5PSEwLGEudmVydGljZXNYPW58fDEwLGEudmVydGljZXNZPXN8fDEwLGEuZHJhd01vZGU9dS5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVTLGEucmVmcmVzaCgpLGF9cmV0dXJuIHMoZSx0KSxlLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMudmVydGljZXNYKnRoaXMudmVydGljZXNZLGU9W10scj1bXSxuPVtdLGk9W10sbz10aGlzLnRleHR1cmUscz10aGlzLnZlcnRpY2VzWC0xLGE9dGhpcy52ZXJ0aWNlc1ktMSx1PW8ud2lkdGgvcyxsPW8uaGVpZ2h0L2EsaD0wO2g8dDtoKyspaWYoby5fdXZzKXt2YXIgYz1oJXRoaXMudmVydGljZXNYLGY9aC90aGlzLnZlcnRpY2VzWHwwO2UucHVzaChjKnUsZipsKSxuLnB1c2goby5fdXZzLngwKyhvLl91dnMueDEtby5fdXZzLngwKSooYy8odGhpcy52ZXJ0aWNlc1gtMSkpLG8uX3V2cy55MCsoby5fdXZzLnkzLW8uX3V2cy55MCkqKGYvKHRoaXMudmVydGljZXNZLTEpKSl9ZWxzZSBuLnB1c2goMCk7Zm9yKHZhciBkPXMqYSxwPTA7cDxkO3ArKyl7dmFyIHY9cCVzLHk9cC9zfDAsZz15KnRoaXMudmVydGljZXNYK3YsbT15KnRoaXMudmVydGljZXNYK3YrMSxfPSh5KzEpKnRoaXMudmVydGljZXNYK3YsYj0oeSsxKSp0aGlzLnZlcnRpY2VzWCt2KzE7aS5wdXNoKGcsbSxfKSxpLnB1c2gobSxiLF8pfXRoaXMudmVydGljZXM9bmV3IEZsb2F0MzJBcnJheShlKSx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KG4pLHRoaXMuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkociksdGhpcy5pbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKSx0aGlzLmluZGV4RGlydHk9ITB9LGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt1LmRlZmF1bHQucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUuY2FsbCh0aGlzKSx0aGlzLl9yZWFkeSYmdGhpcy5yZWZyZXNoKCl9LGV9KHUuZGVmYXVsdCk7ci5kZWZhdWx0PWx9LHtcIi4vTWVzaFwiOjE2MX1dLDE2NDpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciB1PXQoXCIuL01lc2hcIiksbD1pKHUpLGg9dChcIi4uL2NvcmVcIiksYz1uKGgpLGY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyLG4pe28odGhpcyxlKTt2YXIgaT1zKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBpLnBvaW50cz1uLGkudmVydGljZXM9bmV3IEZsb2F0MzJBcnJheSg0Km4ubGVuZ3RoKSxpLnV2cz1uZXcgRmxvYXQzMkFycmF5KDQqbi5sZW5ndGgpLGkuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoMipuLmxlbmd0aCksaS5pbmRpY2VzPW5ldyBVaW50MTZBcnJheSgyKm4ubGVuZ3RoKSxpLl9yZWFkeT0hMCxpLnJlZnJlc2goKSxpfXJldHVybiBhKGUsdCksZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnRzO2lmKCEodC5sZW5ndGg8MSkmJnRoaXMuX3RleHR1cmUuX3V2cyl7dGhpcy52ZXJ0aWNlcy5sZW5ndGgvNCE9PXQubGVuZ3RoJiYodGhpcy52ZXJ0aWNlcz1uZXcgRmxvYXQzMkFycmF5KDQqdC5sZW5ndGgpLHRoaXMudXZzPW5ldyBGbG9hdDMyQXJyYXkoNCp0Lmxlbmd0aCksdGhpcy5jb2xvcnM9bmV3IEZsb2F0MzJBcnJheSgyKnQubGVuZ3RoKSx0aGlzLmluZGljZXM9bmV3IFVpbnQxNkFycmF5KDIqdC5sZW5ndGgpKTt2YXIgZT10aGlzLnV2cyxyPXRoaXMuaW5kaWNlcyxuPXRoaXMuY29sb3JzLGk9dGhpcy5fdGV4dHVyZS5fdXZzLG89bmV3IGMuUG9pbnQoaS54MCxpLnkwKSxzPW5ldyBjLlBvaW50KGkueDItaS54MCxOdW1iZXIoaS55Mi1pLnkwKSk7ZVswXT0wK28ueCxlWzFdPTArby55LGVbMl09MCtvLngsZVszXT1zLnkrby55LG5bMF09MSxuWzFdPTEsclswXT0wLHJbMV09MTtmb3IodmFyIGE9dC5sZW5ndGgsdT0xO3U8YTt1Kyspe3ZhciBsPTQqdSxoPXUvKGEtMSk7ZVtsXT1oKnMueCtvLngsZVtsKzFdPTArby55LGVbbCsyXT1oKnMueCtvLngsZVtsKzNdPXMueStvLnksbD0yKnUsbltsXT0xLG5bbCsxXT0xLGw9Mip1LHJbbF09bCxyW2wrMV09bCsxfXRoaXMuZGlydHkrKyx0aGlzLmluZGV4RGlydHkrK319LGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlLmNhbGwodGhpcyksdGhpcy5fcmVhZHkmJnRoaXMucmVmcmVzaCgpfSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvaW50cztpZighKHQubGVuZ3RoPDEpKXtmb3IodmFyIGU9dFswXSxyPXZvaWQgMCxuPTAsaT0wLG89dGhpcy52ZXJ0aWNlcyxzPXQubGVuZ3RoLGE9MDthPHM7YSsrKXt2YXIgdT10W2FdLGw9NCphO3I9YTx0Lmxlbmd0aC0xP3RbYSsxXTp1LGk9LShyLngtZS54KSxuPXIueS1lLnk7dmFyIGg9MTAqKDEtYS8ocy0xKSk7aD4xJiYoaD0xKTt2YXIgYz1NYXRoLnNxcnQobipuK2kqaSksZj10aGlzLl90ZXh0dXJlLmhlaWdodC8yO24vPWMsaS89YyxuKj1mLGkqPWYsb1tsXT11LngrbixvW2wrMV09dS55K2ksb1tsKzJdPXUueC1uLG9bbCszXT11LnktaSxlPXV9dGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKX19LGV9KGwuZGVmYXVsdCk7ci5kZWZhdWx0PWZ9LHtcIi4uL2NvcmVcIjo2MyxcIi4vTWVzaFwiOjE2MX1dLDE2NTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXIuX19lc01vZHVsZT0hMDt2YXIgcz10KFwiLi4vLi4vY29yZVwiKSxhPWkocyksdT10KFwiLi4vTWVzaFwiKSxsPW4odSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7byh0aGlzLHQpLHRoaXMucmVuZGVyZXI9ZX1yZXR1cm4gdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXIscj1lLmNvbnRleHQsbj10LndvcmxkVHJhbnNmb3JtLGk9ZS5yZXNvbHV0aW9uO2Uucm91bmRQaXhlbHM/ci5zZXRUcmFuc2Zvcm0obi5hKmksbi5iKmksbi5jKmksbi5kKmksbi50eCppfDAsbi50eSppfDApOnIuc2V0VHJhbnNmb3JtKG4uYSppLG4uYippLG4uYyppLG4uZCppLG4udHgqaSxuLnR5KmkpLGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKSx0LmRyYXdNb2RlPT09bC5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSD90aGlzLl9yZW5kZXJUcmlhbmdsZU1lc2godCk6dGhpcy5fcmVuZGVyVHJpYW5nbGVzKHQpfSx0LnByb3RvdHlwZS5fcmVuZGVyVHJpYW5nbGVNZXNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnZlcnRpY2VzLmxlbmd0aC8yLHI9MDtyPGUtMjtyKyspe3ZhciBuPTIqcjt0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUodCxuLG4rMixuKzQpfX0sdC5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pbmRpY2VzLHI9ZS5sZW5ndGgsbj0wO248cjtuKz0zKXt2YXIgaT0yKmVbbl0sbz0yKmVbbisxXSxzPTIqZVtuKzJdO3RoaXMuX3JlbmRlckRyYXdUcmlhbmdsZSh0LGksbyxzKX19LHQucHJvdG90eXBlLl9yZW5kZXJEcmF3VHJpYW5nbGU9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5yZW5kZXJlci5jb250ZXh0LG89dC51dnMscz10LnZlcnRpY2VzLGE9dC5fdGV4dHVyZTtpZihhLnZhbGlkKXt2YXIgdT1hLmJhc2VUZXh0dXJlLGw9dS5zb3VyY2UsaD11LndpZHRoLGM9dS5oZWlnaHQsZj1vW2VdKnUud2lkdGgsZD1vW3JdKnUud2lkdGgscD1vW25dKnUud2lkdGgsdj1vW2UrMV0qdS5oZWlnaHQseT1vW3IrMV0qdS5oZWlnaHQsZz1vW24rMV0qdS5oZWlnaHQsbT1zW2VdLF89c1tyXSxiPXNbbl0seD1zW2UrMV0sVD1zW3IrMV0sdz1zW24rMV07aWYodC5jYW52YXNQYWRkaW5nPjApe3ZhciBFPXQuY2FudmFzUGFkZGluZy90LndvcmxkVHJhbnNmb3JtLmEsUz10LmNhbnZhc1BhZGRpbmcvdC53b3JsZFRyYW5zZm9ybS5kLE89KG0rXytiKS8zLFA9KHgrVCt3KS8zLE09bS1PLEM9eC1QLFI9TWF0aC5zcXJ0KE0qTStDKkMpO209TytNL1IqKFIrRSkseD1QK0MvUiooUitTKSxNPV8tTyxDPVQtUCxSPU1hdGguc3FydChNKk0rQypDKSxfPU8rTS9SKihSK0UpLFQ9UCtDL1IqKFIrUyksTT1iLU8sQz13LVAsUj1NYXRoLnNxcnQoTSpNK0MqQyksYj1PK00vUiooUitFKSx3PVArQy9SKihSK1MpfWkuc2F2ZSgpLGkuYmVnaW5QYXRoKCksaS5tb3ZlVG8obSx4KSxpLmxpbmVUbyhfLFQpLGkubGluZVRvKGIsdyksaS5jbG9zZVBhdGgoKSxpLmNsaXAoKTt2YXIgQT1mKnkrdipwK2QqZy15KnAtdipkLWYqZyxJPW0qeSt2KmIrXypnLXkqYi12Kl8tbSpnLEQ9ZipfK20qcCtkKmItXypwLW0qZC1mKmIsTD1mKnkqYit2Kl8qcCttKmQqZy1tKnkqcC12KmQqYi1mKl8qZyxOPXgqeSt2KncrVCpnLXkqdy12KlQteCpnLEY9ZipUK3gqcCtkKnctVCpwLXgqZC1mKncsaj1mKnkqdyt2KlQqcCt4KmQqZy14KnkqcC12KmQqdy1mKlQqZztpLnRyYW5zZm9ybShJL0EsTi9BLEQvQSxGL0EsTC9BLGovQSksaS5kcmF3SW1hZ2UobCwwLDAsaCp1LnJlc29sdXRpb24sYyp1LnJlc29sdXRpb24sMCwwLGgsYyksaS5yZXN0b3JlKCl9fSx0LnByb3RvdHlwZS5yZW5kZXJNZXNoRmxhdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVyLmNvbnRleHQscj10LnZlcnRpY2VzLG49ci5sZW5ndGgvMjtlLmJlZ2luUGF0aCgpO2Zvcih2YXIgaT0xO2k8bi0yOysraSl7dmFyIG89MippLHM9cltvXSxhPXJbbysxXSx1PXJbbysyXSxsPXJbbyszXSxoPXJbbys0XSxjPXJbbys1XTtlLm1vdmVUbyhzLGEpLGUubGluZVRvKHUsbCksZS5saW5lVG8oaCxjKX1lLmZpbGxTdHlsZT1cIiNGRjAwMDBcIixlLmZpbGwoKSxlLmNsb3NlUGF0aCgpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlcj1udWxsfSx0fSgpO3IuZGVmYXVsdD1oLGEuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXCJtZXNoXCIsaCl9LHtcIi4uLy4uL2NvcmVcIjo2MyxcIi4uL01lc2hcIjoxNjF9XSwxNjY6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcIi4vTWVzaFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIk1lc2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXCIuL3dlYmdsL01lc2hSZW5kZXJlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIk1lc2hSZW5kZXJlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKG8pLmRlZmF1bHR9fSk7dmFyIHM9dChcIi4vY2FudmFzL0NhbnZhc01lc2hSZW5kZXJlclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkNhbnZhc01lc2hSZW5kZXJlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHMpLmRlZmF1bHR9fSk7dmFyIGE9dChcIi4vUGxhbmVcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJQbGFuZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKGEpLmRlZmF1bHR9fSk7dmFyIHU9dChcIi4vTmluZVNsaWNlUGxhbmVcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJOaW5lU2xpY2VQbGFuZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKHUpLmRlZmF1bHR9fSk7dmFyIGw9dChcIi4vUm9wZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlJvcGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihsKS5kZWZhdWx0fX0pfSx7XCIuL01lc2hcIjoxNjEsXCIuL05pbmVTbGljZVBsYW5lXCI6MTYyLFwiLi9QbGFuZVwiOjE2MyxcIi4vUm9wZVwiOjE2NCxcIi4vY2FudmFzL0NhbnZhc01lc2hSZW5kZXJlclwiOjE2NSxcIi4vd2ViZ2wvTWVzaFJlbmRlcmVyXCI6MTY3fV0sMTY3OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIGEodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1yLl9fZXNNb2R1bGU9ITA7dmFyIHU9dChcIi4uLy4uL2NvcmVcIiksbD1pKHUpLGg9dChcInBpeGktZ2wtY29yZVwiKSxjPW4oaCksZj10KFwiLi4vTWVzaFwiKSxkPW4oZikscD0odChcInBhdGhcIiksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtvKHRoaXMsZSk7dmFyIG49cyh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gbi5zaGFkZXI9bnVsbCxufXJldHVybiBhKGUsdCksZS5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbDt0aGlzLnNoYWRlcj1uZXcgbC5TaGFkZXIodCxcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSB2ZWMzIHRpbnQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdmVjNCh0aW50ICogYWxwaGEsIGFscGhhKTtcXG59XFxuXCIpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW5kZXJlcixyPWUuZ2wsbj10Ll90ZXh0dXJlO2lmKG4udmFsaWQpe3ZhciBpPXQuX2dsRGF0YXNbZS5DT05URVhUX1VJRF07aXx8KGUuYmluZFZhbyhudWxsKSxpPXtzaGFkZXI6dGhpcy5zaGFkZXIsdmVydGV4QnVmZmVyOmMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIocix0LnZlcnRpY2VzLHIuU1RSRUFNX0RSQVcpLHV2QnVmZmVyOmMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIocix0LnV2cyxyLlNUUkVBTV9EUkFXKSxpbmRleEJ1ZmZlcjpjLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIocix0LmluZGljZXMsci5TVEFUSUNfRFJBVyksdmFvOm51bGwsZGlydHk6dC5kaXJ0eSxpbmRleERpcnR5OnQuaW5kZXhEaXJ0eX0saS52YW89bmV3IGMuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChyKS5hZGRJbmRleChpLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoaS52ZXJ0ZXhCdWZmZXIsaS5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sci5GTE9BVCwhMSw4LDApLmFkZEF0dHJpYnV0ZShpLnV2QnVmZmVyLGkuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCxyLkZMT0FULCExLDgsMCksdC5fZ2xEYXRhc1tlLkNPTlRFWFRfVUlEXT1pKSxlLmJpbmRWYW8oaS52YW8pLHQuZGlydHkhPT1pLmRpcnR5JiYoaS5kaXJ0eT10LmRpcnR5LGkudXZCdWZmZXIudXBsb2FkKHQudXZzKSksdC5pbmRleERpcnR5IT09aS5pbmRleERpcnR5JiYoaS5pbmRleERpcnR5PXQuaW5kZXhEaXJ0eSxpLmluZGV4QnVmZmVyLnVwbG9hZCh0LmluZGljZXMpKSxpLnZlcnRleEJ1ZmZlci51cGxvYWQodC52ZXJ0aWNlcyksZS5iaW5kU2hhZGVyKGkuc2hhZGVyKSxpLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlcj1lLmJpbmRUZXh0dXJlKG4pLGUuc3RhdGUuc2V0QmxlbmRNb2RlKHQuYmxlbmRNb2RlKSxpLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeD10LndvcmxkVHJhbnNmb3JtLnRvQXJyYXkoITApLGkuc2hhZGVyLnVuaWZvcm1zLmFscGhhPXQud29ybGRBbHBoYSxpLnNoYWRlci51bmlmb3Jtcy50aW50PXQudGludFJnYjt2YXIgbz10LmRyYXdNb2RlPT09ZC5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSD9yLlRSSUFOR0xFX1NUUklQOnIuVFJJQU5HTEVTO2kudmFvLmRyYXcobyx0LmluZGljZXMubGVuZ3RoLDApfX0sZX0obC5PYmplY3RSZW5kZXJlcikpO3IuZGVmYXVsdD1wLGwuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbihcIm1lc2hcIixwKX0se1wiLi4vLi4vY29yZVwiOjYzLFwiLi4vTWVzaFwiOjE2MSxwYXRoOjIyLFwicGl4aS1nbC1jb3JlXCI6MTJ9XSwxNjg6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZihudWxsIT10KWZvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKTtyZXR1cm4gZS5kZWZhdWx0PXQsZX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXIuX19lc01vZHVsZT0hMDt2YXIgYT10KFwiLi4vY29yZVwiKSx1PW4oYSksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjE1MDAsbj1hcmd1bWVudHNbMV0scz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTYzODQ7aSh0aGlzLGUpO3ZhciBhPW8odGhpcyx0LmNhbGwodGhpcykpLGw9MTYzODQ7cmV0dXJuIHM+bCYmKHM9bCkscz5yJiYocz1yKSxhLl9wcm9wZXJ0aWVzPVshMSwhMCwhMSwhMSwhMV0sYS5fbWF4U2l6ZT1yLGEuX2JhdGNoU2l6ZT1zLGEuX2dsQnVmZmVycz17fSxhLl9idWZmZXJUb1VwZGF0ZT0wLGEuaW50ZXJhY3RpdmVDaGlsZHJlbj0hMSxhLmJsZW5kTW9kZT11LkJMRU5EX01PREVTLk5PUk1BTCxhLnJvdW5kUGl4ZWxzPSEwLGEuYmFzZVRleHR1cmU9bnVsbCxhLnNldFByb3BlcnRpZXMobiksYX1yZXR1cm4gcyhlLHQpLGUucHJvdG90eXBlLnNldFByb3BlcnRpZXM9ZnVuY3Rpb24odCl7dCYmKHRoaXMuX3Byb3BlcnRpZXNbMF09XCJzY2FsZVwiaW4gdD8hIXQuc2NhbGU6dGhpcy5fcHJvcGVydGllc1swXSx0aGlzLl9wcm9wZXJ0aWVzWzFdPVwicG9zaXRpb25cImluIHQ/ISF0LnBvc2l0aW9uOnRoaXMuX3Byb3BlcnRpZXNbMV0sdGhpcy5fcHJvcGVydGllc1syXT1cInJvdGF0aW9uXCJpbiB0PyEhdC5yb3RhdGlvbjp0aGlzLl9wcm9wZXJ0aWVzWzJdLHRoaXMuX3Byb3BlcnRpZXNbM109XCJ1dnNcImluIHQ/ISF0LnV2czp0aGlzLl9wcm9wZXJ0aWVzWzNdLHRoaXMuX3Byb3BlcnRpZXNbNF09XCJhbHBoYVwiaW4gdD8hIXQuYWxwaGE6dGhpcy5fcHJvcGVydGllc1s0XSl9LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpfSxlLnByb3RvdHlwZS5yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMudmlzaWJsZSYmISh0aGlzLndvcmxkQWxwaGE8PTApJiZ0aGlzLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy5yZW5kZXJhYmxlJiYodGhpcy5iYXNlVGV4dHVyZXx8KHRoaXMuYmFzZVRleHR1cmU9dGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZSx0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZHx8dGhpcy5iYXNlVGV4dHVyZS5vbmNlKFwidXBkYXRlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkNoaWxkcmVuQ2hhbmdlKDApfSkpLHQuc2V0T2JqZWN0UmVuZGVyZXIodC5wbHVnaW5zLnBhcnRpY2xlKSx0LnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpKX0sZS5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHQvdGhpcy5fYmF0Y2hTaXplKTtlPHRoaXMuX2J1ZmZlclRvVXBkYXRlJiYodGhpcy5fYnVmZmVyVG9VcGRhdGU9ZSl9LGUucHJvdG90eXBlLnJlbmRlckNhbnZhcz1mdW5jdGlvbih0KXtpZih0aGlzLnZpc2libGUmJiEodGhpcy53b3JsZEFscGhhPD0wKSYmdGhpcy5jaGlsZHJlbi5sZW5ndGgmJnRoaXMucmVuZGVyYWJsZSl7dmFyIGU9dC5jb250ZXh0LHI9dGhpcy53b3JsZFRyYW5zZm9ybSxuPSEwLGk9MCxvPTAscz0wLGE9MCx1PXQuYmxlbmRNb2Rlc1t0aGlzLmJsZW5kTW9kZV07XG51IT09ZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24mJihlLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj11KSxlLmdsb2JhbEFscGhhPXRoaXMud29ybGRBbHBoYSx0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtmb3IodmFyIGw9MDtsPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrbCl7dmFyIGg9dGhpcy5jaGlsZHJlbltsXTtpZihoLnZpc2libGUpe3ZhciBjPWguX3RleHR1cmUuZnJhbWU7aWYoZS5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGEqaC5hbHBoYSxoLnJvdGF0aW9uJSgyKk1hdGguUEkpPT09MCluJiYoZS5zZXRUcmFuc2Zvcm0oci5hLHIuYixyLmMsci5kLHIudHgqdC5yZXNvbHV0aW9uLHIudHkqdC5yZXNvbHV0aW9uKSxuPSExKSxpPWguYW5jaG9yLngqKC1jLndpZHRoKmguc2NhbGUueCkraC5wb3NpdGlvbi54Ky41LG89aC5hbmNob3IueSooLWMuaGVpZ2h0Kmguc2NhbGUueSkraC5wb3NpdGlvbi55Ky41LHM9Yy53aWR0aCpoLnNjYWxlLngsYT1jLmhlaWdodCpoLnNjYWxlLnk7ZWxzZXtufHwobj0hMCksaC5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7dmFyIGY9aC53b3JsZFRyYW5zZm9ybTt0LnJvdW5kUGl4ZWxzP2Uuc2V0VHJhbnNmb3JtKGYuYSxmLmIsZi5jLGYuZCxmLnR4KnQucmVzb2x1dGlvbnwwLGYudHkqdC5yZXNvbHV0aW9ufDApOmUuc2V0VHJhbnNmb3JtKGYuYSxmLmIsZi5jLGYuZCxmLnR4KnQucmVzb2x1dGlvbixmLnR5KnQucmVzb2x1dGlvbiksaT1oLmFuY2hvci54Ki1jLndpZHRoKy41LG89aC5hbmNob3IueSotYy5oZWlnaHQrLjUscz1jLndpZHRoLGE9Yy5oZWlnaHR9dmFyIGQ9aC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO2UuZHJhd0ltYWdlKGguX3RleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLGMueCpkLGMueSpkLGMud2lkdGgqZCxjLmhlaWdodCpkLGkqZCxvKmQscypkLGEqZCl9fX19LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7aWYodC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsZSksdGhpcy5fYnVmZmVycylmb3IodmFyIHI9MDtyPHRoaXMuX2J1ZmZlcnMubGVuZ3RoOysrcil0aGlzLl9idWZmZXJzW3JdLmRlc3Ryb3koKTt0aGlzLl9wcm9wZXJ0aWVzPW51bGwsdGhpcy5fYnVmZmVycz1udWxsfSxlfSh1LkNvbnRhaW5lcik7ci5kZWZhdWx0PWx9LHtcIi4uL2NvcmVcIjo2M31dLDE2OTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXIuX19lc01vZHVsZT0hMDt2YXIgaT10KFwiLi9QYXJ0aWNsZUNvbnRhaW5lclwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIlBhcnRpY2xlQ29udGFpbmVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4oaSkuZGVmYXVsdH19KTt2YXIgbz10KFwiLi93ZWJnbC9QYXJ0aWNsZVJlbmRlcmVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiUGFydGljbGVSZW5kZXJlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuKG8pLmRlZmF1bHR9fSl9LHtcIi4vUGFydGljbGVDb250YWluZXJcIjoxNjgsXCIuL3dlYmdsL1BhcnRpY2xlUmVuZGVyZXJcIjoxNzF9XSwxNzA6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89dChcInBpeGktZ2wtY29yZVwiKSxzPW4obyksYT10KFwiLi4vLi4vY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHNcIiksdT1uKGEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscixuLG8pe2kodGhpcyx0KSx0aGlzLmdsPWUsdGhpcy52ZXJ0U2l6ZT0yLHRoaXMudmVydEJ5dGVTaXplPTQqdGhpcy52ZXJ0U2l6ZSx0aGlzLnNpemU9byx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuc3RhdGljUHJvcGVydGllcz1bXTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoOysrcyl7dmFyIGE9cltzXTthPXthdHRyaWJ1dGU6YS5hdHRyaWJ1dGUsc2l6ZTphLnNpemUsdXBsb2FkRnVuY3Rpb246YS51cGxvYWRGdW5jdGlvbixvZmZzZXQ6YS5vZmZzZXR9LG5bc10/dGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKGEpOnRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKGEpfXRoaXMuc3RhdGljU3RyaWRlPTAsdGhpcy5zdGF0aWNCdWZmZXI9bnVsbCx0aGlzLnN0YXRpY0RhdGE9bnVsbCx0aGlzLmR5bmFtaWNTdHJpZGU9MCx0aGlzLmR5bmFtaWNCdWZmZXI9bnVsbCx0aGlzLmR5bmFtaWNEYXRhPW51bGwsdGhpcy5pbml0QnVmZmVycygpfXJldHVybiB0LnByb3RvdHlwZS5pbml0QnVmZmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2wsZT0wO3RoaXMuaW5kaWNlcz0oMCx1LmRlZmF1bHQpKHRoaXMuc2l6ZSksdGhpcy5pbmRleEJ1ZmZlcj1zLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIodCx0aGlzLmluZGljZXMsdC5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljU3RyaWRlPTA7Zm9yKHZhciByPTA7cjx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsrK3Ipe3ZhciBuPXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbcl07bi5vZmZzZXQ9ZSxlKz1uLnNpemUsdGhpcy5keW5hbWljU3RyaWRlKz1uLnNpemV9dGhpcy5keW5hbWljRGF0YT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuc2l6ZSp0aGlzLmR5bmFtaWNTdHJpZGUqNCksdGhpcy5keW5hbWljQnVmZmVyPXMuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIodCx0aGlzLmR5bmFtaWNEYXRhLHQuU1RSRUFNX0RSQVcpO3ZhciBpPTA7dGhpcy5zdGF0aWNTdHJpZGU9MDtmb3IodmFyIG89MDtvPHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7KytvKXt2YXIgYT10aGlzLnN0YXRpY1Byb3BlcnRpZXNbb107YS5vZmZzZXQ9aSxpKz1hLnNpemUsdGhpcy5zdGF0aWNTdHJpZGUrPWEuc2l6ZX10aGlzLnN0YXRpY0RhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLnNpemUqdGhpcy5zdGF0aWNTdHJpZGUqNCksdGhpcy5zdGF0aWNCdWZmZXI9cy5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcih0LHRoaXMuc3RhdGljRGF0YSx0LlNUQVRJQ19EUkFXKSx0aGlzLnZhbz1uZXcgcy5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KHQpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO2Zvcih2YXIgbD0wO2w8dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7KytsKXt2YXIgaD10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2xdO3RoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsaC5hdHRyaWJ1dGUsdC5GTE9BVCwhMSw0KnRoaXMuZHluYW1pY1N0cmlkZSw0Kmgub2Zmc2V0KX1mb3IodmFyIGM9MDtjPHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7KytjKXt2YXIgZj10aGlzLnN0YXRpY1Byb3BlcnRpZXNbY107dGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuc3RhdGljQnVmZmVyLGYuYXR0cmlidXRlLHQuRkxPQVQsITEsNCp0aGlzLnN0YXRpY1N0cmlkZSw0KmYub2Zmc2V0KX19LHQucHJvdG90eXBlLnVwbG9hZER5bmFtaWM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wO248dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW25dO2kudXBsb2FkRnVuY3Rpb24odCxlLHIsdGhpcy5keW5hbWljRGF0YSx0aGlzLmR5bmFtaWNTdHJpZGUsaS5vZmZzZXQpfXRoaXMuZHluYW1pY0J1ZmZlci51cGxvYWQoKX0sdC5wcm90b3R5cGUudXBsb2FkU3RhdGljPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49MDtuPHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7bisrKXt2YXIgaT10aGlzLnN0YXRpY1Byb3BlcnRpZXNbbl07aS51cGxvYWRGdW5jdGlvbih0LGUscix0aGlzLnN0YXRpY0RhdGEsdGhpcy5zdGF0aWNTdHJpZGUsaS5vZmZzZXQpfXRoaXMuc3RhdGljQnVmZmVyLnVwbG9hZCgpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5keW5hbWljUHJvcGVydGllcz1udWxsLHRoaXMuZHluYW1pY0RhdGE9bnVsbCx0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpLHRoaXMuc3RhdGljUHJvcGVydGllcz1udWxsLHRoaXMuc3RhdGljRGF0YT1udWxsLHRoaXMuc3RhdGljQnVmZmVyLmRlc3Ryb3koKX0sdH0oKTtyLmRlZmF1bHQ9bH0se1wiLi4vLi4vY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHNcIjoxMTgsXCJwaXhpLWdsLWNvcmVcIjoxMn1dLDE3MTpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciB1PXQoXCIuLi8uLi9jb3JlXCIpLGw9aSh1KSxoPXQoXCIuL1BhcnRpY2xlU2hhZGVyXCIpLGM9bihoKSxmPXQoXCIuL1BhcnRpY2xlQnVmZmVyXCIpLGQ9bihmKSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7byh0aGlzLGUpO3ZhciBuPXModGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIG4uc2hhZGVyPW51bGwsbi5pbmRleEJ1ZmZlcj1udWxsLG4ucHJvcGVydGllcz1udWxsLG4udGVtcE1hdHJpeD1uZXcgbC5NYXRyaXgsbi5DT05URVhUX1VJRD0wLG59cmV0dXJuIGEoZSx0KSxlLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlbmRlcmVyLmdsO3RoaXMuQ09OVEVYVF9VSUQ9dGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCx0aGlzLnNoYWRlcj1uZXcgYy5kZWZhdWx0KHQpLHRoaXMucHJvcGVydGllcz1be2F0dHJpYnV0ZTp0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbixzaXplOjIsdXBsb2FkRnVuY3Rpb246dGhpcy51cGxvYWRWZXJ0aWNlcyxvZmZzZXQ6MH0se2F0dHJpYnV0ZTp0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFQb3NpdGlvbkNvb3JkLHNpemU6Mix1cGxvYWRGdW5jdGlvbjp0aGlzLnVwbG9hZFBvc2l0aW9uLG9mZnNldDowfSx7YXR0cmlidXRlOnRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVJvdGF0aW9uLHNpemU6MSx1cGxvYWRGdW5jdGlvbjp0aGlzLnVwbG9hZFJvdGF0aW9uLG9mZnNldDowfSx7YXR0cmlidXRlOnRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCxzaXplOjIsdXBsb2FkRnVuY3Rpb246dGhpcy51cGxvYWRVdnMsb2Zmc2V0OjB9LHthdHRyaWJ1dGU6dGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hQ29sb3Isc2l6ZToxLHVwbG9hZEZ1bmN0aW9uOnRoaXMudXBsb2FkQWxwaGEsb2Zmc2V0OjB9XX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmJpbmRTaGFkZXIodGhpcy5zaGFkZXIpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGlsZHJlbixyPXQuX21heFNpemUsbj10Ll9iYXRjaFNpemUsaT10aGlzLnJlbmRlcmVyLG89ZS5sZW5ndGg7aWYoMCE9PW8pe28+ciYmKG89cik7dmFyIHM9dC5fZ2xCdWZmZXJzW2kuQ09OVEVYVF9VSURdO3N8fChzPXQuX2dsQnVmZmVyc1tpLkNPTlRFWFRfVUlEXT10aGlzLmdlbmVyYXRlQnVmZmVycyh0KSksdGhpcy5yZW5kZXJlci5zZXRCbGVuZE1vZGUodC5ibGVuZE1vZGUpO3ZhciBhPWkuZ2wsdT10LndvcmxkVHJhbnNmb3JtLmNvcHkodGhpcy50ZW1wTWF0cml4KTt1LnByZXBlbmQoaS5fYWN0aXZlUmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgpLHRoaXMuc2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXg9dS50b0FycmF5KCEwKSx0aGlzLnNoYWRlci51bmlmb3Jtcy51QWxwaGE9dC53b3JsZEFscGhhO3ZhciBsPWVbMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7dGhpcy5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXI9aS5iaW5kVGV4dHVyZShsKTtmb3IodmFyIGg9MCxjPTA7aDxvO2grPW4sYys9MSl7dmFyIGY9by1oO2Y+biYmKGY9bik7dmFyIGQ9c1tjXTtkLnVwbG9hZER5bmFtaWMoZSxoLGYpLHQuX2J1ZmZlclRvVXBkYXRlPT09YyYmKGQudXBsb2FkU3RhdGljKGUsaCxmKSx0Ll9idWZmZXJUb1VwZGF0ZT1jKzEpLGkuYmluZFZhbyhkLnZhbyksZC52YW8uZHJhdyhhLlRSSUFOR0xFUyw2KmYpfX19LGUucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZW5kZXJlci5nbCxyPVtdLG49dC5fbWF4U2l6ZSxpPXQuX2JhdGNoU2l6ZSxvPXQuX3Byb3BlcnRpZXMscz0wO3M8bjtzKz1pKXIucHVzaChuZXcgZC5kZWZhdWx0KGUsdGhpcy5wcm9wZXJ0aWVzLG8saSkpO3JldHVybiByfSxlLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcz1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTAsYT0wLHU9MCxsPTAsaD0wO2g8cjsrK2gpe3ZhciBjPXRbZStoXSxmPWMuX3RleHR1cmUsZD1jLnNjYWxlLngscD1jLnNjYWxlLnksdj1mLnRyaW0seT1mLm9yaWc7dj8oYT12LngtYy5hbmNob3IueCp5LndpZHRoLHM9YSt2LndpZHRoLGw9di55LWMuYW5jaG9yLnkqeS5oZWlnaHQsdT1sK3YuaGVpZ2h0KToocz15LndpZHRoKigxLWMuYW5jaG9yLngpLGE9eS53aWR0aCotYy5hbmNob3IueCx1PXkuaGVpZ2h0KigxLWMuYW5jaG9yLnkpLGw9eS5oZWlnaHQqLWMuYW5jaG9yLnkpLG5bb109YSpkLG5bbysxXT1sKnAsbltvK2ldPXMqZCxuW28raSsxXT1sKnAsbltvKzIqaV09cypkLG5bbysyKmkrMV09dSpwLG5bbyszKmldPWEqZCxuW28rMyppKzFdPXUqcCxvKz00Kml9fSxlLnByb3RvdHlwZS51cGxvYWRQb3NpdGlvbj1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTA7czxyO3MrKyl7dmFyIGE9dFtlK3NdLnBvc2l0aW9uO25bb109YS54LG5bbysxXT1hLnksbltvK2ldPWEueCxuW28raSsxXT1hLnksbltvKzIqaV09YS54LG5bbysyKmkrMV09YS55LG5bbyszKmldPWEueCxuW28rMyppKzFdPWEueSxvKz00Kml9fSxlLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbj1mdW5jdGlvbih0LGUscixuLGksbyl7Zm9yKHZhciBzPTA7czxyO3MrKyl7dmFyIGE9dFtlK3NdLnJvdGF0aW9uO25bb109YSxuW28raV09YSxuW28rMippXT1hLG5bbyszKmldPWEsbys9NCppfX0sZS5wcm90b3R5cGUudXBsb2FkVXZzPWZ1bmN0aW9uKHQsZSxyLG4saSxvKXtmb3IodmFyIHM9MDtzPHI7KytzKXt2YXIgYT10W2Urc10uX3RleHR1cmUuX3V2czthPyhuW29dPWEueDAsbltvKzFdPWEueTAsbltvK2ldPWEueDEsbltvK2krMV09YS55MSxuW28rMippXT1hLngyLG5bbysyKmkrMV09YS55MixuW28rMyppXT1hLngzLG5bbyszKmkrMV09YS55MyxvKz00KmkpOihuW29dPTAsbltvKzFdPTAsbltvK2ldPTAsbltvK2krMV09MCxuW28rMippXT0wLG5bbysyKmkrMV09MCxuW28rMyppXT0wLG5bbyszKmkrMV09MCxvKz00KmkpfX0sZS5wcm90b3R5cGUudXBsb2FkQWxwaGE9ZnVuY3Rpb24odCxlLHIsbixpLG8pe2Zvcih2YXIgcz0wO3M8cjtzKyspe3ZhciBhPXRbZStzXS5hbHBoYTtuW29dPWEsbltvK2ldPWEsbltvKzIqaV09YSxuW28rMyppXT1hLG8rPTQqaX19LGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmdsJiZ0aGlzLnJlbmRlcmVyLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKSx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5zaGFkZXIuZGVzdHJveSgpLHRoaXMuaW5kaWNlcz1udWxsLHRoaXMudGVtcE1hdHJpeD1udWxsfSxlfShsLk9iamVjdFJlbmRlcmVyKTtyLmRlZmF1bHQ9cCxsLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oXCJwYXJ0aWNsZVwiLHApfSx7XCIuLi8uLi9jb3JlXCI6NjMsXCIuL1BhcnRpY2xlQnVmZmVyXCI6MTcwLFwiLi9QYXJ0aWNsZVNoYWRlclwiOjE3Mn1dLDE3MjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ci5fX2VzTW9kdWxlPSEwO3ZhciBhPXQoXCIuLi8uLi9jb3JlL1NoYWRlclwiKSx1PW4oYSksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe3JldHVybiBpKHRoaXMsZSksbyh0aGlzLHQuY2FsbCh0aGlzLHIsW1wiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcIixcImF0dHJpYnV0ZSBmbG9hdCBhQ29sb3I7XCIsXCJhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcIixcImF0dHJpYnV0ZSB2ZWMyIGFTY2FsZTtcIixcImF0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247XCIsXCJ1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCl7XCIsXCIgICB2ZWMyIHYgPSBhVmVydGV4UG9zaXRpb247XCIsXCIgICB2LnggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7XCIsXCIgICB2LnkgPSAoYVZlcnRleFBvc2l0aW9uLngpICogc2luKGFSb3RhdGlvbikgKyAoYVZlcnRleFBvc2l0aW9uLnkpICogY29zKGFSb3RhdGlvbik7XCIsXCIgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1wiLFwiICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XCIsXCIgICB2Q29sb3IgPSBhQ29sb3I7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIiksW1widmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidW5pZm9ybSBmbG9hdCB1QWxwaGE7XCIsXCJ2b2lkIG1haW4odm9pZCl7XCIsXCIgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yICogdUFscGhhO1wiLFwiICBpZiAoY29sb3IuYSA9PSAwLjApIGRpc2NhcmQ7XCIsXCIgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1wiLFwifVwiXS5qb2luKFwiXFxuXCIpKSl9cmV0dXJuIHMoZSx0KSxlfSh1LmRlZmF1bHQpO3IuZGVmYXVsdD1sfSx7XCIuLi8uLi9jb3JlL1NoYWRlclwiOjQyfV0sMTczOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7TWF0aC5zaWdufHwoTWF0aC5zaWduPWZ1bmN0aW9uKHQpe3JldHVybiB0PU51bWJlcih0KSwwPT09dHx8aXNOYU4odCk/dDp0PjA/MTotMX0pfSx7fV0sMTc0OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIGk9dChcIm9iamVjdC1hc3NpZ25cIiksbz1uKGkpO09iamVjdC5hc3NpZ258fChPYmplY3QuYXNzaWduPW8uZGVmYXVsdCl9LHtcIm9iamVjdC1hc3NpZ25cIjo1fV0sMTc1OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dChcIi4vT2JqZWN0LmFzc2lnblwiKSx0KFwiLi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiksdChcIi4vTWF0aC5zaWduXCIpLHdpbmRvdy5BcnJheUJ1ZmZlcnx8KHdpbmRvdy5BcnJheUJ1ZmZlcj1BcnJheSksd2luZG93LkZsb2F0MzJBcnJheXx8KHdpbmRvdy5GbG9hdDMyQXJyYXk9QXJyYXkpLHdpbmRvdy5VaW50MzJBcnJheXx8KHdpbmRvdy5VaW50MzJBcnJheT1BcnJheSksd2luZG93LlVpbnQxNkFycmF5fHwod2luZG93LlVpbnQxNkFycmF5PUFycmF5KX0se1wiLi9NYXRoLnNpZ25cIjoxNzMsXCIuL09iamVjdC5hc3NpZ25cIjoxNzQsXCIuL3JlcXVlc3RBbmltYXRpb25GcmFtZVwiOjE3Nn1dLDE3NjpbZnVuY3Rpb24odCxlLHIpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT0xNjtEYXRlLm5vdyYmRGF0ZS5wcm90b3R5cGUuZ2V0VGltZXx8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KSx0LnBlcmZvcm1hbmNlJiZ0LnBlcmZvcm1hbmNlLm5vd3x8IWZ1bmN0aW9uKCl7dmFyIGU9RGF0ZS5ub3coKTt0LnBlcmZvcm1hbmNlfHwodC5wZXJmb3JtYW5jZT17fSksdC5wZXJmb3JtYW5jZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1lfX0oKTtmb3IodmFyIHI9RGF0ZS5ub3coKSxuPVtcIm1zXCIsXCJtb3pcIixcIndlYmtpdFwiLFwib1wiXSxpPTA7aTxuLmxlbmd0aCYmIXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysraSl7dmFyIG89bltpXTt0LnJlcXVlc3RBbmltYXRpb25GcmFtZT10W28rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sdC5jYW5jZWxBbmltYXRpb25GcmFtZT10W28rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8dFtvK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdfXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwodC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXCJpcyBub3QgYSBmdW5jdGlvblwiKTt2YXIgbj1EYXRlLm5vdygpLGk9ZStyLW47cmV0dXJuIGk8MCYmKGk9MCkscj1uLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyPURhdGUubm93KCksdChwZXJmb3JtYW5jZS5ub3coKSl9LGkpfSksdC5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHQuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24odCl7cmV0dXJuIGNsZWFyVGltZW91dCh0KX0pfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTc3OltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBlIGluc3RhbmNlb2YgYy5UZXh0JiYoZS51cGRhdGVUZXh0KCEwKSwhMCl9ZnVuY3Rpb24gYSh0LGUpe2lmKGUgaW5zdGFuY2VvZiBjLlRleHRTdHlsZSl7dmFyIHI9Yy5UZXh0LmdldEZvbnRTdHlsZShlKTtyZXR1cm4gYy5UZXh0LmZvbnRQcm9wZXJ0aWVzQ2FjaGVbcl18fGMuVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyhyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiB1KHQsZSl7aWYodCBpbnN0YW5jZW9mIGMuVGV4dCl7ZS5pbmRleE9mKHQuc3R5bGUpPT09LTEmJmUucHVzaCh0LnN0eWxlKSxlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpO3ZhciByPXQuX3RleHR1cmUuYmFzZVRleHR1cmU7cmV0dXJuIGUuaW5kZXhPZihyKT09PS0xJiZlLnB1c2gociksITB9cmV0dXJuITF9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgYy5UZXh0U3R5bGUmJihlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpLCEwKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGg9dChcIi4uL2NvcmVcIiksYz1pKGgpLGY9dChcIi4vbGltaXRlcnMvQ291bnRMaW1pdGVyXCIpLGQ9bihmKSxwPWMudGlja2VyLnNoYXJlZDtjLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FPTQ7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7byh0aGlzLHQpLHRoaXMubGltaXRlcj1uZXcgZC5kZWZhdWx0KGMuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpLHRoaXMucmVuZGVyZXI9ZSx0aGlzLnVwbG9hZEhvb2tIZWxwZXI9bnVsbCx0aGlzLnF1ZXVlPVtdLHRoaXMuYWRkSG9va3M9W10sdGhpcy51cGxvYWRIb29rcz1bXSx0aGlzLmNvbXBsZXRlcz1bXSx0aGlzLnRpY2tpbmc9ITEsdGhpcy5kZWxheWVkVGljaz1mdW5jdGlvbigpe3IucXVldWUmJnIucHJlcGFyZUl0ZW1zKCl9LHRoaXMucmVnaXN0ZXIodSxzKSx0aGlzLnJlZ2lzdGVyKGwsYSl9cmV0dXJuIHQucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihlPXQsdD1udWxsKSx0JiZ0aGlzLmFkZCh0KSx0aGlzLnF1ZXVlLmxlbmd0aD8oZSYmdGhpcy5jb21wbGV0ZXMucHVzaChlKSx0aGlzLnRpY2tpbmd8fCh0aGlzLnRpY2tpbmc9ITAscC5hZGRPbmNlKHRoaXMudGljayx0aGlzKSkpOmUmJmUoKX0sdC5wcm90b3R5cGUudGljaz1mdW5jdGlvbigpe3NldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywwKX0sdC5wcm90b3R5cGUucHJlcGFyZUl0ZW1zPWZ1bmN0aW9uKCl7Zm9yKHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7dGhpcy5xdWV1ZS5sZW5ndGgmJnRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKTspe3ZhciB0PXRoaXMucXVldWVbMF0sZT0hMTtpZih0JiYhdC5fZGVzdHJveWVkKWZvcih2YXIgcj0wLG49dGhpcy51cGxvYWRIb29rcy5sZW5ndGg7cjxuO3IrKylpZih0aGlzLnVwbG9hZEhvb2tzW3JdKHRoaXMudXBsb2FkSG9va0hlbHBlcix0KSl7dGhpcy5xdWV1ZS5zaGlmdCgpLGU9ITA7YnJlYWt9ZXx8dGhpcy5xdWV1ZS5zaGlmdCgpfWlmKHRoaXMucXVldWUubGVuZ3RoKXAuYWRkT25jZSh0aGlzLnRpY2ssdGhpcyk7ZWxzZXt0aGlzLnRpY2tpbmc9ITE7dmFyIGk9dGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7dGhpcy5jb21wbGV0ZXMubGVuZ3RoPTA7Zm9yKHZhciBvPTAscz1pLmxlbmd0aDtvPHM7bysrKWlbb10oKX19LHQucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnRoaXMuYWRkSG9va3MucHVzaCh0KSxlJiZ0aGlzLnVwbG9hZEhvb2tzLnB1c2goZSksdGhpc30sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5hZGRIb29rcy5sZW5ndGg7ZTxyJiYhdGhpcy5hZGRIb29rc1tlXSh0LHRoaXMucXVldWUpO2UrKyk7aWYodCBpbnN0YW5jZW9mIGMuQ29udGFpbmVyKWZvcih2YXIgbj10LmNoaWxkcmVuLmxlbmd0aC0xO24+PTA7bi0tKXRoaXMuYWRkKHQuY2hpbGRyZW5bbl0pO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy50aWNraW5nJiZwLnJlbW92ZSh0aGlzLnRpY2ssdGhpcyksdGhpcy50aWNraW5nPSExLHRoaXMuYWRkSG9va3M9bnVsbCx0aGlzLnVwbG9hZEhvb2tzPW51bGwsdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMuY29tcGxldGVzPW51bGwsdGhpcy5xdWV1ZT1udWxsLHRoaXMubGltaXRlcj1udWxsLHRoaXMudXBsb2FkSG9va0hlbHBlcj1udWxsfSx0fSgpO3IuZGVmYXVsdD12fSx7XCIuLi9jb3JlXCI6NjMsXCIuL2xpbWl0ZXJzL0NvdW50TGltaXRlclwiOjE4MH1dLDE3ODpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gdSh0LGUpe2lmKGUgaW5zdGFuY2VvZiBjLkJhc2VUZXh0dXJlKXt2YXIgcj1lLnNvdXJjZSxuPTA9PT1yLndpZHRoP3QuY2FudmFzLndpZHRoOk1hdGgubWluKHQuY2FudmFzLndpZHRoLHIud2lkdGgpLGk9MD09PXIuaGVpZ2h0P3QuY2FudmFzLmhlaWdodDpNYXRoLm1pbih0LmNhbnZhcy5oZWlnaHQsci5oZWlnaHQpO3JldHVybiB0LmN0eC5kcmF3SW1hZ2UociwwLDAsbixpLDAsMCx0LmNhbnZhcy53aWR0aCx0LmNhbnZhcy5oZWlnaHQpLCEwfXJldHVybiExfWZ1bmN0aW9uIGwodCxlKXtpZih0IGluc3RhbmNlb2YgYy5CYXNlVGV4dHVyZSlyZXR1cm4gZS5pbmRleE9mKHQpPT09LTEmJmUucHVzaCh0KSwhMDtpZih0Ll90ZXh0dXJlJiZ0Ll90ZXh0dXJlIGluc3RhbmNlb2YgYy5UZXh0dXJlKXt2YXIgcj10Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO3JldHVybiBlLmluZGV4T2Yocik9PT0tMSYmZS5wdXNoKHIpLCEwfXJldHVybiExfXIuX19lc01vZHVsZT0hMDt2YXIgaD10KFwiLi4vLi4vY29yZVwiKSxjPWkoaCksZj10KFwiLi4vQmFzZVByZXBhcmVcIiksZD1uKGYpLHA9MTYsdj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe28odGhpcyxlKTt2YXIgbj1zKHRoaXMsdC5jYWxsKHRoaXMscikpO3JldHVybiBuLnVwbG9hZEhvb2tIZWxwZXI9bixuLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG4uY2FudmFzLndpZHRoPXAsbi5jYW52YXMuaGVpZ2h0PXAsbi5jdHg9bi5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLG4ucmVnaXN0ZXIobCx1KSxufXJldHVybiBhKGUsdCksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKSx0aGlzLmN0eD1udWxsLHRoaXMuY2FudmFzPW51bGx9LGV9KGQuZGVmYXVsdCk7ci5kZWZhdWx0PXYsYy5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbihcInByZXBhcmVcIix2KX0se1wiLi4vLi4vY29yZVwiOjYzLFwiLi4vQmFzZVByZXBhcmVcIjoxNzd9XSwxNzk6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9dChcIi4vd2ViZ2wvV2ViR0xQcmVwYXJlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwid2ViZ2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihpKS5kZWZhdWx0fX0pO3ZhciBvPXQoXCIuL2NhbnZhcy9DYW52YXNQcmVwYXJlXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiY2FudmFzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4obykuZGVmYXVsdH19KTt2YXIgcz10KFwiLi9CYXNlUHJlcGFyZVwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIkJhc2VQcmVwYXJlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ocykuZGVmYXVsdH19KTt2YXIgYT10KFwiLi9saW1pdGVycy9Db3VudExpbWl0ZXJcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJDb3VudExpbWl0ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbihhKS5kZWZhdWx0fX0pO3ZhciB1PXQoXCIuL2xpbWl0ZXJzL1RpbWVMaW1pdGVyXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiVGltZUxpbWl0ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbih1KS5kZWZhdWx0fX0pfSx7XCIuL0Jhc2VQcmVwYXJlXCI6MTc3LFwiLi9jYW52YXMvQ2FudmFzUHJlcGFyZVwiOjE3OCxcIi4vbGltaXRlcnMvQ291bnRMaW1pdGVyXCI6MTgwLFwiLi9saW1pdGVycy9UaW1lTGltaXRlclwiOjE4MSxcIi4vd2ViZ2wvV2ViR0xQcmVwYXJlXCI6MTgyfV0sMTgwOltmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtuKHRoaXMsdCksdGhpcy5tYXhJdGVtc1BlckZyYW1lPWUsdGhpcy5pdGVtc0xlZnQ9MH1yZXR1cm4gdC5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuaXRlbXNMZWZ0PXRoaXMubWF4SXRlbXNQZXJGcmFtZX0sdC5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPjB9LHR9KCk7ci5kZWZhdWx0PWl9LHt9XSwxODE6W2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLm1heE1pbGxpc2Vjb25kcz1lLHRoaXMuZnJhbWVTdGFydD0wfXJldHVybiB0LnByb3RvdHlwZS5iZWdpbkZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5mcmFtZVN0YXJ0PURhdGUubm93KCl9LHQucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZD1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLXRoaXMuZnJhbWVTdGFydDx0aGlzLm1heE1pbGxpc2Vjb25kc30sdH0oKTtyLmRlZmF1bHQ9aX0se31dLDE4MjpbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIGkodCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKG51bGwhPXQpZm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlLmRlZmF1bHQ9dCxlfWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBhKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBlIGluc3RhbmNlb2YgZC5CYXNlVGV4dHVyZSYmKGUuX2dsVGV4dHVyZXNbdC5DT05URVhUX1VJRF18fHQudGV4dHVyZU1hbmFnZXIudXBkYXRlVGV4dHVyZShlKSwhMCl9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiBlIGluc3RhbmNlb2YgZC5HcmFwaGljcyYmKChlLmRpcnR5fHxlLmNsZWFyRGlydHl8fCFlLl93ZWJHTFt0LnBsdWdpbnMuZ3JhcGhpY3MuQ09OVEVYVF9VSURdKSYmdC5wbHVnaW5zLmdyYXBoaWNzLnVwZGF0ZUdyYXBoaWNzKGUpLCEwKX1mdW5jdGlvbiBoKHQsZSl7aWYodCBpbnN0YW5jZW9mIGQuQmFzZVRleHR1cmUpcmV0dXJuIGUuaW5kZXhPZih0KT09PS0xJiZlLnB1c2godCksITA7aWYodC5fdGV4dHVyZSYmdC5fdGV4dHVyZSBpbnN0YW5jZW9mIGQuVGV4dHVyZSl7dmFyIHI9dC5fdGV4dHVyZS5iYXNlVGV4dHVyZTtyZXR1cm4gZS5pbmRleE9mKHIpPT09LTEmJmUucHVzaChyKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBjKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBkLkdyYXBoaWNzJiYoZS5wdXNoKHQpLCEwKX1yLl9fZXNNb2R1bGU9ITA7dmFyIGY9dChcIi4uLy4uL2NvcmVcIiksZD1pKGYpLHA9dChcIi4uL0Jhc2VQcmVwYXJlXCIpLHY9bihwKSx5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7byh0aGlzLGUpO3ZhciBuPXModGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIG4udXBsb2FkSG9va0hlbHBlcj1uLnJlbmRlcmVyLG4ucmVnaXN0ZXIoaCx1KS5yZWdpc3RlcihjLGwpLG59cmV0dXJuIGEoZSx0KSxlfSh2LmRlZmF1bHQpO3IuZGVmYXVsdD15LGQuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbihcInByZXBhcmVcIix5KX0se1wiLi4vLi4vY29yZVwiOjYzLFwiLi4vQmFzZVByZXBhcmVcIjoxNzd9XSwxODM6W2Z1bmN0aW9uKHQsZSxyKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSk7cmV0dXJuIGUuZGVmYXVsdD10LGV9ci5fX2VzTW9kdWxlPSEwLHIubG9hZGVyPXIucHJlcGFyZT1yLnBhcnRpY2xlcz1yLm1lc2g9ci5sb2FkZXJzPXIuaW50ZXJhY3Rpb249ci5maWx0ZXJzPXIuZXh0cmFzPXIuZXh0cmFjdD1yLmFjY2Vzc2liaWxpdHk9dm9pZCAwO3ZhciBpPXQoXCIuL3BvbHlmaWxsXCIpO09iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGlbdF19fSl9KTt2YXIgbz10KFwiLi9kZXByZWNhdGlvblwiKTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiZPYmplY3QuZGVmaW5lUHJvcGVydHkocix0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvW3RdfX0pfSk7dmFyIHM9dChcIi4vY29yZVwiKTtPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiZPYmplY3QuZGVmaW5lUHJvcGVydHkocix0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzW3RdfX0pfSk7dmFyIGE9dChcIi4vYWNjZXNzaWJpbGl0eVwiKSx1PW4oYSksbD10KFwiLi9leHRyYWN0XCIpLGg9bihsKSxjPXQoXCIuL2V4dHJhc1wiKSxmPW4oYyksZD10KFwiLi9maWx0ZXJzXCIpLHA9bihkKSx2PXQoXCIuL2ludGVyYWN0aW9uXCIpLHk9bih2KSxnPXQoXCIuL2xvYWRlcnNcIiksbT1uKGcpLF89dChcIi4vbWVzaFwiKSxiPW4oXykseD10KFwiLi9wYXJ0aWNsZXNcIiksVD1uKHgpLHc9dChcIi4vcHJlcGFyZVwiKSxFPW4odyk7cy51dGlscy5taXhpbnMucGVyZm9ybU1peGlucygpLHIuYWNjZXNzaWJpbGl0eT11LHIuZXh0cmFjdD1oLHIuZXh0cmFzPWYsci5maWx0ZXJzPXAsci5pbnRlcmFjdGlvbj15LHIubG9hZGVycz1tLHIubWVzaD1iLHIucGFydGljbGVzPVQsci5wcmVwYXJlPUU7dmFyIFM9bSYmbS5Mb2FkZXI/bmV3IG0uTG9hZGVyOm51bGw7ci5sb2FkZXI9UyxlLlBJWEk9cn0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9hY2Nlc3NpYmlsaXR5XCI6NDAsXCIuL2NvcmVcIjo2MyxcIi4vZGVwcmVjYXRpb25cIjoxMjUsXCIuL2V4dHJhY3RcIjoxMjcsXCIuL2V4dHJhc1wiOjEzNixcIi4vZmlsdGVyc1wiOjE0NyxcIi4vaW50ZXJhY3Rpb25cIjoxNTQsXCIuL2xvYWRlcnNcIjoxNTcsXCIuL21lc2hcIjoxNjYsXCIuL3BhcnRpY2xlc1wiOjE2OSxcIi4vcG9seWZpbGxcIjoxNzUsXCIuL3ByZXBhcmVcIjoxNzl9XX0se30sWzE4M10pKDE4Myl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGkubWluLmpzLm1hcFxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImUvVSs5N1wiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2RlcGVuZGVuY2llc1xcXFxwaXhpLm1pbi5qc1wiLFwiL2RlcGVuZGVuY2llc1wiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbnZhciBQSVhJID0gcmVxdWlyZShcIi4vZGVwZW5kZW5jaWVzL3BpeGkubWluXCIpO1xyXG52YXIgVHdlZW5NYXggPSByZXF1aXJlKFwiLi9kZXBlbmRlbmNpZXMvVHdlZW5NYXgubWluXCIpO1xyXG5cclxudmFyIFV0aWxzID0gcmVxdWlyZShcIi4vYmFzZS9VdGlsc1wiKTtcclxudmFyIFNwcml0ZSA9IHJlcXVpcmUoXCIuL2Jhc2UvU3ByaXRlXCIpO1xyXG52YXIgQm9hcmQgPSByZXF1aXJlKFwiLi9nYW1lL0JvYXJkXCIpO1xyXG52YXIgR1VJID0gcmVxdWlyZShcIi4vZ2FtZS9HVUlcIik7XHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBFbnRyeSBwb2ludCBmb3IgdGhlIGdhbWVcclxuICovXHJcbnZhciBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKSwgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcihVdGlscy5kaXNwbGF5V2lkdGgsIFV0aWxzLmRpc3BsYXlIZWlnaHQpO1xyXG52YXIgYm9hcmQgPSBuZXcgQm9hcmQoY29udGFpbmVyKTtcclxudmFyIGdhbWVVSSA9IG5ldyBHVUkoY29udGFpbmVyKTtcclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XHJcblxyXG5QSVhJLmxvYWRlclxyXG4gIC5hZGQoXCJiYWNrZ3JvdW5kXCIsIFwiLi9hc3NldHMvaW1hZ2VzL2JhY2tncm91bmQucG5nXCIpXHJcbiAgLmFkZChcInNoZWxsXCIsIFwiLi9hc3NldHMvaW1hZ2VzL3NoZWxsLnBuZ1wiKVxyXG4gIC5hZGQoXCJjb2luXCIsIFwiLi9hc3NldHMvaW1hZ2VzL2NvaW4ucG5nXCIpXHJcbiAgLmxvYWQoc2V0dXApO1xyXG5cclxuZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICBib2FyZC5zZXR1cCgpO1xyXG4gICAgZ2FtZVVJLnNldHVwKCk7XHJcbiAgICBib2FyZC5vblBsYXllckxvc3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk9uUGxheWVyTG9zdCFcIik7XHJcbiAgICAgICAgZ2FtZVVJLnNob3dQbGF5ZXJMb3N0KCk7XHJcbiAgICAgICAgc2V0VGltZW91dChyZXNldEdhbWUsIDUwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGJvYXJkLm9uUGxheWVyV29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJPblBsYXllcldvbiFcIik7XHJcbiAgICAgICAgZ2FtZVVJLnNob3dQbGF5ZXJXb24oKTtcclxuICAgICAgICBzZXRUaW1lb3V0KHJlc2V0R2FtZSwgNTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhcnQgdGhlIGdhbWUgbG9vcFxyXG4gICAgZ2FtZUxvb3AoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2FtZUxvb3AoKSB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gICAgXHJcbiAgICAvLyBSZW5kZXIgdGhlIHN0YWdlICAgXHJcbiAgICByZW5kZXJlci5yZW5kZXIoY29udGFpbmVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRHYW1lKCkge1xyXG4gICAgYm9hcmQuaGlkZUNvaW4oKTtcclxufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJlL1UrOTdcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9mYWtlXzEzZjljMDhiLmpzXCIsXCIvXCIpIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCxCdWZmZXIsX19hcmd1bWVudDAsX19hcmd1bWVudDEsX19hcmd1bWVudDIsX19hcmd1bWVudDMsX19maWxlbmFtZSxfX2Rpcm5hbWUpe1xudmFyIFBJWEkgPSByZXF1aXJlKFwiLi4vZGVwZW5kZW5jaWVzL3BpeGkubWluXCIpO1xyXG52YXIgVHdlZW5NYXggPSByZXF1aXJlKCcuLi9kZXBlbmRlbmNpZXMvVHdlZW5NYXgubWluJyk7XHJcblxyXG52YXIgVXRpbHMgPSByZXF1aXJlKFwiLi4vYmFzZS9VdGlsc1wiKTtcclxudmFyIFNwcml0ZSA9IHJlcXVpcmUoXCIuLi9iYXNlL1Nwcml0ZVwiKTtcclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogQm9hcmQgY2xhc3MsIGhhbmRsZXMgbW9zdCBvZiB0aGUgZ2FtZSBsb2dpY1xyXG4gKi9cclxudmFyIEJvYXJkID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc2h1ZmZsZUFtb3VudCA9IDU7XHJcbiAgICB2YXIgc2h1ZmZsZUNvdW50ID0gMDtcclxuXHJcbiAgICB0aGlzLnNldHVwID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gc2V0IHVwIHRoZSBib2FyZCBiYWNrZ3JvdW5kXHJcbiAgICAgICAgc2VsZi5iYWNrZ3JvdW5kID0gbmV3IFNwcml0ZShQSVhJLmxvYWRlci5yZXNvdXJjZXNbXCJiYWNrZ3JvdW5kXCJdLnRleHR1cmUsXHJcbiAgICAgICAgVXRpbHMuZGlzcGxheVdpZHRoICogMC41LCBVdGlscy5kaXNwbGF5SGVpZ2h0ICogMC41KTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHVwIHNoZWxsc1xyXG4gICAgICAgIHNlbGYuc2hlbGxzID0gW1xyXG4gICAgICAgICAgICBuZXcgU3ByaXRlKFBJWEkubG9hZGVyLnJlc291cmNlc1tcInNoZWxsXCJdLnRleHR1cmUsXHJcbiAgICAgICAgICAgIFV0aWxzLmRpc3BsYXlXaWR0aCAqIDAuMiwgVXRpbHMuZGlzcGxheUhlaWdodCAqIDAuMjUpLFxyXG4gICAgICAgICAgICBuZXcgU3ByaXRlKFBJWEkubG9hZGVyLnJlc291cmNlc1tcInNoZWxsXCJdLnRleHR1cmUsXHJcbiAgICAgICAgICAgIFV0aWxzLmRpc3BsYXlXaWR0aCAqIDAuNSwgVXRpbHMuZGlzcGxheUhlaWdodCAqIDAuMjUpLFxyXG4gICAgICAgICAgICBuZXcgU3ByaXRlKFBJWEkubG9hZGVyLnJlc291cmNlc1tcInNoZWxsXCJdLnRleHR1cmUsXHJcbiAgICAgICAgICAgIFV0aWxzLmRpc3BsYXlXaWR0aCAqIDAuOCwgVXRpbHMuZGlzcGxheUhlaWdodCAqIDAuMjUpXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHVwIHRoZSBjb2luXHJcbiAgICAgICAgc2VsZi5jb2luID0gbmV3IFNwcml0ZShQSVhJLmxvYWRlci5yZXNvdXJjZXNbXCJjb2luXCJdLnRleHR1cmUsXHJcbiAgICAgICAgVXRpbHMuZGlzcGxheVdpZHRoICogMC41LCBVdGlscy5kaXNwbGF5SGVpZ2h0ICogMC42NSk7XHJcblxyXG4gICAgICAgIC8vIGFkZCBldmVyeXRoaW5nIHRvIHRoZSBzdGFnZVxyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChzZWxmLmJhY2tncm91bmQpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChzZWxmLmNvaW4pO1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChzZWxmLnNoZWxsc1swXSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHNlbGYuc2hlbGxzWzFdKTtcclxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQoc2VsZi5zaGVsbHNbMl0pO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KHNlbGYuaGlkZUNvaW4sIDMwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBsb3dlciBhbGwgdGhlIHNoZWxscyB0byBoaWRlIHRoZSBjb2luXHJcbiAgICB0aGlzLmhpZGVDb2luID0gIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFR3ZWVuTWF4LnRvKHNlbGYuc2hlbGxzWzBdLCAyLCB7eTpVdGlscy5kaXNwbGF5SGVpZ2h0ICogMC42NX0pO1xyXG4gICAgICAgIFR3ZWVuTWF4LnRvKHNlbGYuc2hlbGxzWzFdLCAyLCB7eTpVdGlscy5kaXNwbGF5SGVpZ2h0ICogMC42NX0pO1xyXG4gICAgICAgIFR3ZWVuTWF4LnRvKHNlbGYuc2hlbGxzWzJdLCAyLCB7eTpVdGlscy5kaXNwbGF5SGVpZ2h0ICogMC42NSwgXHJcbiAgICAgICAgICAgIG9uQ29tcGxldGU6c2VsZi5zaHVmZmxlU2hlbGxzfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIG1ha2UgY29pbiB2aXNpYmxlLCBwb3NpdGlvbiBpdCBhbmQgcmFpc2UgdGhlIHNoZWxscyB0byBzaG93IHRoZSByZXN1bHRcclxuICAgIHRoaXMuc2hvd0NvaW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyByZXNldCB0aGUgY291bnRlclxyXG4gICAgICAgIHNodWZmbGVDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIC8vIHR3ZWVuIGFsbCB0aGUgc2hlbGxzIHVwd2FyZHNcclxuICAgICAgICBzZWxmLmNvaW4ueCA9IHNlbGYuc2hlbGxzWzFdLng7XHJcbiAgICAgICAgc2VsZi5jb2luLnkgPSBzZWxmLnNoZWxsc1sxXS55O1xyXG4gICAgICAgIHNlbGYuY29pbi52aXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgVHdlZW5NYXgudG8oc2VsZi5zaGVsbHNbMF0sIDIsIHt5OlV0aWxzLmRpc3BsYXlIZWlnaHQgKiAwLjI1fSk7XHJcbiAgICAgICAgVHdlZW5NYXgudG8oc2VsZi5zaGVsbHNbMV0sIDIsIHt5OlV0aWxzLmRpc3BsYXlIZWlnaHQgKiAwLjI1fSk7XHJcbiAgICAgICAgVHdlZW5NYXgudG8oc2VsZi5zaGVsbHNbMl0sIDIsIHt5OlV0aWxzLmRpc3BsYXlIZWlnaHQgKiAwLjI1fSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHNodWZmbGUgdGhlIHNoZWxscyBhcnJheSBhbmQgYW5pbWF0ZSB0aGVtXHJcbiAgICB0aGlzLnNodWZmbGVTaGVsbHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzaHVmZmxlQ291bnQrKztcclxuICAgICAgICBzZWxmLmNvaW4udmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgc2hlbGxzQ29weSA9IHNlbGYuc2hlbGxzLnNsaWNlKCk7XHJcbiAgICAgICAgVXRpbHMuc2h1ZmZsZUFycmF5KHNoZWxsc0NvcHkpO1xyXG5cclxuICAgICAgICBUd2Vlbk1heC50byhzZWxmLnNoZWxsc1swXSwgMSwge3g6c2hlbGxzQ29weVswXS54fSk7XHJcbiAgICAgICAgVHdlZW5NYXgudG8oc2VsZi5zaGVsbHNbMV0sIDEsIHt4OnNoZWxsc0NvcHlbMV0ueH0pO1xyXG4gICAgICAgIFR3ZWVuTWF4LnRvKHNlbGYuc2hlbGxzWzJdLCAxLCB7eDpzaGVsbHNDb3B5WzJdLngsIFxyXG4gICAgICAgICAgICBvbkNvbXBsZXRlOnNlbGYuY2hlY2tTaHVmZmxlQW1vdW50fSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNoZWNrIGlmIHdlJ3JlIGRvbmUgc2h1ZmZsaW5nXHJcbiAgICB0aGlzLmNoZWNrU2h1ZmZsZUFtb3VudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChzaHVmZmxlQ291bnQgPCBzaHVmZmxlQW1vdW50KSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2h1ZmZsZVNoZWxscygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmluZENsaWNrRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBtYWtlIHNoZWxscyBjbGlja2FibGUgdG8gc2VlIGlmIHRoZSBwbGF5ZXIgd29uXHJcbiAgICB0aGlzLmJpbmRDbGlja0V2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvcihpPTA7IGk8c2VsZi5zaGVsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc2VsZi5zaGVsbHNbaV0ub24oJ3BvaW50ZXJkb3duJywgc2VsZi5vblNoZWxsQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgIHNlbGYuc2hlbGxzW2ldLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi5zaGVsbHNbaV0uYnV0dG9uTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGlzYWJsZVNoZWxscyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvcihpPTA7IGk8c2VsZi5zaGVsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc2VsZi5zaGVsbHNbaV0uaW50ZXJhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2hlbGwgY2xpY2sgZXZlbnQgaGFuZGxlci4gY2hlY2tzIGlmIHdlIHdvbiBhbmQgZmlyZXMgY2FsbGJhY2tzXHJcbiAgICB0aGlzLm9uU2hlbGxDbGlja2VkID0gZnVuY3Rpb24oZXZlbnREYXRhKSB7XHJcbiAgICAgICAgc2VsZi5kaXNhYmxlU2hlbGxzKCk7XHJcbiAgICAgICAgc2VsZi5zaG93Q29pbigpO1xyXG4gICAgICAgIGlmIChldmVudERhdGEudGFyZ2V0ID09IHNlbGYuc2hlbGxzWzFdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYub25QbGF5ZXJXb24gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm9uUGxheWVyV29uKCk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYub25QbGF5ZXJMb3N0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vblBsYXllckxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJvYXJkO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJlL1UrOTdcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9nYW1lXFxcXEJvYXJkLmpzXCIsXCIvZ2FtZVwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbnZhciBQSVhJID0gcmVxdWlyZShcIi4uL2RlcGVuZGVuY2llcy9waXhpLm1pblwiKTtcclxudmFyIFV0aWxzID0gcmVxdWlyZShcIi4uL2Jhc2UvVXRpbHNcIik7XHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiAqIEJhc2ljIEdVSSBjbGFzcyB0byBoYW5kbGUgVUkgZmVlZGJhY2sgdG8gdGhlIHBsYXllclxyXG4gKi9cclxudmFyIEdVSSA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHdvblRleHQgPSBuZXcgUElYSS5UZXh0KFwiWW91IHdvbiFcIik7XHJcbiAgICB2YXIgbG9zdFRleHQgPSBuZXcgUElYSS5UZXh0KFwiWW91IGxvc3QhXCIpO1xyXG5cclxuICAgIHRoaXMuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB3b25UZXh0LnggPSBVdGlscy5kaXNwbGF5V2lkdGggKiAwLjU7XHJcbiAgICAgICAgd29uVGV4dC55ID0gVXRpbHMuZGlzcGxheUhlaWdodCAqIDAuNTtcclxuICAgICAgICB3b25UZXh0LnZpc2libGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbG9zdFRleHQueCA9IFV0aWxzLmRpc3BsYXlXaWR0aCAqIDAuNTtcclxuICAgICAgICBsb3N0VGV4dC55ID0gVXRpbHMuZGlzcGxheUhlaWdodCAqIDAuNTtcclxuICAgICAgICBsb3N0VGV4dC52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh3b25UZXh0KTtcclxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQobG9zdFRleHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNob3dQbGF5ZXJXb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB3b25UZXh0LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5oaWRlQWxsLCAyMDAwKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zaG93UGxheWVyTG9zdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxvc3RUZXh0LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHNldFRpbWVvdXQoc2VsZi5oaWRlQWxsLCAyMDAwKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5oaWRlQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgd29uVGV4dC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgbG9zdFRleHQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBHVUk7XG59KS5jYWxsKHRoaXMscmVxdWlyZShcImUvVSs5N1wiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL2dhbWVcXFxcR1VJLmpzXCIsXCIvZ2FtZVwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbnZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbjsoZnVuY3Rpb24gKGV4cG9ydHMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG4gIHZhciBBcnIgPSAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKVxuICAgID8gVWludDhBcnJheVxuICAgIDogQXJyYXlcblxuXHR2YXIgUExVUyAgID0gJysnLmNoYXJDb2RlQXQoMClcblx0dmFyIFNMQVNIICA9ICcvJy5jaGFyQ29kZUF0KDApXG5cdHZhciBOVU1CRVIgPSAnMCcuY2hhckNvZGVBdCgwKVxuXHR2YXIgTE9XRVIgID0gJ2EnLmNoYXJDb2RlQXQoMClcblx0dmFyIFVQUEVSICA9ICdBJy5jaGFyQ29kZUF0KDApXG5cdHZhciBQTFVTX1VSTF9TQUZFID0gJy0nLmNoYXJDb2RlQXQoMClcblx0dmFyIFNMQVNIX1VSTF9TQUZFID0gJ18nLmNoYXJDb2RlQXQoMClcblxuXHRmdW5jdGlvbiBkZWNvZGUgKGVsdCkge1xuXHRcdHZhciBjb2RlID0gZWx0LmNoYXJDb2RlQXQoMClcblx0XHRpZiAoY29kZSA9PT0gUExVUyB8fFxuXHRcdCAgICBjb2RlID09PSBQTFVTX1VSTF9TQUZFKVxuXHRcdFx0cmV0dXJuIDYyIC8vICcrJ1xuXHRcdGlmIChjb2RlID09PSBTTEFTSCB8fFxuXHRcdCAgICBjb2RlID09PSBTTEFTSF9VUkxfU0FGRSlcblx0XHRcdHJldHVybiA2MyAvLyAnLydcblx0XHRpZiAoY29kZSA8IE5VTUJFUilcblx0XHRcdHJldHVybiAtMSAvL25vIG1hdGNoXG5cdFx0aWYgKGNvZGUgPCBOVU1CRVIgKyAxMClcblx0XHRcdHJldHVybiBjb2RlIC0gTlVNQkVSICsgMjYgKyAyNlxuXHRcdGlmIChjb2RlIDwgVVBQRVIgKyAyNilcblx0XHRcdHJldHVybiBjb2RlIC0gVVBQRVJcblx0XHRpZiAoY29kZSA8IExPV0VSICsgMjYpXG5cdFx0XHRyZXR1cm4gY29kZSAtIExPV0VSICsgMjZcblx0fVxuXG5cdGZ1bmN0aW9uIGI2NFRvQnl0ZUFycmF5IChiNjQpIHtcblx0XHR2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuXG5cdFx0aWYgKGI2NC5sZW5ndGggJSA0ID4gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Jylcblx0XHR9XG5cblx0XHQvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuXHRcdC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcblx0XHQvLyByZXByZXNlbnQgb25lIGJ5dGVcblx0XHQvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcblx0XHQvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG5cdFx0dmFyIGxlbiA9IGI2NC5sZW5ndGhcblx0XHRwbGFjZUhvbGRlcnMgPSAnPScgPT09IGI2NC5jaGFyQXQobGVuIC0gMikgPyAyIDogJz0nID09PSBiNjQuY2hhckF0KGxlbiAtIDEpID8gMSA6IDBcblxuXHRcdC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuXHRcdGFyciA9IG5ldyBBcnIoYjY0Lmxlbmd0aCAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXG5cdFx0Ly8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuXHRcdGwgPSBwbGFjZUhvbGRlcnMgPiAwID8gYjY0Lmxlbmd0aCAtIDQgOiBiNjQubGVuZ3RoXG5cblx0XHR2YXIgTCA9IDBcblxuXHRcdGZ1bmN0aW9uIHB1c2ggKHYpIHtcblx0XHRcdGFycltMKytdID0gdlxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTgpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgMTIpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAyKSkgPDwgNikgfCBkZWNvZGUoYjY0LmNoYXJBdChpICsgMykpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDAwMCkgPj4gMTYpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDApID4+IDgpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fVxuXG5cdFx0aWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuXHRcdFx0dG1wID0gKGRlY29kZShiNjQuY2hhckF0KGkpKSA8PCAyKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpID4+IDQpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fSBlbHNlIGlmIChwbGFjZUhvbGRlcnMgPT09IDEpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTApIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgNCkgfCAoZGVjb2RlKGI2NC5jaGFyQXQoaSArIDIpKSA+PiAyKVxuXHRcdFx0cHVzaCgodG1wID4+IDgpICYgMHhGRilcblx0XHRcdHB1c2godG1wICYgMHhGRilcblx0XHR9XG5cblx0XHRyZXR1cm4gYXJyXG5cdH1cblxuXHRmdW5jdGlvbiB1aW50OFRvQmFzZTY0ICh1aW50OCkge1xuXHRcdHZhciBpLFxuXHRcdFx0ZXh0cmFCeXRlcyA9IHVpbnQ4Lmxlbmd0aCAlIDMsIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG5cdFx0XHRvdXRwdXQgPSBcIlwiLFxuXHRcdFx0dGVtcCwgbGVuZ3RoXG5cblx0XHRmdW5jdGlvbiBlbmNvZGUgKG51bSkge1xuXHRcdFx0cmV0dXJuIGxvb2t1cC5jaGFyQXQobnVtKVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKG51bSA+PiAxOCAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiAxMiAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiA2ICYgMHgzRikgKyBlbmNvZGUobnVtICYgMHgzRilcblx0XHR9XG5cblx0XHQvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG5cdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdWludDgubGVuZ3RoIC0gZXh0cmFCeXRlczsgaSA8IGxlbmd0aDsgaSArPSAzKSB7XG5cdFx0XHR0ZW1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuXHRcdFx0b3V0cHV0ICs9IHRyaXBsZXRUb0Jhc2U2NCh0ZW1wKVxuXHRcdH1cblxuXHRcdC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcblx0XHRzd2l0Y2ggKGV4dHJhQnl0ZXMpIHtcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0dGVtcCA9IHVpbnQ4W3VpbnQ4Lmxlbmd0aCAtIDFdXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUodGVtcCA+PiAyKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wIDw8IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9ICc9PSdcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGVtcCA9ICh1aW50OFt1aW50OC5sZW5ndGggLSAyXSA8PCA4KSArICh1aW50OFt1aW50OC5sZW5ndGggLSAxXSlcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSh0ZW1wID4+IDEwKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wID4+IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA8PCAyKSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSAnPSdcblx0XHRcdFx0YnJlYWtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH1cblxuXHRleHBvcnRzLnRvQnl0ZUFycmF5ID0gYjY0VG9CeXRlQXJyYXlcblx0ZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gdWludDhUb0Jhc2U2NFxufSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyAodGhpcy5iYXNlNjRqcyA9IHt9KSA6IGV4cG9ydHMpKVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImUvVSs5N1wiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiLy4uXFxcXC4uXFxcXG5vZGVfbW9kdWxlc1xcXFxiYXNlNjQtanNcXFxcbGliXFxcXGI2NC5qc1wiLFwiLy4uXFxcXC4uXFxcXG5vZGVfbW9kdWxlc1xcXFxiYXNlNjQtanNcXFxcbGliXCIpIiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCxCdWZmZXIsX19hcmd1bWVudDAsX19hcmd1bWVudDEsX19hcmd1bWVudDIsX19hcmd1bWVudDMsX19maWxlbmFtZSxfX2Rpcm5hbWUpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuQnVmZmVyLnBvb2xTaXplID0gODE5MlxuXG4vKipcbiAqIElmIGBCdWZmZXIuX3VzZVR5cGVkQXJyYXlzYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKGNvbXBhdGlibGUgZG93biB0byBJRTYpXG4gKi9cbkJ1ZmZlci5fdXNlVHlwZWRBcnJheXMgPSAoZnVuY3Rpb24gKCkge1xuICAvLyBEZXRlY3QgaWYgYnJvd3NlciBzdXBwb3J0cyBUeXBlZCBBcnJheXMuIFN1cHBvcnRlZCBicm93c2VycyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLFxuICAvLyBDaHJvbWUgNyssIFNhZmFyaSA1LjErLCBPcGVyYSAxMS42KywgaU9TIDQuMisuIElmIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYWRkaW5nXG4gIC8vIHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcywgdGhlbiB0aGF0J3MgdGhlIHNhbWUgYXMgbm8gYFVpbnQ4QXJyYXlgIHN1cHBvcnRcbiAgLy8gYmVjYXVzZSB3ZSBuZWVkIHRvIGJlIGFibGUgdG8gYWRkIGFsbCB0aGUgbm9kZSBCdWZmZXIgQVBJIG1ldGhvZHMuIFRoaXMgaXMgYW4gaXNzdWVcbiAgLy8gaW4gRmlyZWZveCA0LTI5LiBOb3cgZml4ZWQ6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOFxuICB0cnkge1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIGFyci5mb28gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9XG4gICAgcmV0dXJuIDQyID09PSBhcnIuZm9vKCkgJiZcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAvLyBDaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59KSgpXG5cbi8qKlxuICogQ2xhc3M6IEJ1ZmZlclxuICogPT09PT09PT09PT09PVxuICpcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgYXJlIGF1Z21lbnRlZFxuICogd2l0aCBmdW5jdGlvbiBwcm9wZXJ0aWVzIGZvciBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgQVBJIGZ1bmN0aW9ucy4gV2UgdXNlXG4gKiBgVWludDhBcnJheWAgc28gdGhhdCBzcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdCByZXR1cm5zXG4gKiBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBCeSBhdWdtZW50aW5nIHRoZSBpbnN0YW5jZXMsIHdlIGNhbiBhdm9pZCBtb2RpZnlpbmcgdGhlIGBVaW50OEFycmF5YFxuICogcHJvdG90eXBlLlxuICovXG5mdW5jdGlvbiBCdWZmZXIgKHN1YmplY3QsIGVuY29kaW5nLCBub1plcm8pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpXG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcsIG5vWmVybylcblxuICB2YXIgdHlwZSA9IHR5cGVvZiBzdWJqZWN0XG5cbiAgLy8gV29ya2Fyb3VuZDogbm9kZSdzIGJhc2U2NCBpbXBsZW1lbnRhdGlvbiBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgc3RyaW5nc1xuICAvLyB3aGlsZSBiYXNlNjQtanMgZG9lcyBub3QuXG4gIGlmIChlbmNvZGluZyA9PT0gJ2Jhc2U2NCcgJiYgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBzdWJqZWN0ID0gc3RyaW5ndHJpbShzdWJqZWN0KVxuICAgIHdoaWxlIChzdWJqZWN0Lmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICAgIHN1YmplY3QgPSBzdWJqZWN0ICsgJz0nXG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCB0aGUgbGVuZ3RoXG4gIHZhciBsZW5ndGhcbiAgaWYgKHR5cGUgPT09ICdudW1iZXInKVxuICAgIGxlbmd0aCA9IGNvZXJjZShzdWJqZWN0KVxuICBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJylcbiAgICBsZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChzdWJqZWN0LCBlbmNvZGluZylcbiAgZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpXG4gICAgbGVuZ3RoID0gY29lcmNlKHN1YmplY3QubGVuZ3RoKSAvLyBhc3N1bWUgdGhhdCBvYmplY3QgaXMgYXJyYXktbGlrZVxuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCBuZWVkcyB0byBiZSBhIG51bWJlciwgYXJyYXkgb3Igc3RyaW5nLicpXG5cbiAgdmFyIGJ1ZlxuICBpZiAoQnVmZmVyLl91c2VUeXBlZEFycmF5cykge1xuICAgIC8vIFByZWZlcnJlZDogUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICBidWYgPSBCdWZmZXIuX2F1Z21lbnQobmV3IFVpbnQ4QXJyYXkobGVuZ3RoKSlcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIFRISVMgaW5zdGFuY2Ugb2YgQnVmZmVyIChjcmVhdGVkIGJ5IGBuZXdgKVxuICAgIGJ1ZiA9IHRoaXNcbiAgICBidWYubGVuZ3RoID0gbGVuZ3RoXG4gICAgYnVmLl9pc0J1ZmZlciA9IHRydWVcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChCdWZmZXIuX3VzZVR5cGVkQXJyYXlzICYmIHR5cGVvZiBzdWJqZWN0LmJ5dGVMZW5ndGggPT09ICdudW1iZXInKSB7XG4gICAgLy8gU3BlZWQgb3B0aW1pemF0aW9uIC0tIHVzZSBzZXQgaWYgd2UncmUgY29weWluZyBmcm9tIGEgdHlwZWQgYXJyYXlcbiAgICBidWYuX3NldChzdWJqZWN0KVxuICB9IGVsc2UgaWYgKGlzQXJyYXlpc2goc3ViamVjdCkpIHtcbiAgICAvLyBUcmVhdCBhcnJheS1pc2ggb2JqZWN0cyBhcyBhIGJ5dGUgYXJyYXlcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoc3ViamVjdCkpXG4gICAgICAgIGJ1ZltpXSA9IHN1YmplY3QucmVhZFVJbnQ4KGkpXG4gICAgICBlbHNlXG4gICAgICAgIGJ1ZltpXSA9IHN1YmplY3RbaV1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBidWYud3JpdGUoc3ViamVjdCwgMCwgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgIUJ1ZmZlci5fdXNlVHlwZWRBcnJheXMgJiYgIW5vWmVybykge1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgYnVmW2ldID0gMFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWZcbn1cblxuLy8gU1RBVElDIE1FVEhPRFNcbi8vID09PT09PT09PT09PT09XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICdyYXcnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiAoYikge1xuICByZXR1cm4gISEoYiAhPT0gbnVsbCAmJiBiICE9PSB1bmRlZmluZWQgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gZnVuY3Rpb24gKHN0ciwgZW5jb2RpbmcpIHtcbiAgdmFyIHJldFxuICBzdHIgPSBzdHIgKyAnJ1xuICBzd2l0Y2ggKGVuY29kaW5nIHx8ICd1dGY4Jykge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgICByZXQgPSBzdHIubGVuZ3RoIC8gMlxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgICByZXQgPSB1dGY4VG9CeXRlcyhzdHIpLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdyYXcnOlxuICAgICAgcmV0ID0gc3RyLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gYmFzZTY0VG9CeXRlcyhzdHIpLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0ID0gc3RyLmxlbmd0aCAqIDJcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBlbmNvZGluZycpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gKGxpc3QsIHRvdGFsTGVuZ3RoKSB7XG4gIGFzc2VydChpc0FycmF5KGxpc3QpLCAnVXNhZ2U6IEJ1ZmZlci5jb25jYXQobGlzdCwgW3RvdGFsTGVuZ3RoXSlcXG4nICtcbiAgICAgICdsaXN0IHNob3VsZCBiZSBhbiBBcnJheS4nKVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKDApXG4gIH0gZWxzZSBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gbGlzdFswXVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB0b3RhbExlbmd0aCAhPT0gJ251bWJlcicpIHtcbiAgICB0b3RhbExlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdG90YWxMZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcih0b3RhbExlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV1cbiAgICBpdGVtLmNvcHkoYnVmLCBwb3MpXG4gICAgcG9zICs9IGl0ZW0ubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG4vLyBCVUZGRVIgSU5TVEFOQ0UgTUVUSE9EU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gX2hleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgYXNzZXJ0KHN0ckxlbiAlIDIgPT09IDAsICdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYnl0ZSA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBhc3NlcnQoIWlzTmFOKGJ5dGUpLCAnSW52YWxpZCBoZXggc3RyaW5nJylcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlXG4gIH1cbiAgQnVmZmVyLl9jaGFyc1dyaXR0ZW4gPSBpICogMlxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBfdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgdmFyIGNoYXJzV3JpdHRlbiA9IEJ1ZmZlci5fY2hhcnNXcml0dGVuID1cbiAgICBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuZnVuY3Rpb24gX2FzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICB2YXIgY2hhcnNXcml0dGVuID0gQnVmZmVyLl9jaGFyc1dyaXR0ZW4gPVxuICAgIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuZnVuY3Rpb24gX2JpbmFyeVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIF9hc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gX2Jhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgdmFyIGNoYXJzV3JpdHRlbiA9IEJ1ZmZlci5fY2hhcnNXcml0dGVuID1cbiAgICBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbiAgcmV0dXJuIGNoYXJzV3JpdHRlblxufVxuXG5mdW5jdGlvbiBfdXRmMTZsZVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgdmFyIGNoYXJzV3JpdHRlbiA9IEJ1ZmZlci5fY2hhcnNXcml0dGVuID1cbiAgICBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBTdXBwb3J0IGJvdGggKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKVxuICAvLyBhbmQgdGhlIGxlZ2FjeSAoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpXG4gIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgaWYgKCFpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2UgeyAgLy8gbGVnYWN5XG4gICAgdmFyIHN3YXAgPSBlbmNvZGluZ1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgb2Zmc2V0ID0gbGVuZ3RoXG4gICAgbGVuZ3RoID0gc3dhcFxuICB9XG5cbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZyB8fCAndXRmOCcpLnRvTG93ZXJDYXNlKClcblxuICB2YXIgcmV0XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgICAgcmV0ID0gX2hleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIHJldCA9IF91dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXNjaWknOlxuICAgICAgcmV0ID0gX2FzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgIHJldCA9IF9iaW5hcnlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gX2Jhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXQgPSBfdXRmMTZsZVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2RpbmcnKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZyB8fCAndXRmOCcpLnRvTG93ZXJDYXNlKClcbiAgc3RhcnQgPSBOdW1iZXIoc3RhcnQpIHx8IDBcbiAgZW5kID0gKGVuZCAhPT0gdW5kZWZpbmVkKVxuICAgID8gTnVtYmVyKGVuZClcbiAgICA6IGVuZCA9IHNlbGYubGVuZ3RoXG5cbiAgLy8gRmFzdHBhdGggZW1wdHkgc3RyaW5nc1xuICBpZiAoZW5kID09PSBzdGFydClcbiAgICByZXR1cm4gJydcblxuICB2YXIgcmV0XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgICAgcmV0ID0gX2hleFNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIHJldCA9IF91dGY4U2xpY2Uoc2VsZiwgc3RhcnQsIGVuZClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXNjaWknOlxuICAgICAgcmV0ID0gX2FzY2lpU2xpY2Uoc2VsZiwgc3RhcnQsIGVuZClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgIHJldCA9IF9iaW5hcnlTbGljZShzZWxmLCBzdGFydCwgZW5kKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gX2Jhc2U2NFNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXQgPSBfdXRmMTZsZVNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2RpbmcnKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKHRhcmdldCwgdGFyZ2V0X3N0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzXG5cbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKCF0YXJnZXRfc3RhcnQpIHRhcmdldF9zdGFydCA9IDBcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVyblxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCBzb3VyY2UubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGFzc2VydChlbmQgPj0gc3RhcnQsICdzb3VyY2VFbmQgPCBzb3VyY2VTdGFydCcpXG4gIGFzc2VydCh0YXJnZXRfc3RhcnQgPj0gMCAmJiB0YXJnZXRfc3RhcnQgPCB0YXJnZXQubGVuZ3RoLFxuICAgICAgJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBhc3NlcnQoc3RhcnQgPj0gMCAmJiBzdGFydCA8IHNvdXJjZS5sZW5ndGgsICdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgYXNzZXJ0KGVuZCA+PSAwICYmIGVuZCA8PSBzb3VyY2UubGVuZ3RoLCAnc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aClcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldF9zdGFydCA8IGVuZCAtIHN0YXJ0KVxuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRfc3RhcnQgKyBzdGFydFxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmIChsZW4gPCAxMDAgfHwgIUJ1ZmZlci5fdXNlVHlwZWRBcnJheXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRfc3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0Ll9zZXQodGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLCB0YXJnZXRfc3RhcnQpXG4gIH1cbn1cblxuZnVuY3Rpb24gX2Jhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBfdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJlcyA9ICcnXG4gIHZhciB0bXAgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBpZiAoYnVmW2ldIDw9IDB4N0YpIHtcbiAgICAgIHJlcyArPSBkZWNvZGVVdGY4Q2hhcih0bXApICsgU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gICAgICB0bXAgPSAnJ1xuICAgIH0gZWxzZSB7XG4gICAgICB0bXAgKz0gJyUnICsgYnVmW2ldLnRvU3RyaW5nKDE2KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXMgKyBkZWNvZGVVdGY4Q2hhcih0bXApXG59XG5cbmZ1bmN0aW9uIF9hc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKylcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gX2JpbmFyeVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIF9hc2NpaVNsaWNlKGJ1Ziwgc3RhcnQsIGVuZClcbn1cblxuZnVuY3Rpb24gX2hleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gX3V0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSsxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSBjbGFtcChzdGFydCwgbGVuLCAwKVxuICBlbmQgPSBjbGFtcChlbmQsIGxlbiwgbGVuKVxuXG4gIGlmIChCdWZmZXIuX3VzZVR5cGVkQXJyYXlzKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5fYXVnbWVudCh0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpKVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgdmFyIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZCwgdHJ1ZSlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyBpKyspIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgICByZXR1cm4gbmV3QnVmXG4gIH1cbn1cblxuLy8gYGdldGAgd2lsbCBiZSByZW1vdmVkIGluIE5vZGUgMC4xMytcbkJ1ZmZlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLmdldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMucmVhZFVJbnQ4KG9mZnNldClcbn1cblxuLy8gYHNldGAgd2lsbCBiZSByZW1vdmVkIGluIE5vZGUgMC4xMytcbkJ1ZmZlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHYsIG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMud3JpdGVVSW50OCh2LCBvZmZzZXQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbmZ1bmN0aW9uIF9yZWFkVUludDE2IChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDEgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgdmFyIHZhbFxuICBpZiAobGl0dGxlRW5kaWFuKSB7XG4gICAgdmFsID0gYnVmW29mZnNldF1cbiAgICBpZiAob2Zmc2V0ICsgMSA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMV0gPDwgOFxuICB9IGVsc2Uge1xuICAgIHZhbCA9IGJ1ZltvZmZzZXRdIDw8IDhcbiAgICBpZiAob2Zmc2V0ICsgMSA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMV1cbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDE2KHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDE2KHRoaXMsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiBfcmVhZFVJbnQzMiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWxcbiAgaWYgKGxpdHRsZUVuZGlhbikge1xuICAgIGlmIChvZmZzZXQgKyAyIDwgbGVuKVxuICAgICAgdmFsID0gYnVmW29mZnNldCArIDJdIDw8IDE2XG4gICAgaWYgKG9mZnNldCArIDEgPCBsZW4pXG4gICAgICB2YWwgfD0gYnVmW29mZnNldCArIDFdIDw8IDhcbiAgICB2YWwgfD0gYnVmW29mZnNldF1cbiAgICBpZiAob2Zmc2V0ICsgMyA8IGxlbilcbiAgICAgIHZhbCA9IHZhbCArIChidWZbb2Zmc2V0ICsgM10gPDwgMjQgPj4+IDApXG4gIH0gZWxzZSB7XG4gICAgaWYgKG9mZnNldCArIDEgPCBsZW4pXG4gICAgICB2YWwgPSBidWZbb2Zmc2V0ICsgMV0gPDwgMTZcbiAgICBpZiAob2Zmc2V0ICsgMiA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMl0gPDwgOFxuICAgIGlmIChvZmZzZXQgKyAzIDwgbGVuKVxuICAgICAgdmFsIHw9IGJ1ZltvZmZzZXQgKyAzXVxuICAgIHZhbCA9IHZhbCArIChidWZbb2Zmc2V0XSA8PCAyNCA+Pj4gMClcbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDMyKHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkVUludDMyKHRoaXMsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsXG4gICAgICAgICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICB2YXIgbmVnID0gdGhpc1tvZmZzZXRdICYgMHg4MFxuICBpZiAobmVnKVxuICAgIHJldHVybiAoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTFcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuZnVuY3Rpb24gX3JlYWRJbnQxNiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAxIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWwgPSBfcmVhZFVJbnQxNihidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCB0cnVlKVxuICB2YXIgbmVnID0gdmFsICYgMHg4MDAwXG4gIGlmIChuZWcpXG4gICAgcmV0dXJuICgweGZmZmYgLSB2YWwgKyAxKSAqIC0xXG4gIGVsc2VcbiAgICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWRJbnQxNih0aGlzLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkSW50MTYodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF9yZWFkSW50MzIgKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gbnVsbCwgJ21pc3Npbmcgb2Zmc2V0JylcbiAgICBhc3NlcnQob2Zmc2V0ICsgMyA8IGJ1Zi5sZW5ndGgsICdUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICB2YXIgdmFsID0gX3JlYWRVSW50MzIoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgdHJ1ZSlcbiAgdmFyIG5lZyA9IHZhbCAmIDB4ODAwMDAwMDBcbiAgaWYgKG5lZylcbiAgICByZXR1cm4gKDB4ZmZmZmZmZmYgLSB2YWwgKyAxKSAqIC0xXG4gIGVsc2VcbiAgICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWRJbnQzMih0aGlzLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIF9yZWFkSW50MzIodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF9yZWFkRmxvYXQgKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgcmV0dXJuIGllZWU3NTQucmVhZChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiBfcmVhZEZsb2F0KHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWRGbG9hdCh0aGlzLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gX3JlYWREb3VibGUgKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCArIDcgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgcmV0dXJuIGllZWU3NTQucmVhZChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWREb3VibGUodGhpcywgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gX3JlYWREb3VibGUodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwsICdtaXNzaW5nIHZhbHVlJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgPCB0aGlzLmxlbmd0aCwgJ3RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZ1aW50KHZhbHVlLCAweGZmKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aCkgcmV0dXJuXG5cbiAgdGhpc1tvZmZzZXRdID0gdmFsdWVcbn1cblxuZnVuY3Rpb24gX3dyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDEgPCBidWYubGVuZ3RoLCAndHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnVpbnQodmFsdWUsIDB4ZmZmZilcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4obGVuIC0gb2Zmc2V0LCAyKTsgaSA8IGo7IGkrKykge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9XG4gICAgICAgICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAgICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgX3dyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgX3dyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gX3dyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAndHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnVpbnQodmFsdWUsIDB4ZmZmZmZmZmYpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGxlbiAtIG9mZnNldCwgNCk7IGkgPCBqOyBpKyspIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPVxuICAgICAgICAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnNpbnQodmFsdWUsIDB4N2YsIC0weDgwKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICBpZiAodmFsdWUgPj0gMClcbiAgICB0aGlzLndyaXRlVUludDgodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpXG4gIGVsc2VcbiAgICB0aGlzLndyaXRlVUludDgoMHhmZiArIHZhbHVlICsgMSwgb2Zmc2V0LCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gX3dyaXRlSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwsICdtaXNzaW5nIHZhbHVlJylcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gbnVsbCwgJ21pc3Npbmcgb2Zmc2V0JylcbiAgICBhc3NlcnQob2Zmc2V0ICsgMSA8IGJ1Zi5sZW5ndGgsICdUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICAgIHZlcmlmc2ludCh2YWx1ZSwgMHg3ZmZmLCAtMHg4MDAwKVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWYgKHZhbHVlID49IDApXG4gICAgX3dyaXRlVUludDE2KGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydClcbiAgZWxzZVxuICAgIF93cml0ZVVJbnQxNihidWYsIDB4ZmZmZiArIHZhbHVlICsgMSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgX3dyaXRlSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiBfd3JpdGVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZzaW50KHZhbHVlLCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIGlmICh2YWx1ZSA+PSAwKVxuICAgIF93cml0ZVVJbnQzMihidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpXG4gIGVsc2VcbiAgICBfd3JpdGVVSW50MzIoYnVmLCAweGZmZmZmZmZmICsgdmFsdWUgKyAxLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF93cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZklFRUU3NTQodmFsdWUsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIF93cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIF93cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyA3IDwgYnVmLmxlbmd0aCxcbiAgICAgICAgJ1RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZJRUVFNzU0KHZhbHVlLCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICBfd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBmaWxsKHZhbHVlLCBzdGFydD0wLCBlbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXZhbHVlKSB2YWx1ZSA9IDBcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kKSBlbmQgPSB0aGlzLmxlbmd0aFxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5jaGFyQ29kZUF0KDApXG4gIH1cblxuICBhc3NlcnQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4odmFsdWUpLCAndmFsdWUgaXMgbm90IGEgbnVtYmVyJylcbiAgYXNzZXJ0KGVuZCA+PSBzdGFydCwgJ2VuZCA8IHN0YXJ0JylcblxuICAvLyBGaWxsIDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVyblxuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gIGFzc2VydChzdGFydCA+PSAwICYmIHN0YXJ0IDwgdGhpcy5sZW5ndGgsICdzdGFydCBvdXQgb2YgYm91bmRzJylcbiAgYXNzZXJ0KGVuZCA+PSAwICYmIGVuZCA8PSB0aGlzLmxlbmd0aCwgJ2VuZCBvdXQgb2YgYm91bmRzJylcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIHRoaXNbaV0gPSB2YWx1ZVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG91dCA9IFtdXG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgb3V0W2ldID0gdG9IZXgodGhpc1tpXSlcbiAgICBpZiAoaSA9PT0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUykge1xuICAgICAgb3V0W2kgKyAxXSA9ICcuLi4nXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIG91dC5qb2luKCcgJykgKyAnPidcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGBBcnJheUJ1ZmZlcmAgd2l0aCB0aGUgKmNvcGllZCogbWVtb3J5IG9mIHRoZSBidWZmZXIgaW5zdGFuY2UuXG4gKiBBZGRlZCBpbiBOb2RlIDAuMTIuIE9ubHkgYXZhaWxhYmxlIGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBBcnJheUJ1ZmZlci5cbiAqL1xuQnVmZmVyLnByb3RvdHlwZS50b0FycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKEJ1ZmZlci5fdXNlVHlwZWRBcnJheXMpIHtcbiAgICAgIHJldHVybiAobmV3IEJ1ZmZlcih0aGlzKSkuYnVmZmVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheSh0aGlzLmxlbmd0aClcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBidWYubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpXG4gICAgICAgIGJ1ZltpXSA9IHRoaXNbaV1cbiAgICAgIHJldHVybiBidWYuYnVmZmVyXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyLnRvQXJyYXlCdWZmZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICB9XG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxudmFyIEJQID0gQnVmZmVyLnByb3RvdHlwZVxuXG4vKipcbiAqIEF1Z21lbnQgYSBVaW50OEFycmF5ICppbnN0YW5jZSogKG5vdCB0aGUgVWludDhBcnJheSBjbGFzcyEpIHdpdGggQnVmZmVyIG1ldGhvZHNcbiAqL1xuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX2lzQnVmZmVyID0gdHJ1ZVxuXG4gIC8vIHNhdmUgcmVmZXJlbmNlIHRvIG9yaWdpbmFsIFVpbnQ4QXJyYXkgZ2V0L3NldCBtZXRob2RzIGJlZm9yZSBvdmVyd3JpdGluZ1xuICBhcnIuX2dldCA9IGFyci5nZXRcbiAgYXJyLl9zZXQgPSBhcnIuc2V0XG5cbiAgLy8gZGVwcmVjYXRlZCwgd2lsbCBiZSByZW1vdmVkIGluIG5vZGUgMC4xMytcbiAgYXJyLmdldCA9IEJQLmdldFxuICBhcnIuc2V0ID0gQlAuc2V0XG5cbiAgYXJyLndyaXRlID0gQlAud3JpdGVcbiAgYXJyLnRvU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvTG9jYWxlU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvSlNPTiA9IEJQLnRvSlNPTlxuICBhcnIuY29weSA9IEJQLmNvcHlcbiAgYXJyLnNsaWNlID0gQlAuc2xpY2VcbiAgYXJyLnJlYWRVSW50OCA9IEJQLnJlYWRVSW50OFxuICBhcnIucmVhZFVJbnQxNkxFID0gQlAucmVhZFVJbnQxNkxFXG4gIGFyci5yZWFkVUludDE2QkUgPSBCUC5yZWFkVUludDE2QkVcbiAgYXJyLnJlYWRVSW50MzJMRSA9IEJQLnJlYWRVSW50MzJMRVxuICBhcnIucmVhZFVJbnQzMkJFID0gQlAucmVhZFVJbnQzMkJFXG4gIGFyci5yZWFkSW50OCA9IEJQLnJlYWRJbnQ4XG4gIGFyci5yZWFkSW50MTZMRSA9IEJQLnJlYWRJbnQxNkxFXG4gIGFyci5yZWFkSW50MTZCRSA9IEJQLnJlYWRJbnQxNkJFXG4gIGFyci5yZWFkSW50MzJMRSA9IEJQLnJlYWRJbnQzMkxFXG4gIGFyci5yZWFkSW50MzJCRSA9IEJQLnJlYWRJbnQzMkJFXG4gIGFyci5yZWFkRmxvYXRMRSA9IEJQLnJlYWRGbG9hdExFXG4gIGFyci5yZWFkRmxvYXRCRSA9IEJQLnJlYWRGbG9hdEJFXG4gIGFyci5yZWFkRG91YmxlTEUgPSBCUC5yZWFkRG91YmxlTEVcbiAgYXJyLnJlYWREb3VibGVCRSA9IEJQLnJlYWREb3VibGVCRVxuICBhcnIud3JpdGVVSW50OCA9IEJQLndyaXRlVUludDhcbiAgYXJyLndyaXRlVUludDE2TEUgPSBCUC53cml0ZVVJbnQxNkxFXG4gIGFyci53cml0ZVVJbnQxNkJFID0gQlAud3JpdGVVSW50MTZCRVxuICBhcnIud3JpdGVVSW50MzJMRSA9IEJQLndyaXRlVUludDMyTEVcbiAgYXJyLndyaXRlVUludDMyQkUgPSBCUC53cml0ZVVJbnQzMkJFXG4gIGFyci53cml0ZUludDggPSBCUC53cml0ZUludDhcbiAgYXJyLndyaXRlSW50MTZMRSA9IEJQLndyaXRlSW50MTZMRVxuICBhcnIud3JpdGVJbnQxNkJFID0gQlAud3JpdGVJbnQxNkJFXG4gIGFyci53cml0ZUludDMyTEUgPSBCUC53cml0ZUludDMyTEVcbiAgYXJyLndyaXRlSW50MzJCRSA9IEJQLndyaXRlSW50MzJCRVxuICBhcnIud3JpdGVGbG9hdExFID0gQlAud3JpdGVGbG9hdExFXG4gIGFyci53cml0ZUZsb2F0QkUgPSBCUC53cml0ZUZsb2F0QkVcbiAgYXJyLndyaXRlRG91YmxlTEUgPSBCUC53cml0ZURvdWJsZUxFXG4gIGFyci53cml0ZURvdWJsZUJFID0gQlAud3JpdGVEb3VibGVCRVxuICBhcnIuZmlsbCA9IEJQLmZpbGxcbiAgYXJyLmluc3BlY3QgPSBCUC5pbnNwZWN0XG4gIGFyci50b0FycmF5QnVmZmVyID0gQlAudG9BcnJheUJ1ZmZlclxuXG4gIHJldHVybiBhcnJcbn1cblxuLy8gc2xpY2Uoc3RhcnQsIGVuZClcbmZ1bmN0aW9uIGNsYW1wIChpbmRleCwgbGVuLCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgaW5kZXggPSB+fmluZGV4OyAgLy8gQ29lcmNlIHRvIGludGVnZXIuXG4gIGlmIChpbmRleCA+PSBsZW4pIHJldHVybiBsZW5cbiAgaWYgKGluZGV4ID49IDApIHJldHVybiBpbmRleFxuICBpbmRleCArPSBsZW5cbiAgaWYgKGluZGV4ID49IDApIHJldHVybiBpbmRleFxuICByZXR1cm4gMFxufVxuXG5mdW5jdGlvbiBjb2VyY2UgKGxlbmd0aCkge1xuICAvLyBDb2VyY2UgbGVuZ3RoIHRvIGEgbnVtYmVyIChwb3NzaWJseSBOYU4pLCByb3VuZCB1cFxuICAvLyBpbiBjYXNlIGl0J3MgZnJhY3Rpb25hbCAoZS5nLiAxMjMuNDU2KSB0aGVuIGRvIGFcbiAgLy8gZG91YmxlIG5lZ2F0ZSB0byBjb2VyY2UgYSBOYU4gdG8gMC4gRWFzeSwgcmlnaHQ/XG4gIGxlbmd0aCA9IH5+TWF0aC5jZWlsKCtsZW5ndGgpXG4gIHJldHVybiBsZW5ndGggPCAwID8gMCA6IGxlbmd0aFxufVxuXG5mdW5jdGlvbiBpc0FycmF5IChzdWJqZWN0KSB7XG4gIHJldHVybiAoQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoc3ViamVjdCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViamVjdCkgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgfSkoc3ViamVjdClcbn1cblxuZnVuY3Rpb24gaXNBcnJheWlzaCAoc3ViamVjdCkge1xuICByZXR1cm4gaXNBcnJheShzdWJqZWN0KSB8fCBCdWZmZXIuaXNCdWZmZXIoc3ViamVjdCkgfHxcbiAgICAgIHN1YmplY3QgJiYgdHlwZW9mIHN1YmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICB0eXBlb2Ygc3ViamVjdC5sZW5ndGggPT09ICdudW1iZXInXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYiA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaWYgKGIgPD0gMHg3RilcbiAgICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHN0YXJ0ID0gaVxuICAgICAgaWYgKGIgPj0gMHhEODAwICYmIGIgPD0gMHhERkZGKSBpKytcbiAgICAgIHZhciBoID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0ci5zbGljZShzdGFydCwgaSsxKSkuc3Vic3RyKDEpLnNwbGl0KCclJylcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaC5sZW5ndGg7IGorKylcbiAgICAgICAgYnl0ZUFycmF5LnB1c2gocGFyc2VJbnQoaFtqXSwgMTYpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShzdHIpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICB2YXIgcG9zXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpXG4gICAgICBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGRlY29kZVV0ZjhDaGFyIChzdHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cilcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoMHhGRkZEKSAvLyBVVEYgOCBpbnZhbGlkIGNoYXJcbiAgfVxufVxuXG4vKlxuICogV2UgaGF2ZSB0byBtYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWUgaXMgYSB2YWxpZCBpbnRlZ2VyLiBUaGlzIG1lYW5zIHRoYXQgaXRcbiAqIGlzIG5vbi1uZWdhdGl2ZS4gSXQgaGFzIG5vIGZyYWN0aW9uYWwgY29tcG9uZW50IGFuZCB0aGF0IGl0IGRvZXMgbm90XG4gKiBleGNlZWQgdGhlIG1heGltdW0gYWxsb3dlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gdmVyaWZ1aW50ICh2YWx1ZSwgbWF4KSB7XG4gIGFzc2VydCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLCAnY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpXG4gIGFzc2VydCh2YWx1ZSA+PSAwLCAnc3BlY2lmaWVkIGEgbmVnYXRpdmUgdmFsdWUgZm9yIHdyaXRpbmcgYW4gdW5zaWduZWQgdmFsdWUnKVxuICBhc3NlcnQodmFsdWUgPD0gbWF4LCAndmFsdWUgaXMgbGFyZ2VyIHRoYW4gbWF4aW11bSB2YWx1ZSBmb3IgdHlwZScpXG4gIGFzc2VydChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUsICd2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudCcpXG59XG5cbmZ1bmN0aW9uIHZlcmlmc2ludCAodmFsdWUsIG1heCwgbWluKSB7XG4gIGFzc2VydCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLCAnY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpXG4gIGFzc2VydCh2YWx1ZSA8PSBtYXgsICd2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWUnKVxuICBhc3NlcnQodmFsdWUgPj0gbWluLCAndmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZScpXG4gIGFzc2VydChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUsICd2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudCcpXG59XG5cbmZ1bmN0aW9uIHZlcmlmSUVFRTc1NCAodmFsdWUsIG1heCwgbWluKSB7XG4gIGFzc2VydCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInLCAnY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpXG4gIGFzc2VydCh2YWx1ZSA8PSBtYXgsICd2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWUnKVxuICBhc3NlcnQodmFsdWUgPj0gbWluLCAndmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZScpXG59XG5cbmZ1bmN0aW9uIGFzc2VydCAodGVzdCwgbWVzc2FnZSkge1xuICBpZiAoIXRlc3QpIHRocm93IG5ldyBFcnJvcihtZXNzYWdlIHx8ICdGYWlsZWQgYXNzZXJ0aW9uJylcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJlL1UrOTdcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi8uLlxcXFwuLlxcXFxub2RlX21vZHVsZXNcXFxcYnVmZmVyXFxcXGluZGV4LmpzXCIsXCIvLi5cXFxcLi5cXFxcbm9kZV9tb2R1bGVzXFxcXGJ1ZmZlclwiKSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwsQnVmZmVyLF9fYXJndW1lbnQwLF9fYXJndW1lbnQxLF9fYXJndW1lbnQyLF9fYXJndW1lbnQzLF9fZmlsZW5hbWUsX19kaXJuYW1lKXtcbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSBtICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImUvVSs5N1wiKSx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiLy4uXFxcXC4uXFxcXG5vZGVfbW9kdWxlc1xcXFxpZWVlNzU0XFxcXGluZGV4LmpzXCIsXCIvLi5cXFxcLi5cXFxcbm9kZV9tb2R1bGVzXFxcXGllZWU3NTRcIikiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcixfX2FyZ3VtZW50MCxfX2FyZ3VtZW50MSxfX2FyZ3VtZW50MixfX2FyZ3VtZW50MyxfX2ZpbGVuYW1lLF9fZGlybmFtZSl7XG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5wcm9jZXNzLm5leHRUaWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FuU2V0SW1tZWRpYXRlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cuc2V0SW1tZWRpYXRlO1xuICAgIHZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cucG9zdE1lc3NhZ2UgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXJcbiAgICA7XG5cbiAgICBpZiAoY2FuU2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZikgeyByZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShmKSB9O1xuICAgIH1cblxuICAgIGlmIChjYW5Qb3N0KSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGV2LnNvdXJjZTtcbiAgICAgICAgICAgIGlmICgoc291cmNlID09PSB3aW5kb3cgfHwgc291cmNlID09PSBudWxsKSAmJiBldi5kYXRhID09PSAncHJvY2Vzcy10aWNrJykge1xuICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZm4pO1xuICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKCdwcm9jZXNzLXRpY2snLCAnKicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICB9O1xufSkoKTtcblxucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJlL1UrOTdcIiksdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9LHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi8uLlxcXFwuLlxcXFxub2RlX21vZHVsZXNcXFxccHJvY2Vzc1xcXFxicm93c2VyLmpzXCIsXCIvLi5cXFxcLi5cXFxcbm9kZV9tb2R1bGVzXFxcXHByb2Nlc3NcIikiXX0=
